
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>命令行接口 · EMQ X 使用文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="EMQX Team">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-simpletabs/tabs.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-cuav-chapters/cuav-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="http-api.html" />
    
    
    <link rel="prev" href="retransmission.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">概览</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    EMQ X 消息服务器简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/checklist.html">
            
                <a href="../introduction/checklist.html">
            
                    
                    EMQ X 消息服务器功能列表
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">开始使用</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../getting-started/install.html">
            
                <a href="../getting-started/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../getting-started/start.html">
            
                <a href="../getting-started/start.html">
            
                    
                    启动 EMQ X
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../getting-started/command-line.html">
            
                <a href="../getting-started/command-line.html">
            
                    
                    基本命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../getting-started/directory.html">
            
                <a href="../getting-started/directory.html">
            
                    
                    目录结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../getting-started/config.html">
            
                <a href="../getting-started/config.html">
            
                    
                    配置说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../getting-started/log.html">
            
                <a href="../getting-started/log.html">
            
                    
                    日志与追踪
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../getting-started/dashboard.html">
            
                <a href="../getting-started/dashboard.html">
            
                    
                    Dashboard
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">基础功能</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="retained.html">
            
                <a href="retained.html">
            
                    
                    保留消息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="shared-subscriptions.html">
            
                <a href="shared-subscriptions.html">
            
                    
                    共享订阅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="delay-publish.html">
            
                <a href="delay-publish.html">
            
                    
                    延迟发布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="proxy-subscriptions.html">
            
                <a href="proxy-subscriptions.html">
            
                    
                    代理订阅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="bridge.html">
            
                <a href="bridge.html">
            
                    
                    消息桥接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="topic-rewrite.html">
            
                <a href="topic-rewrite.html">
            
                    
                    主题重写
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="system-topic.html">
            
                <a href="system-topic.html">
            
                    
                    $SYS 系统主题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="blacklist.html">
            
                <a href="blacklist.html">
            
                    
                    黑名单
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">认证</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="auth.html">
            
                <a href="auth.html">
            
                    
                    认证简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="auth-username.html">
            
                <a href="auth-username.html">
            
                    
                    Username 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="auth-clientid.html">
            
                <a href="auth-clientid.html">
            
                    
                    Cliend ID 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="auth-http.html">
            
                <a href="auth-http.html">
            
                    
                    HTTP 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="auth-jwt.html">
            
                <a href="auth-jwt.html">
            
                    
                    JWT 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="auth-ldap.html">
            
                <a href="auth-ldap.html">
            
                    
                    LDAP 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="auth-mysql.html">
            
                <a href="auth-mysql.html">
            
                    
                    MySQL 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="auth-postgresql.html">
            
                <a href="auth-postgresql.html">
            
                    
                    PostgreSQL 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="auth-redis.html">
            
                <a href="auth-redis.html">
            
                    
                    Redis 认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="auth-mongodb.html">
            
                <a href="auth-mongodb.html">
            
                    
                    MongoDB 认证
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">发布订阅 ACL</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="acl.html">
            
                <a href="acl.html">
            
                    
                    发布订阅 ACL 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="acl-file.html">
            
                <a href="acl-file.html">
            
                    
                    内置 ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="acl-http.html">
            
                <a href="acl-http.html">
            
                    
                    HTTP ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="acl-mysql.html">
            
                <a href="acl-mysql.html">
            
                    
                    MySQL ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="acl-postgres.html">
            
                <a href="acl-postgres.html">
            
                    
                    PostgreSQL ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="acl-redis.html">
            
                <a href="acl-redis.html">
            
                    
                    Redis ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="acl-mongodb.html">
            
                <a href="acl-mongodb.html">
            
                    
                    MongoDB ACL
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">高级功能</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="webhook.html">
            
                <a href="webhook.html">
            
                    
                    WebHook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="cluster.html">
            
                <a href="cluster.html">
            
                    
                    分布集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="hooks.html">
            
                <a href="hooks.html">
            
                    
                    钩子
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="plugins.html">
            
                <a href="plugins.html">
            
                    
                    插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="multiple-language-support.html">
            
                <a href="multiple-language-support.html">
            
                    
                    多语言支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="metrics-and-stats.html">
            
                <a href="metrics-and-stats.html">
            
                    
                    指标监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="rate-limit.html">
            
                <a href="rate-limit.html">
            
                    
                    速率限制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="inflight-window-and-message-queue.html">
            
                <a href="inflight-window-and-message-queue.html">
            
                    
                    飞行窗口与消息队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="retransmission.html">
            
                <a href="retransmission.html">
            
                    
                    消息重传
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="6.10" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                    命令行接口
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">管理监控 API</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="http-api.html">
            
                <a href="http-api.html">
            
                    
                    管理监控 API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-brokers">
            
                    
                    基本信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-nodes">
            
                    
                    节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-clients">
            
                    
                    客户端
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-subscriptions">
            
                    
                    订阅信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-routes">
            
                    
                    路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-publish">
            
                    
                    消息发布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-subscribe">
            
                    
                    主题订阅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.9" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-plugins">
            
                    
                    插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.10" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-listeners">
            
                    
                    监听器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.11" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-metrics">
            
                    
                    统计指标
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.12" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-stats">
            
                    
                    状态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.13" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-alarms">
            
                    
                    告警
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.14" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-banned">
            
                    
                    黑名单
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.15" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-rules">
            
                    
                    规则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.16" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-actions">
            
                    
                    动作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.17" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-resource-types">
            
                    
                    资源类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.18" data-path="http-api.html">
            
                <a href="http-api.html#endpoint-resources">
            
                    
                    资源
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">规则引擎</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../rule/rule-engine.html">
            
                <a href="../rule/rule-engine.html">
            
                    
                    规则引擎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../rule/rule-create.html">
            
                <a href="../rule/rule-create.html">
            
                    
                    创建规则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html">
            
                    
                    空动作 (调试)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#发送数据到-web-服务">
            
                    
                    发送数据到 Web 服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#桥接数据到-mqtt-broker">
            
                    
                    桥接数据到 MQTT Broker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-mysql">
            
                    
                    保存数据到 MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-postgresql">
            
                    
                    保存数据到 PostgreSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.8" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-cassandra">
            
                    
                    保存数据到 Cassandra
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.9" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-mongodb">
            
                    
                    保存数据到 MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.10" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-dynamodb">
            
                    
                    保存数据到 DynamoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.11" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-redis">
            
                    
                    保存数据到 Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.12" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-opentsdb">
            
                    
                    保存数据到 OpenTSDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.13" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-timescaledb">
            
                    
                    保存数据到 TimescaleDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.14" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#保存数据到-influxdb">
            
                    
                    保存数据到 InfluxDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.15" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#桥接数据到-kafka">
            
                    
                    桥接数据到 Kafka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.16" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#桥接数据到-pulsar">
            
                    
                    桥接数据到 Pulsar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.17" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#桥接数据到-rocketmq">
            
                    
                    桥接数据到 RocketMQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.18" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#桥接数据到-rabbitmq">
            
                    
                    桥接数据到 RabbitMQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.19" data-path="../rule/rule-example.html">
            
                <a href="../rule/rule-example.html#桥接数据到-rpc-服务">
            
                    
                    桥接数据到 RPC 服务
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">数据存储</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html">
            
                    
                    数据存储设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#redis-数据存储">
            
                    
                    Redis 数据存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#mysql-数据存储">
            
                    
                    MySQL 数据存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#postgresql-数据存储">
            
                    
                    PostgreSQL 数据存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#mongodb-消息存储">
            
                    
                    MongoDB 消息存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.6" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#cassandra-消息存储">
            
                    
                    Cassandra 消息存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.7" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#dynamodb-消息存储">
            
                    
                    DynamoDB 消息存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.8" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#influxdb-消息存储">
            
                    
                    InfluxDB 消息存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.9" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#opentsdb-消息存储">
            
                    
                    OpenTSDB 消息存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.10" data-path="../backend/backend.html">
            
                <a href="../backend/backend.html#timescale-消息存储">
            
                    
                    Timescale 消息存储
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">消息桥接</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../bridge/bridge.html">
            
                <a href="../bridge/bridge.html#mqtt-桥接">
            
                    
                    MQTT 桥接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="../bridge/bridge.html">
            
                <a href="../bridge/bridge.html#rpc-桥接">
            
                    
                    RPC 桥接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="../bridge/bridge.html">
            
                <a href="../bridge/bridge.html#kafka-桥接">
            
                    
                    Kafka 桥接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="../bridge/bridge.html">
            
                <a href="../bridge/bridge.html#rabbitmq-桥接">
            
                    
                    RabbitMQ 桥接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="../bridge/bridge.html">
            
                <a href="../bridge/bridge.html#pulsar-桥接">
            
                    
                    Pulsar 桥接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.6" data-path="../bridge/bridge.html">
            
                <a href="../bridge/bridge.html#rocketmq-桥接">
            
                    
                    RocketMQ 桥接
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">进阶教程</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="../tutorial/device-management.html">
            
                <a href="../tutorial/device-management.html">
            
                    
                    设备管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../tutorial/turn.html">
            
                <a href="../tutorial/turn.html">
            
                    
                    系统调优
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="../tutorial/deploy.html">
            
                <a href="../tutorial/deploy.html">
            
                    
                    生产部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="../tutorial/prometheus.html">
            
                <a href="../tutorial/prometheus.html">
            
                    
                    Prometheus 监控告警
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="../tutorial/benchmark.html">
            
                <a href="../tutorial/benchmark.html">
            
                    
                    性能测试
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">SDK & Tools</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="../development/client.html">
            
                <a href="../development/client.html">
            
                    
                    MQTT 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="../development/c.html">
            
                <a href="../development/c.html">
            
                    
                    MQTT C 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="../development/java.html">
            
                <a href="../development/java.html">
            
                    
                    MQTT Java 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.4" data-path="../development/go.html">
            
                <a href="../development/go.html">
            
                    
                    MQTT Go 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.5" data-path="../development/erlang.html">
            
                <a href="../development/erlang.html">
            
                    
                    MQTT Erlang 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.6" data-path="../development/javascript.html">
            
                <a href="../development/javascript.html">
            
                    
                    MQTT JavaScript 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.7" data-path="../development/python.html">
            
                <a href="../development/python.html">
            
                    
                    MQTT Python 客户端库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.8" data-path="../development/resource.html">
            
                <a href="../development/resource.html">
            
                    
                    其他资源
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">FAQ</li>
        
        
    
        <li class="chapter " data-level="13.1" data-path="../faq/faq.html">
            
                <a href="../faq/faq.html">
            
                    
                    入门概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="../faq/use-guide.html">
            
                <a href="../faq/use-guide.html">
            
                    
                    使用教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="../faq/deployment.html">
            
                <a href="../faq/deployment.html">
            
                    
                    安装部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="../faq/error.html">
            
                <a href="../faq/error.html">
            
                    
                    常见错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.5" data-path="../faq/enterprise.html">
            
                <a href="../faq/enterprise.html">
            
                    
                    商业服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.6" data-path="../faq/tags.html">
            
                <a href="../faq/tags.html">
            
                    
                    FAQ 标签
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">版本发布</li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="../changes/changes.html">
            
                <a href="../changes/changes.html">
            
                    
                    变更日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="../changes/upgrade.html">
            
                <a href="../changes/upgrade.html">
            
                    
                    升级指南
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">相关资料</li>
        
        
    
        <li class="chapter " data-level="15.1" data-path="../design/design.html">
            
                <a href="../design/design.html">
            
                    
                    架构设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="../awesome/awesome.html">
            
                <a href="../awesome/awesome.html">
            
                    
                    相关资料
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >命令行接口</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;"><b></b>&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;</a></li><ul><li><span class="title-icon "></span><a href="#status-&#x547D;&#x4EE4;"><b></b>status &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#mgmt-&#x547D;&#x4EE4;"><b></b>mgmt &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#mgmt-list"><b></b>mgmt list</a></li><li><span class="title-icon "></span><a href="#mgmt-insert--"><b></b>mgmt insert  </a></li><li><span class="title-icon "></span><a href="#mgmt-update--"><b></b>mgmt update  </a></li><li><span class="title-icon "></span><a href="#mgmt-lookup-"><b></b>mgmt lookup </a></li><li><span class="title-icon "></span><a href="#mgmt-delete-"><b></b>mgmt delete </a></li></ul><li><span class="title-icon "></span><a href="#broker-&#x547D;&#x4EE4;"><b></b>broker &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#broker-stats"><b></b>broker stats</a></li><li><span class="title-icon "></span><a href="#broker-metrics"><b></b>broker metrics</a></li></ul><li><span class="title-icon "></span><a href="#cluster-&#x547D;&#x4EE4;"><b></b>cluster &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#acl-&#x547D;&#x4EE4;"><b></b>acl &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#clients-&#x547D;&#x4EE4;"><b></b>clients &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#clients-list"><b></b>clients list</a></li><li><span class="title-icon "></span><a href="#clients-show-"><b></b>clients show </a></li><li><span class="title-icon "></span><a href="#clients-kick-"><b></b>clients kick </a></li></ul><li><span class="title-icon "></span><a href="#routes-&#x547D;&#x4EE4;"><b></b>routes &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#routes-list"><b></b>routes list</a></li><li><span class="title-icon "></span><a href="#routes-show-"><b></b>routes show </a></li></ul><li><span class="title-icon "></span><a href="#subscriptions-&#x547D;&#x4EE4;"><b></b>subscriptions &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#subscriptions-list"><b></b>subscriptions list</a></li><li><span class="title-icon "></span><a href="#subscriptions-show-"><b></b>subscriptions show </a></li><li><span class="title-icon "></span><a href="#subscriptions-add---"><b></b>subscriptions add   </a></li><li><span class="title-icon "></span><a href="#subscriptions-del--"><b></b>subscriptions del  </a></li></ul><li><span class="title-icon "></span><a href="#plugins-&#x547D;&#x4EE4;"><b></b>plugins &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#plugins-list"><b></b>plugins list</a></li><li><span class="title-icon "></span><a href="#plugins-load-"><b></b>plugins load </a></li><li><span class="title-icon "></span><a href="#plugins-unload-"><b></b>plugins unload </a></li><li><span class="title-icon "></span><a href="#plugins-reload-"><b></b>plugins reload </a></li></ul><li><span class="title-icon "></span><a href="#vm-&#x547D;&#x4EE4;"><b></b>vm &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#vm-all"><b></b>vm all</a></li><li><span class="title-icon "></span><a href="#vm-load"><b></b>vm load</a></li><li><span class="title-icon "></span><a href="#vm-memory"><b></b>vm memory</a></li><li><span class="title-icon "></span><a href="#vm-process"><b></b>vm process</a></li><li><span class="title-icon "></span><a href="#vm-io"><b></b>vm io</a></li><li><span class="title-icon "></span><a href="#vm-ports"><b></b>vm ports</a></li></ul><li><span class="title-icon "></span><a href="#mnesia-&#x547D;&#x4EE4;"><b></b>mnesia &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#log-&#x547D;&#x4EE4;"><b></b>log &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#log-set-level-"><b></b>log set-level </a></li><li><span class="title-icon "></span><a href="#log-primary-level"><b></b>log primary-level</a></li><li><span class="title-icon "></span><a href="#log-primary-level-"><b></b>log primary-level </a></li><li><span class="title-icon "></span><a href="#log-handlers-list"><b></b>log handlers list</a></li><li><span class="title-icon "></span><a href="#log-handlers-set-level--"><b></b>log handlers set-level  </a></li></ul><li><span class="title-icon "></span><a href="#trace-&#x547D;&#x4EE4;"><b></b>trace &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#trace-start-client-----"><b></b>trace start client   [  ]</a></li><li><span class="title-icon "></span><a href="#trace-stop-client-"><b></b>trace stop client </a></li><li><span class="title-icon "></span><a href="#trace-start-topic-----"><b></b>trace start topic   [  ]</a></li><li><span class="title-icon "></span><a href="#trace-stop-topic-"><b></b>trace stop topic </a></li><li><span class="title-icon "></span><a href="#trace-list"><b></b>trace list</a></li></ul><li><span class="title-icon "></span><a href="#listeners"><b></b>listeners</a></li><ul><li><span class="title-icon "></span><a href="#listeners-list"><b></b>listeners list</a></li><li><span class="title-icon "></span><a href="#listeners-stop--"><b></b>listeners stop  </a></li></ul><li><span class="title-icon "></span><a href="#recon-&#x547D;&#x4EE4;"><b></b>recon &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#retainer-&#x547D;&#x4EE4;"><b></b>retainer &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#retainer-info"><b></b>retainer info</a></li><li><span class="title-icon "></span><a href="#retainer-topics"><b></b>retainer topics</a></li><li><span class="title-icon "></span><a href="#retainer-clean"><b></b>retainer clean</a></li><li><span class="title-icon "></span><a href="#retainer-clean-"><b></b>retainer clean </a></li></ul><li><span class="title-icon "></span><a href="#admins-&#x547D;&#x4EE4;"><b></b>admins &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#admins-add---"><b></b>admins add   </a></li><li><span class="title-icon "></span><a href="#admins-passwd--"><b></b>admins passwd  </a></li><li><span class="title-icon "></span><a href="#admins-del-"><b></b>admins del </a></li></ul><li><span class="title-icon "></span><a href="#&#x89C4;&#x5219;&#x5F15;&#x64CE;rule-engine-&#x547D;&#x4EE4;"><b></b>&#x89C4;&#x5219;&#x5F15;&#x64CE;(rule engine) &#x547D;&#x4EE4;</a></li><ul><li><span class="title-icon "></span><a href="#rules-&#x547D;&#x4EE4;"><b></b>rules &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#rule-actions-&#x547D;&#x4EE4;"><b></b>rule-actions &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#resources-&#x547D;&#x4EE4;"><b></b>resources &#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#resource-types-&#x547D;&#x4EE4;"><b></b>resource-types &#x547D;&#x4EE4;</a></li></ul><li><span class="title-icon "></span><a href="#&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;"><b></b>&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;</a></li><ul><li><span class="title-icon "></span><a href="#&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;"><b></b>&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;</a></li><li><span class="title-icon "></span><a href="#action-metrics"><b></b>&#x52A8;&#x4F5C;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807; </a></li><li><span class="title-icon "></span><a href="#resource-metrics"><b></b>&#x8D44;&#x6E90;&#x72B6;&#x6001;&#x548C;&#x544A;&#x8B66; </a></li></ul></ul></ul></div><a href="#&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;"><a name="&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;" class="plugin-anchor" href="#&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;</h1>
<p>EMQ X &#x63D0;&#x4F9B;&#x4E86; <code>./bin/emqx_ctl</code> &#x7684;&#x7BA1;&#x7406;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x7528;&#x4E8E;&#x7528;&#x6237;&#x5BF9; EMQ X &#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3001;&#x914D;&#x7F6E;&#x3001;&#x67E5;&#x8BE2;&#x3002;</p>
<h2 id="status-&#x547D;&#x4EE4;"><a name="status-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#status-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="status-&#x547D;&#x4EE4;" class="plugin-anchor" href="#status-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>status &#x547D;&#x4EE4;</h2>
<p>&#x67E5;&#x8BE2; EMQ X &#x8FD0;&#x884C;&#x72B6;&#x6001;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl status
Node <span class="token string">&apos;emqx@127.0.0.1&apos;</span> is started
emqx v4.0.0 is running
</code></pre>
<h2 id="mgmt-&#x547D;&#x4EE4;"><a name="mgmt-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#mgmt-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mgmt-&#x547D;&#x4EE4;" class="plugin-anchor" href="#mgmt-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>mgmt &#x547D;&#x4EE4;</h2>
<p>mgmt &#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mgmt list</code></td>
<td>&#x5217;&#x51FA;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5217;&#x8868;</td>
</tr>
<tr>
<td><code>mgmt insert <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Name</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x6DFB;&#x52A0;&#x5141;&#x8BB8;&#x8BBF;&#x95EE; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;</td>
</tr>
<tr>
<td><code>mgmt update <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x66F4;&#x65B0;&#x5141;&#x8BB8;&#x8BBF;&#x95EE; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;</td>
</tr>
<tr>
<td><code>mgmt lookup <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x83B7;&#x53D6;&#x5141;&#x8BB8;&#x8BBF;&#x95EE; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8BE6;&#x60C5;</td>
</tr>
<tr>
<td><code>mgmt delete <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x5220;&#x9664;&#x5141;&#x8BB8;&#x8BBF;&#x95EE; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;</td>
</tr>
</tbody>
</table>
<h3 id="mgmt-list"><a name="mgmt-list" class="anchor-navigation-ex-anchor" href="#mgmt-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mgmt-list" class="plugin-anchor" href="#mgmt-list"><i class="fa fa-link" aria-hidden="true"></i></a>mgmt list</h3>
<p>&#x5217;&#x51FA;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5217;&#x8868;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl mgmt list
app_id: 901abdba8eb8c, secret: MjgzMzQ5MjM1MzUzMTc4MjgyMjE3NzU4ODcwMDg0NjQ4OTG, name: hello, desc: , status: true, expired: undefined
</code></pre>
<h3 id="mgmt-insert--"><a name="mgmt-insert--" class="anchor-navigation-ex-anchor" href="#mgmt-insert--"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mgmt-insert--" class="plugin-anchor" href="#mgmt-insert--"><i class="fa fa-link" aria-hidden="true"></i></a>mgmt insert <appid> <name></name></appid></h3>
<p>&#x6DFB;&#x52A0; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl mgmt insert dbcb6e023370b world
AppSecret: MjgzMzQ5MjYyMTY3ODk4MjA5NzMwODExODMxMDM1NDk0NDA
</code></pre>
<h3 id="mgmt-update--"><a name="mgmt-update--" class="anchor-navigation-ex-anchor" href="#mgmt-update--"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mgmt-update--" class="plugin-anchor" href="#mgmt-update--"><i class="fa fa-link" aria-hidden="true"></i></a>mgmt update <appid> <status></status></appid></h3>
<p>&#x66F4;&#x65B0; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl mgmt update dbcb6e023370b stop
update successfully.
</code></pre>
<h3 id="mgmt-lookup-"><a name="mgmt-lookup-" class="anchor-navigation-ex-anchor" href="#mgmt-lookup-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mgmt-lookup-" class="plugin-anchor" href="#mgmt-lookup-"><i class="fa fa-link" aria-hidden="true"></i></a>mgmt lookup <appid></appid></h3>
<p>&#x83B7;&#x53D6; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8BE6;&#x60C5;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl mgmt lookup dbcb6e023370b
app_id: dbcb6e023370b
secret: MjgzMzQ5MjYyMTY3ODk4MjA5NzMwODExODMxMDM1NDk0NDA
name: world
desc: Application user
status: stop
expired: undefined
</code></pre>
<h3 id="mgmt-delete-"><a name="mgmt-delete-" class="anchor-navigation-ex-anchor" href="#mgmt-delete-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mgmt-delete-" class="plugin-anchor" href="#mgmt-delete-"><i class="fa fa-link" aria-hidden="true"></i></a>mgmt delete <appid></appid></h3>
<p>&#x5220;&#x9664; HTTP API &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl mgmt delete dbcb6e023370b
ok
</code></pre>
<h2 id="broker-&#x547D;&#x4EE4;"><a name="broker-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#broker-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="broker-&#x547D;&#x4EE4;" class="plugin-anchor" href="#broker-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>broker &#x547D;&#x4EE4;</h2>
<p>broker &#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x5668;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#xFF0C;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x4E0E;&#x6027;&#x80FD;&#x6570;&#x636E;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>broker</code></td>
<td>&#x67E5;&#x8BE2; EMQ X &#x63CF;&#x8FF0;&#x3001;&#x7248;&#x672C;&#x3001;&#x542F;&#x52A8;&#x65F6;&#x95F4;</td>
</tr>
<tr>
<td><code>broker stats</code></td>
<td>&#x67E5;&#x8BE2;&#x8FDE;&#x63A5; (Connection)&#x3001;&#x4F1A;&#x8BDD; (Session)&#x3001;&#x4E3B;&#x9898; (Topic)&#x3001;&#x8BA2;&#x9605; (Subscription)&#x3001;&#x8DEF;&#x7531; (Route) &#x7EDF;&#x8BA1;&#x4FE1;&#x606F;</td>
</tr>
<tr>
<td><code>broker metrics</code></td>
<td>&#x67E5;&#x8BE2; MQTT &#x62A5;&#x6587; (Packet)&#x3001;&#x6D88;&#x606F; (Message) &#x6536;&#x53D1;&#x7EDF;&#x8BA1;</td>
</tr>
</tbody>
</table>
<p>&#x67E5;&#x8BE2; EMQ X &#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x7248;&#x672C;&#x3001;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7B49;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl broker
sysdescr  <span class="token builtin class-name">:</span> EMQ X Broker
version   <span class="token builtin class-name">:</span> <span class="token number">4.0</span>.0
<span class="token function">uptime</span>    <span class="token builtin class-name">:</span> <span class="token number">4</span> minutes, <span class="token number">52</span> seconds
datetime  <span class="token builtin class-name">:</span> <span class="token number">2020</span>-02-21 09:39:58
</code></pre>
<h3 id="broker-stats"><a name="broker-stats" class="anchor-navigation-ex-anchor" href="#broker-stats"><i class="fa fa-link" aria-hidden="true"></i></a><a name="broker-stats" class="plugin-anchor" href="#broker-stats"><i class="fa fa-link" aria-hidden="true"></i></a>broker stats</h3>
<p>&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x5668;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5; (Connections)&#x3001;&#x4E3B;&#x9898; (Topics)&#x3001;&#x8BA2;&#x9605; (Subscriptions)&#x3001;&#x8DEF;&#x7531; (Routes) &#x7EDF;&#x8BA1;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl broker stats
actions.count                 <span class="token builtin class-name">:</span> <span class="token number">5</span>
actions.max                   <span class="token builtin class-name">:</span> <span class="token number">5</span>
channels.count                <span class="token builtin class-name">:</span> <span class="token number">0</span>
channels.max                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
connections.count             <span class="token builtin class-name">:</span> <span class="token number">0</span>
connections.max               <span class="token builtin class-name">:</span> <span class="token number">0</span>
resources.count               <span class="token builtin class-name">:</span> <span class="token number">0</span>
resources.max                 <span class="token builtin class-name">:</span> <span class="token number">0</span>
retained.count                <span class="token builtin class-name">:</span> <span class="token number">3</span>
retained.max                  <span class="token builtin class-name">:</span> <span class="token number">3</span>
routes.count                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
routes.max                    <span class="token builtin class-name">:</span> <span class="token number">0</span>
rules.count                   <span class="token builtin class-name">:</span> <span class="token number">0</span>
rules.max                     <span class="token builtin class-name">:</span> <span class="token number">0</span>
sessions.count                <span class="token builtin class-name">:</span> <span class="token number">0</span>
sessions.max                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
suboptions.count              <span class="token builtin class-name">:</span> <span class="token number">0</span>
suboptions.max                <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscribers.count             <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscribers.max               <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.count           <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.max             <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.shared.count    <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.shared.max      <span class="token builtin class-name">:</span> <span class="token number">0</span>
topics.count                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
topics.max                    <span class="token builtin class-name">:</span> <span class="token number">0</span>
</code></pre>
<h3 id="broker-metrics"><a name="broker-metrics" class="anchor-navigation-ex-anchor" href="#broker-metrics"><i class="fa fa-link" aria-hidden="true"></i></a><a name="broker-metrics" class="plugin-anchor" href="#broker-metrics"><i class="fa fa-link" aria-hidden="true"></i></a>broker metrics</h3>
<p>&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x5668;&#x6D41;&#x91CF; (Bytes)&#x3001;MQTT &#x62A5;&#x6587; (Packets)&#x3001;&#x6D88;&#x606F; (Messages) &#x6536;&#x53D1;&#x7EDF;&#x8BA1;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl broker metrics
actions.success               <span class="token builtin class-name">:</span> <span class="token number">0</span>
bytes.received                <span class="token builtin class-name">:</span> <span class="token number">0</span>
bytes.sent                    <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.auth.anonymous         <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.authenticate           <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.check_acl              <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.connack                <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.connect                <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.connected              <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.disconnected           <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.subscribe              <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.unsubscribe            <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped              <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.expired      <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.no_local     <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.qos0_msg     <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.queue_full   <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.too_large    <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.acked                <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.delayed              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.delivered            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.dropped              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.dropped.expired      <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.dropped.no_subscriber: <span class="token number">0</span>
messages.forward              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.publish              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos0.received        <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos0.sent            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos1.received        <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos1.sent            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos2.received        <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos2.sent            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.received             <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.retained             <span class="token builtin class-name">:</span> <span class="token number">3</span>
messages.sent                 <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.auth.received         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.auth.sent             <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connack.auth_error    <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connack.error         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connack.sent          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connect.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.disconnect.received   <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.disconnect.sent       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pingreq.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pingresp.sent         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.inuse          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.missed         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.received       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.inuse         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.missed        <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.sent          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.auth_error    <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.dropped       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.error         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.sent          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.inuse          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.missed         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.received       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrel.missed         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrel.received       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrel.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.received              <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.sent                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.suback.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.subscribe.auth_error  <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.subscribe.error       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.subscribe.received    <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.unsuback.sent         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.unsubscribe.error     <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.unsubscribe.received  <span class="token builtin class-name">:</span> <span class="token number">0</span>
rules.matched                 <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.created               <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.discarded             <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.resumed               <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.takeovered            <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.terminated            <span class="token builtin class-name">:</span> <span class="token number">0</span>
</code></pre>
<h2 id="cluster-&#x547D;&#x4EE4;"><a name="cluster-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#cluster-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="cluster-&#x547D;&#x4EE4;" class="plugin-anchor" href="#cluster-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>cluster &#x547D;&#x4EE4;</h2>
<p>cluster &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7BA1;&#x7406;&#x7531;&#x591A;&#x4E2A; EMQ X &#x8282;&#x70B9;&#xFF08;&#x8FDB;&#x7A0B;&#xFF09;&#x7EC4;&#x6210;&#x7684;&#x96C6;&#x7FA4;:</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cluster join <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Node</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x52A0;&#x5165;&#x96C6;&#x7FA4;</td>
</tr>
<tr>
<td><code>cluster leave</code></td>
<td>&#x79BB;&#x5F00;&#x96C6;&#x7FA4;</td>
</tr>
<tr>
<td><code>cluster force-leave <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Node</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x4ECE;&#x96C6;&#x7FA4;&#x5220;&#x9664;&#x8282;&#x70B9;</td>
</tr>
<tr>
<td><code>cluster status</code></td>
<td>&#x67E5;&#x8BE2;&#x96C6;&#x7FA4;&#x72B6;&#x6001;</td>
</tr>
</tbody>
</table>
<p>&#x793A;&#x4F8B;:</p>
<p>&#x4E3A;&#x66F4;&#x597D;&#x5730;&#x5C55;&#x793A; cluster &#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x5728;&#x672C;&#x673A;&#x542F;&#x52A8;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x5E76;&#x7EC4;&#x6210;&#x96C6;&#x7FA4;&#xFF0C;&#x4E3A;&#x907F;&#x514D;&#x7AEF;&#x53E3;&#x51B2;&#x7A81;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9; emqx2 &#x8282;&#x70B9;&#x7684;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x505A;&#x51FA;&#x4E86;&#x8C03;&#x6574;&#xFF0C;&#x4F8B;&#x5982; MQTT/TCP &#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x7531;&#x9ED8;&#x8BA4;&#x7684; 1883 &#x6539;&#x4E3A;&#x4E86; 2883&#xFF0C;&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x89C1; <a href="../getting-started/config.html">&#x914D;&#x7F6E;&#x8BF4;&#x660E;</a> &#x4E0E; <a href="../configuration/configuration.md">&#x914D;&#x7F6E;&#x9879;</a>&#x3002;</p>
<p>&#x542F;&#x52A8; emqx1 :</p>
<pre class="language-"><code class="lang-bash">$ <span class="token builtin class-name">cd</span> emqx1 <span class="token operator">&amp;&amp;</span> ./bin/emqx start
</code></pre>
<p>&#x542F;&#x52A8; emqx2 :</p>
<pre class="language-"><code class="lang-bash">$ <span class="token builtin class-name">cd</span> emqx2 <span class="token operator">&amp;&amp;</span> ./bin/emqx start
</code></pre>
<p>&#x4F7F;&#x7528; <code>cluster join <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Node</span><span class="token punctuation">&gt;</span></span></code> &#x5C06;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x7EC4;&#x6210;&#x96C6;&#x7FA4;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash">$ <span class="token builtin class-name">cd</span> emqx2 <span class="token operator">&amp;&amp;</span> ./bin/emqx_ctl cluster <span class="token function">join</span> emqx1@127.0.0.1

Join the cluster successfully.
Cluster status: <span class="token punctuation">[</span><span class="token punctuation">{</span>running_nodes,<span class="token punctuation">[</span><span class="token string">&apos;emqx1@127.0.0.1&apos;</span>,<span class="token string">&apos;emqx2@127.0.0.1&apos;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
<p>&#x4EFB;&#x610F;&#x8282;&#x70B9;&#x76EE;&#x5F55;&#x4E0B;&#x67E5;&#x8BE2;&#x96C6;&#x7FA4;&#x72B6;&#x6001;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl cluster status
Cluster status: <span class="token punctuation">[</span><span class="token punctuation">{</span>running_nodes,<span class="token punctuation">[</span><span class="token string">&apos;emqx2@127.0.0.1&apos;</span>,<span class="token string">&apos;emqx1@127.0.0.1&apos;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
<p>&#x96C6;&#x7FA4;&#x6D88;&#x606F;&#x8DEF;&#x7531;&#x6D4B;&#x8BD5;:
MQTT &#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x4F7F;&#x7528;&#x7531; EMQ X &#x56E2;&#x961F;&#x5F00;&#x53D1;&#x7684; <a href="https://github.com/emqx/emqtt/releases" target="_blank">emqtt</a> &#x5BA2;&#x6237;&#x7AEF;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># emqx1 &#x8282;&#x70B9;&#xFF08;1883 &#x7AEF;&#x53E3;&#xFF09;&#x8BA2;&#x9605;&#x4E3B;&#x9898; x</span>
$ ./bin/emqtt sub -t x -q <span class="token number">1</span> -p <span class="token number">1883</span>
Client emqtt-a7de8fffbe2fbeb2fadb sent CONNECT
Client emqtt-a7de8fffbe2fbeb2fadb subscribed to x

<span class="token comment"># &#x5411; emqx2 &#x8282;&#x70B9;&#xFF08;2883 &#x7AEF;&#x53E3; &#xFF09;&#x53D1;&#x5E03;&#x6D88;&#x606F;</span>
$ ./bin/emqtt pub -t x -q <span class="token number">1</span> -p <span class="token number">2883</span> --payload hello
Client emqtt-0898fa447676e17479a5 sent CONNECT
Client emqtt-0898fa447676e17479a5 sent PUBLISH <span class="token punctuation">(</span>Q1, R0, D0, <span class="token assign-left variable">Topic</span><span class="token operator">=</span>x, <span class="token assign-left variable">Payload</span><span class="token operator">=</span><span class="token punctuation">..</span>.<span class="token punctuation">(</span><span class="token number">5</span> bytes<span class="token punctuation">))</span>
Client emqtt-0898fa447676e17479a5 sent DISCONNECT

<span class="token comment"># emqx1 &#x8282;&#x70B9;&#xFF08;1883 &#x7AEF;&#x53E3;&#xFF09;&#x6536;&#x5230;&#x6D88;&#x606F;</span>
$ ./bin/emqtt sub -t x -q <span class="token number">1</span> -p <span class="token number">1883</span>
hello
</code></pre>
<p>emqx2 &#x8282;&#x70B9;&#x79BB;&#x5F00;&#x96C6;&#x7FA4;:</p>
<pre class="language-"><code class="lang-bash">$ <span class="token builtin class-name">cd</span> emqx2 <span class="token operator">&amp;&amp;</span> ./bin/emqx_ctl cluster leave
</code></pre>
<p>&#x5F3A;&#x5236; emqx2 &#x8282;&#x70B9;&#x79BB;&#x5F00;&#x96C6;&#x7FA4;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x96C6;&#x7FA4;&#x4E0B;&#x7684;&#x76EE;&#x6807;&#x8282;&#x70B9;&#x4EE5;&#x5916;&#x7684;&#x8282;&#x70B9;&#x4E0A;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;:</p>
<pre class="language-"><code class="lang-bash">$ <span class="token builtin class-name">cd</span> emqx1 <span class="token operator">&amp;&amp;</span> ./bin/emqx_ctl cluster force-leave emqx2@127.0.0.1
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF0C;EMQ X &#x4E0D;&#x652F;&#x6301;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x5728;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x52A0;&#x5165;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x4E24;&#x4E2A;&#x96C6;&#x7FA4;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x4F46;&#x652F;&#x6301;&#x52A0;&#x5165;&#x8FC7;&#x96C6;&#x7FA4;&#x7684;&#x8282;&#x70B9;&#x5728;&#x79BB;&#x5F00;&#x8BE5;&#x96C6;&#x7FA4;&#x540E;&#x52A0;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x3002;</p>
<h2 id="acl-&#x547D;&#x4EE4;"><a name="acl-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#acl-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="acl-&#x547D;&#x4EE4;" class="plugin-anchor" href="#acl-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>acl &#x547D;&#x4EE4;</h2>
<p>&#x91CD;&#x65B0;&#x52A0;&#x8F7D; acl &#x89C4;&#x5219;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl acl reload
ok
</code></pre>
<h2 id="clients-&#x547D;&#x4EE4;"><a name="clients-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#clients-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="clients-&#x547D;&#x4EE4;" class="plugin-anchor" href="#clients-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>clients &#x547D;&#x4EE4;</h2>
<p>clients &#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x8FDE;&#x63A5;&#x7684; MQTT &#x5BA2;&#x6237;&#x7AEF;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clients list</code></td>
<td>&#x5217;&#x51FA;&#x6240;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;</td>
</tr>
<tr>
<td><code>clients show <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x67E5;&#x8BE2;&#x6307;&#x5B9A; ClientId &#x7684;&#x5BA2;&#x6237;&#x7AEF;</td>
</tr>
<tr>
<td><code>clients kick <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x8E22;&#x9664;&#x6307;&#x5B9A; ClientId &#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8FDE;&#x63A5;&#x4E0E;&#x4F1A;&#x8BDD;&#x5C06;&#x4E00;&#x5E76;&#x7EC8;&#x7ED3;&#x3002;</td>
</tr>
</tbody>
</table>
<h3 id="clients-list"><a name="clients-list" class="anchor-navigation-ex-anchor" href="#clients-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="clients-list" class="plugin-anchor" href="#clients-list"><i class="fa fa-link" aria-hidden="true"></i></a>clients list</h3>
<p>&#x5217;&#x51FA;&#x6240;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl clients list
Client <span class="token punctuation">(</span>mosqsub/43832-airlee.lo, <span class="token assign-left variable">username</span><span class="token operator">=</span>test1, <span class="token assign-left variable">peername</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:62135, <span class="token assign-left variable">clean_start</span><span class="token operator">=</span>true, <span class="token assign-left variable">keepalive</span><span class="token operator">=</span><span class="token number">60</span>, <span class="token assign-left variable">session_expiry_interval</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">subscriptions</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">inflight</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">awaiting_rel</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">delivered_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">enqueued_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">dropped_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connected</span><span class="token operator">=</span>true, <span class="token assign-left variable">created_at</span><span class="token operator">=</span><span class="token number">1582249657</span>, <span class="token assign-left variable">connected_at</span><span class="token operator">=</span><span class="token number">1582249657</span><span class="token punctuation">)</span>
Client <span class="token punctuation">(</span>mosqsub/44011-airlee.lo, <span class="token assign-left variable">username</span><span class="token operator">=</span>test2, <span class="token assign-left variable">peername</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:64961, <span class="token assign-left variable">clean_start</span><span class="token operator">=</span>true, <span class="token assign-left variable">keepalive</span><span class="token operator">=</span><span class="token number">60</span>, <span class="token assign-left variable">session_expiry_interval</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">subscriptions</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">inflight</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">awaiting_rel</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">delivered_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">enqueued_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">dropped_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connected</span><span class="token operator">=</span>true, <span class="token assign-left variable">created_at</span><span class="token operator">=</span><span class="token number">1582249657</span>, <span class="token assign-left variable">connected_at</span><span class="token operator">=</span><span class="token number">1582249657</span>, <span class="token assign-left variable">disconnected_at</span><span class="token operator">=</span><span class="token number">1582249702</span><span class="token punctuation">)</span>
    <span class="token punctuation">..</span>.
</code></pre>
<p>&#x8FD4;&#x56DE; Client &#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>&#x7528;&#x6237;&#x540D;</td>
</tr>
<tr>
<td>peername</td>
<td>&#x5BA2;&#x6237;&#x7AEF; IP &#x4E0E;&#x7AEF;&#x53E3;</td>
</tr>
<tr>
<td>clean_start</td>
<td>MQTT Clean Start</td>
</tr>
<tr>
<td>keepalive</td>
<td>MQTT KeepAlive</td>
</tr>
<tr>
<td>session_expiry_interval</td>
<td>&#x4F1A;&#x8BDD;&#x8FC7;&#x671F;&#x95F4;&#x9694;</td>
</tr>
<tr>
<td>subscriptions</td>
<td>&#x5F53;&#x524D;&#x8BA2;&#x9605;&#x6570;&#x91CF;</td>
</tr>
<tr>
<td>inflight</td>
<td>&#x5F53;&#x524D;&#x6B63;&#x5728;&#x4E0B;&#x53D1;&#x7684; QoS 1 &#x548C; QoS 2 &#x7684;&#x6D88;&#x606F;&#x603B;&#x6570;</td>
</tr>
<tr>
<td>awaiting_rel</td>
<td>&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001; PUBREL &#x7684; QoS2 &#x6D88;&#x606F;&#x6570;</td>
</tr>
<tr>
<td>delivered_msgs</td>
<td>EMQ X &#x5411;&#x6B64;&#x5BA2;&#x6237;&#x7AEF;&#x8F6C;&#x53D1;&#x7684;&#x6D88;&#x606F;&#x6570;&#x91CF; (&#x5305;&#x542B;&#x91CD;&#x4F20;)</td>
</tr>
<tr>
<td>enqueued_msgs</td>
<td>&#x6D88;&#x606F;&#x961F;&#x5217;&#x5F53;&#x524D;&#x957F;&#x5EA6;</td>
</tr>
<tr>
<td>dropped_msgs</td>
<td>&#x6D88;&#x606F;&#x961F;&#x5217;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x957F;&#x5EA6;&#x540E;&#x4E22;&#x5F03;&#x7684;&#x6D88;&#x606F;&#x6570;&#x91CF;</td>
</tr>
<tr>
<td>connected</td>
<td>&#x662F;&#x5426;&#x5728;&#x7EBF;</td>
</tr>
<tr>
<td>created_at</td>
<td>&#x4F1A;&#x8BDD;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x6233;</td>
</tr>
<tr>
<td>connected_at</td>
<td>&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x6233;</td>
</tr>
<tr>
<td>disconnected_at</td>
<td>&#x5BA2;&#x6237;&#x7AEF;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x6233;&#xFF08;&#x4EC5;&#x5F53;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x8FD8;&#x4FDD;&#x7559;&#x4F1A;&#x8BDD;&#x65F6;&#x624D;&#x4F1A;&#x51FA;&#x73B0;&#xFF09;</td>
</tr>
</tbody>
</table>
<h3 id="clients-show-"><a name="clients-show-" class="anchor-navigation-ex-anchor" href="#clients-show-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="clients-show-" class="plugin-anchor" href="#clients-show-"><i class="fa fa-link" aria-hidden="true"></i></a>clients show <clientid></clientid></h3>
<p>&#x67E5;&#x8BE2;&#x6307;&#x5B9A; ClientId &#x7684;&#x5BA2;&#x6237;&#x7AEF;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl clients show <span class="token string">&quot;mosqsub/43832-airlee.lo&quot;</span>
Client <span class="token punctuation">(</span>mosqsub/43832-airlee.lo, <span class="token assign-left variable">username</span><span class="token operator">=</span>test1, <span class="token assign-left variable">peername</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:62747, <span class="token assign-left variable">clean_start</span><span class="token operator">=</span>false, <span class="token assign-left variable">keepalive</span><span class="token operator">=</span><span class="token number">60</span>, <span class="token assign-left variable">session_expiry_interval</span><span class="token operator">=</span><span class="token number">7200</span>, <span class="token assign-left variable">subscriptions</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">inflight</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">awaiting_rel</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">delivered_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">enqueued_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">dropped_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connected</span><span class="token operator">=</span>true, <span class="token assign-left variable">created_at</span><span class="token operator">=</span><span class="token number">1576479557</span>, <span class="token assign-left variable">connected_at</span><span class="token operator">=</span><span class="token number">1576479557</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="clients-kick-"><a name="clients-kick-" class="anchor-navigation-ex-anchor" href="#clients-kick-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="clients-kick-" class="plugin-anchor" href="#clients-kick-"><i class="fa fa-link" aria-hidden="true"></i></a>clients kick <clientid></clientid></h3>
<p>&#x8E22;&#x9664;&#x6307;&#x5B9A; ClientId &#x7684;&#x5BA2;&#x6237;&#x7AEF;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl clients kick <span class="token string">&quot;clientid&quot;</span>
ok
</code></pre>
<h2 id="routes-&#x547D;&#x4EE4;"><a name="routes-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#routes-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="routes-&#x547D;&#x4EE4;" class="plugin-anchor" href="#routes-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>routes &#x547D;&#x4EE4;</h2>
<p>routes &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x3002;</p>
<p>EMQ X &#x4E2D;&#x8DEF;&#x7531;&#x662F;&#x6307;&#x4E3B;&#x9898;&#x4E0E;&#x8282;&#x70B9;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x8DEF;&#x7531;&#x6D88;&#x606F;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>routes list</code></td>
<td>&#x5217;&#x51FA;&#x6240;&#x6709;&#x8DEF;&#x7531;</td>
</tr>
<tr>
<td><code>routes show <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Topic</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x67E5;&#x8BE2;&#x6307;&#x5B9A; Topic &#x7684;&#x8DEF;&#x7531;</td>
</tr>
</tbody>
</table>
<h3 id="routes-list"><a name="routes-list" class="anchor-navigation-ex-anchor" href="#routes-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="routes-list" class="plugin-anchor" href="#routes-list"><i class="fa fa-link" aria-hidden="true"></i></a>routes list</h3>
<p>&#x5217;&#x51FA;&#x6240;&#x6709;&#x8DEF;&#x7531;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl routes list
t2/<span class="token comment"># -&gt; emqx2@127.0.0.1</span>
t/+/x -<span class="token operator">&gt;</span> emqx2@127.0.0.1,emqx@127.0.0.1
</code></pre>
<h3 id="routes-show-"><a name="routes-show-" class="anchor-navigation-ex-anchor" href="#routes-show-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="routes-show-" class="plugin-anchor" href="#routes-show-"><i class="fa fa-link" aria-hidden="true"></i></a>routes show <topic></topic></h3>
<p>&#x67E5;&#x8BE2;&#x6307;&#x5B9A; Topic d&#x7684;&#x8DEF;&#x7531;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl routes show t/+/x
t/+/x -<span class="token operator">&gt;</span> emqx2@127.0.0.1,emqx@127.0.0.1
</code></pre>
<h2 id="subscriptions-&#x547D;&#x4EE4;"><a name="subscriptions-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#subscriptions-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="subscriptions-&#x547D;&#x4EE4;" class="plugin-anchor" href="#subscriptions-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>subscriptions &#x547D;&#x4EE4;</h2>
<p>subscriptions &#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x6D88;&#x606F;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8BA2;&#x9605; (Subscription) &#x8868;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>subscriptions list</code></td>
<td>&#x5217;&#x51FA;&#x6240;&#x6709;&#x8BA2;&#x9605;</td>
</tr>
<tr>
<td><code>subscriptions show <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x67E5;&#x8BE2;&#x6307;&#x5B9A; ClientId &#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BA2;&#x9605;</td>
</tr>
<tr>
<td><code>subscriptions add <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Topic</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QoS</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x624B;&#x52A8;&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x8BA2;&#x9605;</td>
</tr>
<tr>
<td><code>subscriptions del <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Topic</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x624B;&#x52A8;&#x5220;&#x9664;&#x9759;&#x6001;&#x8BA2;&#x9605;</td>
</tr>
</tbody>
</table>
<h3 id="subscriptions-list"><a name="subscriptions-list" class="anchor-navigation-ex-anchor" href="#subscriptions-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="subscriptions-list" class="plugin-anchor" href="#subscriptions-list"><i class="fa fa-link" aria-hidden="true"></i></a>subscriptions list</h3>
<p>&#x5217;&#x51FA;&#x6240;&#x6709;&#x8BA2;&#x9605;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl subscriptions list
mosqsub/91042-airlee.lo -<span class="token operator">&gt;</span> t/y:1
mosqsub/90475-airlee.lo -<span class="token operator">&gt;</span> t/+/x:2
</code></pre>
<h3 id="subscriptions-show-"><a name="subscriptions-show-" class="anchor-navigation-ex-anchor" href="#subscriptions-show-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="subscriptions-show-" class="plugin-anchor" href="#subscriptions-show-"><i class="fa fa-link" aria-hidden="true"></i></a>subscriptions show <clientid></clientid></h3>
<p>&#x67E5;&#x8BE2;&#x67D0;&#x4E2A; Client &#x7684;&#x8BA2;&#x9605;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl subscriptions show <span class="token string">&apos;mosqsub/90475-airlee.lo&apos;</span>
mosqsub/90475-airlee.lo -<span class="token operator">&gt;</span> t/+/x:2
</code></pre>
<h3 id="subscriptions-add---"><a name="subscriptions-add---" class="anchor-navigation-ex-anchor" href="#subscriptions-add---"><i class="fa fa-link" aria-hidden="true"></i></a><a name="subscriptions-add---" class="plugin-anchor" href="#subscriptions-add---"><i class="fa fa-link" aria-hidden="true"></i></a>subscriptions add <clientid> <topic> <qos></qos></topic></clientid></h3>
<p>&#x624B;&#x52A8;&#x6DFB;&#x52A0;&#x8BA2;&#x9605;&#x5173;&#x7CFB;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl subscriptions <span class="token function">add</span> <span class="token string">&apos;mosqsub/90475-airlee.lo&apos;</span> <span class="token string">&apos;/world&apos;</span> <span class="token number">1</span>
ok
</code></pre>
<h3 id="subscriptions-del--"><a name="subscriptions-del--" class="anchor-navigation-ex-anchor" href="#subscriptions-del--"><i class="fa fa-link" aria-hidden="true"></i></a><a name="subscriptions-del--" class="plugin-anchor" href="#subscriptions-del--"><i class="fa fa-link" aria-hidden="true"></i></a>subscriptions del <clientid> <topic></topic></clientid></h3>
<p>&#x624B;&#x52A8;&#x5220;&#x9664;&#x8BA2;&#x9605;&#x5173;&#x7CFB;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl subscriptions del <span class="token string">&apos;mosqsub/90475-airlee.lo&apos;</span> <span class="token string">&apos;/world&apos;</span>
ok
</code></pre>
<h2 id="plugins-&#x547D;&#x4EE4;"><a name="plugins-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#plugins-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="plugins-&#x547D;&#x4EE4;" class="plugin-anchor" href="#plugins-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>plugins &#x547D;&#x4EE4;</h2>
<p>plugins &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x52A0;&#x8F7D;&#x3001;&#x5378;&#x8F7D;&#x3001;&#x67E5;&#x8BE2;&#x63D2;&#x4EF6;&#x5E94;&#x7528;&#x3002;EMQ X &#x901A;&#x8FC7;&#x63D2;&#x4EF6;&#x6269;&#x5C55;&#x8BA4;&#x8BC1;&#x3001;&#x5B9A;&#x5236;&#x529F;&#x80FD;&#xFF0C;&#x63D2;&#x4EF6;&#x914D;&#x7F6E;&#x4F4D;&#x4E8E; <code>etc/plugins/</code> &#x76EE;&#x5F55;&#x4E0B;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>plugins list</code></td>
<td>&#x5217;&#x51FA;&#x5168;&#x90E8;&#x63D2;&#x4EF6; (Plugin)</td>
</tr>
<tr>
<td><code>plugins load <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Plugin</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x52A0;&#x8F7D;&#x63D2;&#x4EF6; (Plugin)</td>
</tr>
<tr>
<td><code>plugins unload <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Plugin</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x5378;&#x8F7D;&#x63D2;&#x4EF6; (Plugin)</td>
</tr>
<tr>
<td><code>plugins reload <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Plugin</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x91CD;&#x8F7D;&#x63D2;&#x4EF6; (Plugin)</td>
</tr>
</tbody>
</table>
<p> &#x5F53;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x66F4;&#x6539;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6267;&#x884C; <code>emqx_ctl reload <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Plugin\</span><span class="token punctuation">&gt;</span></span> &#x547D;&#x4EE4;&#xFF0C;&#x5373;&#x4F7F;&#x63D2;&#x4EF6;&#x5728;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x65F6;&#x5E76;&#x672A;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x4F60;&#x4E5F;&#x5E94;&#x5F53;&#x4F7F;&#x7528;&#x6B64;&#x547D;&#x4EE4;&#x800C;&#x4E0D;&#x662F;</code>emqx_ctl load <plugin\>&#xFF0C;&#x56E0;&#x4E3A; `emqx_ctl load <plugin\> &#x4E0D;&#x4F1A;&#x7F16;&#x8BD1;&#x65B0;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;</plugin\></plugin\></p>
<h3 id="plugins-list"><a name="plugins-list" class="anchor-navigation-ex-anchor" href="#plugins-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="plugins-list" class="plugin-anchor" href="#plugins-list"><i class="fa fa-link" aria-hidden="true"></i></a>plugins list</h3>
<p>&#x5217;&#x51FA;&#x5168;&#x90E8;&#x63D2;&#x4EF6;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl plugins list
Plugin <span class="token punctuation">(</span>emqx_auth_clientid, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication with ClientId/Password, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_http, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication/ACL with HTTP API, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_jwt, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication with JWT, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_ldap, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication/ACL with LDAP, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_mongo, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication/ACL with MongoDB, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_mysql, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication/ACL with MySQL, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_pgsql, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication/ACL with PostgreSQL, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_redis, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication/ACL with Redis, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_auth_username, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Authentication with Username and Password, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_bridge_mqtt, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Bridge to MQTT Broker, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_coap, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X CoAP Gateway, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_dashboard, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Web Dashboard, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_delayed_publish, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Delayed Publish, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_lua_hook, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Lua Hooks, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_lwm2m, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X LwM2M Gateway, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_management, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Management API and CLI, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_plugin_template, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Plugin Template, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_psk_file, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX PSK Plugin from File, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_recon, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Recon Plugin, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_reloader, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Reloader Plugin, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_retainer, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Retainer, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_rule_engine, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Rule Engine, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_sn, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X MQTT SN Plugin, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_statsd, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>Statsd <span class="token keyword">for</span> EMQ X, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_stomp, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Stomp Protocol Plugin, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin <span class="token punctuation">(</span>emqx_web_hook, <span class="token assign-left variable">version</span><span class="token operator">=</span>v4.0.0, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQ X Webhook Plugin, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
</code></pre>
<p>&#x63D2;&#x4EF6;&#x5C5E;&#x6027;:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>&#x63D2;&#x4EF6;&#x7248;&#x672C;</td>
</tr>
<tr>
<td>description</td>
<td>&#x63D2;&#x4EF6;&#x63CF;&#x8FF0;</td>
</tr>
<tr>
<td>active</td>
<td>&#x662F;&#x5426;&#x5DF2;&#x52A0;&#x8F7D;</td>
</tr>
</tbody>
</table>
<h3 id="plugins-load-"><a name="plugins-load-" class="anchor-navigation-ex-anchor" href="#plugins-load-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="plugins-load-" class="plugin-anchor" href="#plugins-load-"><i class="fa fa-link" aria-hidden="true"></i></a>plugins load <plugin></plugin></h3>
<p>&#x52A0;&#x8F7D;&#x63D2;&#x4EF6;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl plugins load emqx_lua_hook
Plugin emqx_lua_hook loaded successfully.
</code></pre>
<h3 id="plugins-unload-"><a name="plugins-unload-" class="anchor-navigation-ex-anchor" href="#plugins-unload-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="plugins-unload-" class="plugin-anchor" href="#plugins-unload-"><i class="fa fa-link" aria-hidden="true"></i></a>plugins unload <plugin></plugin></h3>
<p>&#x5378;&#x8F7D;&#x63D2;&#x4EF6;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl plugins unload emqx_lua_hook
Plugin emqx_lua_hook unloaded successfully.
</code></pre>
<h3 id="plugins-reload-"><a name="plugins-reload-" class="anchor-navigation-ex-anchor" href="#plugins-reload-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="plugins-reload-" class="plugin-anchor" href="#plugins-reload-"><i class="fa fa-link" aria-hidden="true"></i></a>plugins reload <plugin></plugin></h3>
<p>&#x91CD;&#x8F7D;&#x63D2;&#x4EF6;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl plugins reload emqx_lua_hook
Plugin emqx_lua_hook reloaded successfully.
</code></pre>
<h2 id="vm-&#x547D;&#x4EE4;"><a name="vm-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#vm-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-&#x547D;&#x4EE4;" class="plugin-anchor" href="#vm-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>vm &#x547D;&#x4EE4;</h2>
<p>vm &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x8BE2; Erlang &#x865A;&#x62DF;&#x673A;&#x8D1F;&#x8F7D;&#x3001;&#x5185;&#x5B58;&#x3001;&#x8FDB;&#x7A0B;&#x3001;IO &#x4FE1;&#x606F;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vm</code></td>
<td>&#x7B49;&#x540C;&#x4E8E; vm all</td>
</tr>
<tr>
<td><code>vm all</code></td>
<td>&#x67E5;&#x8BE2; VM &#x5168;&#x90E8;&#x4FE1;&#x606F;</td>
</tr>
<tr>
<td><code>vm load</code></td>
<td>&#x67E5;&#x8BE2; VM &#x8D1F;&#x8F7D;</td>
</tr>
<tr>
<td><code>vm memory</code></td>
<td>&#x67E5;&#x8BE2; VM &#x5185;&#x5B58;</td>
</tr>
<tr>
<td><code>vm process</code></td>
<td>&#x67E5;&#x8BE2; VM Erlang &#x8FDB;&#x7A0B;&#x6570;&#x91CF;</td>
</tr>
<tr>
<td><code>vm io</code></td>
<td>&#x67E5;&#x8BE2; VM io &#x6700;&#x5927;&#x6587;&#x4EF6;&#x53E5;&#x67C4;</td>
</tr>
<tr>
<td><code>vm ports</code></td>
<td>&#x67E5;&#x8BE2; VM &#x7684;&#x7AEF;&#x53E3;</td>
</tr>
</tbody>
</table>
<h3 id="vm-all"><a name="vm-all" class="anchor-navigation-ex-anchor" href="#vm-all"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-all" class="plugin-anchor" href="#vm-all"><i class="fa fa-link" aria-hidden="true"></i></a>vm all</h3>
<p>&#x67E5;&#x8BE2; VM &#x5168;&#x90E8;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x8D1F;&#x8F7D;&#x3001;&#x5185;&#x5B58;&#x3001;Erlang &#x8FDB;&#x7A0B;&#x6570;&#x91CF;&#x7B49;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl vm all
cpu/load1               <span class="token builtin class-name">:</span> <span class="token number">4.22</span>
cpu/load5               <span class="token builtin class-name">:</span> <span class="token number">3.29</span>
cpu/load15              <span class="token builtin class-name">:</span> <span class="token number">3.16</span>
memory/total            <span class="token builtin class-name">:</span> <span class="token number">99995208</span>
memory/processes        <span class="token builtin class-name">:</span> <span class="token number">38998248</span>
memory/processes_used   <span class="token builtin class-name">:</span> <span class="token number">38938520</span>
memory/system           <span class="token builtin class-name">:</span> <span class="token number">60996960</span>
memory/atom             <span class="token builtin class-name">:</span> <span class="token number">1189073</span>
memory/atom_used        <span class="token builtin class-name">:</span> <span class="token number">1173808</span>
memory/binary           <span class="token builtin class-name">:</span> <span class="token number">100336</span>
memory/code             <span class="token builtin class-name">:</span> <span class="token number">25439961</span>
memory/ets              <span class="token builtin class-name">:</span> <span class="token number">7161128</span>
process/limit           <span class="token builtin class-name">:</span> <span class="token number">2097152</span>
process/count           <span class="token builtin class-name">:</span> <span class="token number">315</span>
io/max_fds              <span class="token builtin class-name">:</span> <span class="token number">10240</span>
io/active_fds           <span class="token builtin class-name">:</span> <span class="token number">0</span>
ports/count             <span class="token builtin class-name">:</span> <span class="token number">18</span>
ports/limit             <span class="token builtin class-name">:</span> <span class="token number">1048576</span>
</code></pre>
<h3 id="vm-load"><a name="vm-load" class="anchor-navigation-ex-anchor" href="#vm-load"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-load" class="plugin-anchor" href="#vm-load"><i class="fa fa-link" aria-hidden="true"></i></a>vm load</h3>
<p>&#x67E5;&#x8BE2; VM &#x8D1F;&#x8F7D;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl vm load
cpu/load1               <span class="token builtin class-name">:</span> <span class="token number">2.21</span>
cpu/load5               <span class="token builtin class-name">:</span> <span class="token number">2.60</span>
cpu/load15              <span class="token builtin class-name">:</span> <span class="token number">2.36</span>
</code></pre>
<h3 id="vm-memory"><a name="vm-memory" class="anchor-navigation-ex-anchor" href="#vm-memory"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-memory" class="plugin-anchor" href="#vm-memory"><i class="fa fa-link" aria-hidden="true"></i></a>vm memory</h3>
<p>&#x67E5;&#x8BE2; VM &#x5185;&#x5B58;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl vm memory
memory/total            <span class="token builtin class-name">:</span> <span class="token number">23967736</span>
memory/processes        <span class="token builtin class-name">:</span> <span class="token number">3594216</span>
memory/processes_used   <span class="token builtin class-name">:</span> <span class="token number">3593112</span>
memory/system           <span class="token builtin class-name">:</span> <span class="token number">20373520</span>
memory/atom             <span class="token builtin class-name">:</span> <span class="token number">512601</span>
memory/atom_used        <span class="token builtin class-name">:</span> <span class="token number">491955</span>
memory/binary           <span class="token builtin class-name">:</span> <span class="token number">51432</span>
memory/code             <span class="token builtin class-name">:</span> <span class="token number">13401565</span>
memory/ets              <span class="token builtin class-name">:</span> <span class="token number">1082848</span>
</code></pre>
<h3 id="vm-process"><a name="vm-process" class="anchor-navigation-ex-anchor" href="#vm-process"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-process" class="plugin-anchor" href="#vm-process"><i class="fa fa-link" aria-hidden="true"></i></a>vm process</h3>
<p>&#x67E5;&#x8BE2; Erlang &#x8FDB;&#x7A0B;&#x6570;&#x91CF;&#x53CA;&#x5176;&#x9650;&#x5236;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl vm process
process/limit           <span class="token builtin class-name">:</span> <span class="token number">2097152</span>
process/count           <span class="token builtin class-name">:</span> <span class="token number">314</span>
</code></pre>
<h3 id="vm-io"><a name="vm-io" class="anchor-navigation-ex-anchor" href="#vm-io"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-io" class="plugin-anchor" href="#vm-io"><i class="fa fa-link" aria-hidden="true"></i></a>vm io</h3>
<p>&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x6570;&#x91CF;&#x53CA;&#x5176;&#x9650;&#x5236;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl vm io
io/max_fds              <span class="token builtin class-name">:</span> <span class="token number">10240</span>
io/active_fds           <span class="token builtin class-name">:</span> <span class="token number">0</span>
</code></pre>
<h3 id="vm-ports"><a name="vm-ports" class="anchor-navigation-ex-anchor" href="#vm-ports"><i class="fa fa-link" aria-hidden="true"></i></a><a name="vm-ports" class="plugin-anchor" href="#vm-ports"><i class="fa fa-link" aria-hidden="true"></i></a>vm ports</h3>
<p>&#x67E5;&#x8BE2;&#x7AEF;&#x53E3;&#x5360;&#x7528;&#x6570;&#x91CF;&#x53CA;&#x5176;&#x9650;&#x5236;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl vm ports
ports/count           <span class="token builtin class-name">:</span> <span class="token number">18</span>
ports/limit           <span class="token builtin class-name">:</span> <span class="token number">1048576</span>
</code></pre>
<h2 id="mnesia-&#x547D;&#x4EE4;"><a name="mnesia-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#mnesia-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mnesia-&#x547D;&#x4EE4;" class="plugin-anchor" href="#mnesia-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>mnesia &#x547D;&#x4EE4;</h2>
<p>&#x67E5;&#x8BE2; mnesia &#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#x3002;</p>
<h2 id="log-&#x547D;&#x4EE4;"><a name="log-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#log-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="log-&#x547D;&#x4EE4;" class="plugin-anchor" href="#log-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>log &#x547D;&#x4EE4;</h2>
<p>log &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#x3002;&#x8BBF;&#x95EE; <a href="http://erlang.org/doc/apps/kernel/logger_chapter.html" target="_blank">Documentation of logger</a> &#x4EE5;&#x83B7;&#x53D6;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>log set-level <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Level</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x8BBE;&#x7F6E;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#x548C;&#x6240;&#x6709; Handlers &#x65E5;&#x5FD7;&#x7B49;&#x7EA7;</td>
</tr>
<tr>
<td><code>log primary-level</code></td>
<td>&#x67E5;&#x770B;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;</td>
</tr>
<tr>
<td><code>log primary-lelvel <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Level</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x8BBE;&#x7F6E;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;</td>
</tr>
<tr>
<td><code>log handlers list</code></td>
<td>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x5B89;&#x88C5;&#x7684;&#x6240;&#x6709; Hanlders</td>
</tr>
<tr>
<td><code>log handlers set-level <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HandlerId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Level</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x8BBE;&#x7F6E;&#x6307;&#x5B9A; Hanlder &#x7684;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;</td>
</tr>
</tbody>
</table>
<p>&#x65E5;&#x5FD7;&#x7684;&#x7B49;&#x7EA7;&#x7531;&#x4F4E;&#x5230;&#x9AD8;&#x5206;&#x522B;&#x4E3A;&#xFF1A;<code>debug | info | notice | warning | error | critical | alert | emergency</code>&#xFF0C;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#x8D8A;&#x4F4E;&#xFF0C;&#x7CFB;&#x7EDF;&#x8F93;&#x51FA;&#x7684;&#x65E5;&#x5FD7;&#x6570;&#x91CF;&#x8D8A;&#x591A;&#xFF0C;&#x6D88;&#x8017;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x8D8A;&#x5927;&#x3002;&#x4E3A;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x6027;&#x80FD;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#x662F; error&#x3002;</p>
<h3 id="log-set-level-"><a name="log-set-level-" class="anchor-navigation-ex-anchor" href="#log-set-level-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="log-set-level-" class="plugin-anchor" href="#log-set-level-"><i class="fa fa-link" aria-hidden="true"></i></a>log set-level <level></level></h3>
<p>&#x8BBE;&#x7F6E;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#x548C;&#x6240;&#x6709; Handlers &#x65E5;&#x5FD7;&#x7B49;&#x7EA7;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log set-level debug
debug
</code></pre>
<h3 id="log-primary-level"><a name="log-primary-level" class="anchor-navigation-ex-anchor" href="#log-primary-level"><i class="fa fa-link" aria-hidden="true"></i></a><a name="log-primary-level" class="plugin-anchor" href="#log-primary-level"><i class="fa fa-link" aria-hidden="true"></i></a>log primary-level</h3>
<p>&#x67E5;&#x770B;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log primary-level
debug
</code></pre>
<h3 id="log-primary-level-"><a name="log-primary-level-" class="anchor-navigation-ex-anchor" href="#log-primary-level-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="log-primary-level-" class="plugin-anchor" href="#log-primary-level-"><i class="fa fa-link" aria-hidden="true"></i></a>log primary-level <level></level></h3>
<p>&#x8BBE;&#x7F6E;&#x4E3B;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log primary-level info
info
</code></pre>
<h3 id="log-handlers-list"><a name="log-handlers-list" class="anchor-navigation-ex-anchor" href="#log-handlers-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="log-handlers-list" class="plugin-anchor" href="#log-handlers-list"><i class="fa fa-link" aria-hidden="true"></i></a>log handlers list</h3>
<p>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x5B89;&#x88C5;&#x7684;&#x6240;&#x6709; Hanlders:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log handlers list
LogHandler <span class="token punctuation">(</span>id<span class="token operator">=</span>emqx_logger_handler, <span class="token assign-left variable">level</span><span class="token operator">=</span>debug, <span class="token assign-left variable">destination</span><span class="token operator">=</span>unknown<span class="token punctuation">)</span>
LogHandler <span class="token punctuation">(</span>id<span class="token operator">=</span>file, <span class="token assign-left variable">level</span><span class="token operator">=</span>debug, <span class="token assign-left variable">destination</span><span class="token operator">=</span>log/emqx.log<span class="token punctuation">)</span>
LogHandler <span class="token punctuation">(</span>id<span class="token operator">=</span>default, <span class="token assign-left variable">level</span><span class="token operator">=</span>debug, <span class="token assign-left variable">destination</span><span class="token operator">=</span>console<span class="token punctuation">)</span>
</code></pre>
<h3 id="log-handlers-set-level--"><a name="log-handlers-set-level--" class="anchor-navigation-ex-anchor" href="#log-handlers-set-level--"><i class="fa fa-link" aria-hidden="true"></i></a><a name="log-handlers-set-level--" class="plugin-anchor" href="#log-handlers-set-level--"><i class="fa fa-link" aria-hidden="true"></i></a>log handlers set-level <handlerid> <level></level></handlerid></h3>
<p>&#x8BBE;&#x7F6E;&#x6307;&#x5B9A; Hanlder &#x7684;&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log handlers set-level emqx_logger_handler error
error
</code></pre>
<h2 id="trace-&#x547D;&#x4EE4;"><a name="trace-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#trace-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="trace-&#x547D;&#x4EE4;" class="plugin-anchor" href="#trace-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>trace &#x547D;&#x4EE4;</h2>
<p>trace &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x8FFD;&#x8E2A;&#x67D0;&#x4E2A; Client &#x6216; Topic&#xFF0C;&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x5230;&#x6587;&#x4EF6;&#xFF0C;&#x8BE6;&#x60C5;&#x8BF7;&#x67E5;&#x770B; <a href="../getting-started/log.html">&#x65E5;&#x5FD7;&#x4E0E;&#x8FFD;&#x8E2A;</a>&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>trace list</code></td>
<td>&#x5217;&#x51FA;&#x6240;&#x6709;&#x5F00;&#x542F;&#x7684;&#x8FFD;&#x8E2A;</td>
</tr>
<tr>
<td><code>trace start client <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">&gt;</span></span> [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Level</span><span class="token punctuation">&gt;</span></span>]</code></td>
<td>&#x5F00;&#x542F; Client &#x8FFD;&#x8E2A;&#xFF0C;&#x5B58;&#x50A8;&#x6307;&#x5B9A;&#x7B49;&#x7EA7;&#x7684;&#x65E5;&#x5FD7;&#x5230;&#x6587;&#x4EF6;</td>
</tr>
<tr>
<td><code>trace stop client <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x5173;&#x95ED; Client &#x8FFD;&#x8E2A;</td>
</tr>
<tr>
<td><code>trace start topic <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Topic</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">&gt;</span></span> [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Level</span><span class="token punctuation">&gt;</span></span>]</code></td>
<td>&#x5F00;&#x542F; Topic &#x8FFD;&#x8E2A;&#xFF0C;&#x5B58;&#x50A8;&#x6307;&#x5B9A;&#x7B49;&#x7EA7;&#x7684;&#x65E5;&#x5FD7;&#x5230;&#x6587;&#x4EF6;</td>
</tr>
<tr>
<td><code>trace stop topic <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Topic</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x5173;&#x95ED; Topic &#x8FFD;&#x8E2A;</td>
</tr>
</tbody>
</table>
<h3 id="trace-start-client-----"><a name="trace-start-client-----" class="anchor-navigation-ex-anchor" href="#trace-start-client-----"><i class="fa fa-link" aria-hidden="true"></i></a><a name="trace-start-client-----" class="plugin-anchor" href="#trace-start-client-----"><i class="fa fa-link" aria-hidden="true"></i></a>trace start client <clientid> <file> [ <level> ]</level></file></clientid></h3>
<p>&#x5F00;&#x542F; Client &#x8FFD;&#x8E2A;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log primary-level debug
debug

$ ./bin/emqx_ctl trace start client clientid log/clientid_trace.log
trace clientid clientid successfully

$ ./bin/emqx_ctl trace start client clientid2 log/clientid2_trace.log error
trace clientid clientid2 successfully
</code></pre>
<h3 id="trace-stop-client-"><a name="trace-stop-client-" class="anchor-navigation-ex-anchor" href="#trace-stop-client-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="trace-stop-client-" class="plugin-anchor" href="#trace-stop-client-"><i class="fa fa-link" aria-hidden="true"></i></a>trace stop client <clientid></clientid></h3>
<p>&#x5173;&#x95ED; Client &#x8FFD;&#x8E2A;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl trace stop client clientid
stop tracing clientid clientid successfully
</code></pre>
<h3 id="trace-start-topic-----"><a name="trace-start-topic-----" class="anchor-navigation-ex-anchor" href="#trace-start-topic-----"><i class="fa fa-link" aria-hidden="true"></i></a><a name="trace-start-topic-----" class="plugin-anchor" href="#trace-start-topic-----"><i class="fa fa-link" aria-hidden="true"></i></a>trace start topic <topic> <file> [ <level> ]</level></file></topic></h3>
<p>&#x5F00;&#x542F; Topic &#x8FFD;&#x8E2A;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl log primary-level debug
debug

$ ./bin/emqx_ctl trace start topic topic log/topic_trace.log
trace topic topic successfully

$ ./bin/emqx_ctl trace start topic topic2 log/topic2_trace.log error
trace topic topic2 successfully
</code></pre>
<h3 id="trace-stop-topic-"><a name="trace-stop-topic-" class="anchor-navigation-ex-anchor" href="#trace-stop-topic-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="trace-stop-topic-" class="plugin-anchor" href="#trace-stop-topic-"><i class="fa fa-link" aria-hidden="true"></i></a>trace stop topic <topic></topic></h3>
<p>&#x5173;&#x95ED; Topic &#x8FFD;&#x8E2A;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl trace topic topic off
stop tracing topic topic successfully
</code></pre>
<h3 id="trace-list"><a name="trace-list" class="anchor-navigation-ex-anchor" href="#trace-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="trace-list" class="plugin-anchor" href="#trace-list"><i class="fa fa-link" aria-hidden="true"></i></a>trace list</h3>
<p>&#x5217;&#x51FA;&#x6240;&#x6709;&#x5F00;&#x542F;&#x7684;&#x8FFD;&#x8E2A;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl trace list
Trace <span class="token punctuation">(</span>clientid<span class="token operator">=</span>clientid2, <span class="token assign-left variable">level</span><span class="token operator">=</span>error, <span class="token assign-left variable">destination</span><span class="token operator">=</span><span class="token string">&quot;log/clientid2_trace.log&quot;</span><span class="token punctuation">)</span>
Trace <span class="token punctuation">(</span>topic<span class="token operator">=</span>topic2, <span class="token assign-left variable">level</span><span class="token operator">=</span>error, <span class="token assign-left variable">destination</span><span class="token operator">=</span><span class="token string">&quot;log/topic2_trace.log&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="listeners"><a name="listeners" class="anchor-navigation-ex-anchor" href="#listeners"><i class="fa fa-link" aria-hidden="true"></i></a><a name="listeners" class="plugin-anchor" href="#listeners"><i class="fa fa-link" aria-hidden="true"></i></a>listeners</h2>
<p>listeners &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5F00;&#x542F;&#x7684; TCP &#x670D;&#x52A1;&#x76D1;&#x542C;&#x5668;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>listeners</code></td>
<td>&#x67E5;&#x8BE2;&#x5F00;&#x542F;&#x7684; TCP &#x670D;&#x52A1;&#x76D1;&#x542C;&#x5668;</td>
</tr>
<tr>
<td><code>listeners stop <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Proto</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Port</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x505C;&#x6B62;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#xFF0C;&#x652F;&#x6301; <code>mqtt:ssl</code>&#xFF0C;<code>mqtt:tcp</code>&#xFF0C;<code>http:dashboard</code>&#xFF0C;<code>http:management</code>&#xFF0C;<code>mqtt:ws</code>&#xFF0C;<code>mqtt:wss</code> &#x534F;&#x8BAE;</td>
</tr>
</tbody>
</table>
<h3 id="listeners-list"><a name="listeners-list" class="anchor-navigation-ex-anchor" href="#listeners-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="listeners-list" class="plugin-anchor" href="#listeners-list"><i class="fa fa-link" aria-hidden="true"></i></a>listeners list</h3>
<p>&#x67E5;&#x8BE2;&#x5F00;&#x542F;&#x7684; TCP &#x670D;&#x52A1;&#x76D1;&#x542C;&#x5668;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl listeners
listener on mqtt:ssl:8883
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">16</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">102400</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
listener on mqtt:tcp:0.0.0.0:1883
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">8</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">1024000</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
listener on mqtt:tcp:127.0.0.1:11883
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">4</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">1024000</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">2</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
listener on http:dashboard:18083
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">2</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">512</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
listener on http:management:8081
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">2</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">512</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
listener on mqtt:ws:8083
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">2</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">102400</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
listener on mqtt:wss:8084
    acceptors       <span class="token builtin class-name">:</span> <span class="token number">2</span>
    max_conns       <span class="token builtin class-name">:</span> <span class="token number">16</span>
    current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
    shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre>
<p>listener &#x53C2;&#x6570;&#x8BF4;&#x660E;:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>acceptors</td>
<td>TCP Acceptor &#x6C60;</td>
</tr>
<tr>
<td>max_conns</td>
<td>&#x6700;&#x5927;&#x5141;&#x8BB8;&#x8FDE;&#x63A5;&#x6570;</td>
</tr>
<tr>
<td>current_conns</td>
<td>&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x6570;</td>
</tr>
<tr>
<td>shutdown_count</td>
<td>&#x8FDE;&#x63A5;&#x5173;&#x95ED;&#x539F;&#x56E0;&#x7EDF;&#x8BA1;</td>
</tr>
</tbody>
</table>
<h3 id="listeners-stop--"><a name="listeners-stop--" class="anchor-navigation-ex-anchor" href="#listeners-stop--"><i class="fa fa-link" aria-hidden="true"></i></a><a name="listeners-stop--" class="plugin-anchor" href="#listeners-stop--"><i class="fa fa-link" aria-hidden="true"></i></a>listeners stop <proto> <port></port></proto></h3>
<p>&#x505C;&#x6B62;&#x76D1;&#x542C;&#x7AEF;&#x53E3;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl listeners stop mqtt:tcp <span class="token number">0.0</span>.0.0:1883
Stop mqtt:tcp listener on <span class="token number">0.0</span>.0.0:1883 successfully.
</code></pre>
<h2 id="recon-&#x547D;&#x4EE4;"><a name="recon-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#recon-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="recon-&#x547D;&#x4EE4;" class="plugin-anchor" href="#recon-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>recon &#x547D;&#x4EE4;</h2>
<p>EMQ X &#x7684; recon &#x547D;&#x4EE4;&#x57FA;&#x4E8E; Erlang Recon &#x5E93;&#x5B9E;&#x73B0;&#xFF0C;&#x7528;&#x4E8E;&#x5E2E;&#x52A9; DevOps &#x4EBA;&#x5458;&#x8BCA;&#x65AD;&#x751F;&#x4EA7;&#x8282;&#x70B9;&#x4E2D;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x666E;&#x901A;&#x7528;&#x6237;&#x65E0;&#x9700;&#x5173;&#x5FC3;&#x3002;&#x4F7F;&#x7528; recon &#x547D;&#x4EE4;&#x4F1A;&#x8017;&#x8D39;&#x4E00;&#x5B9A;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x8BF7;&#x8C28;&#x614E;&#x4F7F;&#x7528;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>recon memory</code></td>
<td><a href="http://ferd.github.io/recon/recon_alloc.html#memory-2" target="_blank">recon_alloc:memory/2</a></td>
</tr>
<tr>
<td><code>recon allocated</code></td>
<td><a href="http://ferd.github.io/recon/recon_alloc.html#memory-2" target="_blank">recon_alloc:memory (allocated_types, current/max)</a></td>
</tr>
<tr>
<td><code>recon bin_leak</code></td>
<td><a href="http://ferd.github.io/recon/recon.html#bin_leak-1" target="_blank">recon:bin_leak (100)</a></td>
</tr>
<tr>
<td><code>recon node_stats</code></td>
<td><a href="http://ferd.github.io/recon/recon.html#node_stats_print-2" target="_blank">recon:node_stats_print(10, 1000)</a></td>
</tr>
<tr>
<td><code>recon remote_load Mod</code></td>
<td><a href="http://ferd.github.io/recon/recon.html#remote_load-1" target="_blank">recon:remote_load (Mod)</a></td>
</tr>
<tr>
<td><code>recon proc_count Attr N</code></td>
<td><a href="http://ferd.github.io/recon/recon.html#proc_count-2" target="_blank">recon:proc_count(Attr, N)</a></td>
</tr>
</tbody>
</table>
<p>&#x8BBF;&#x95EE; <a href="http://ferd.github.io/recon/" target="_blank">Documentation for recon</a> &#x4EE5;&#x83B7;&#x53D6;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;</p>
<h2 id="retainer-&#x547D;&#x4EE4;"><a name="retainer-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#retainer-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="retainer-&#x547D;&#x4EE4;" class="plugin-anchor" href="#retainer-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>retainer &#x547D;&#x4EE4;</h2>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>retainer info</code></td>
<td>&#x663E;&#x793A;&#x4FDD;&#x7559;&#x6D88;&#x606F;&#x7684;&#x6570;&#x91CF;</td>
</tr>
<tr>
<td><code>retainer topics</code></td>
<td>&#x663E;&#x793A;&#x5F53;&#x524D;&#x5B58;&#x50A8;&#x7684;&#x4FDD;&#x7559;&#x6D88;&#x606F;&#x7684;&#x6240;&#x6709;&#x4E3B;&#x9898;</td>
</tr>
<tr>
<td><code>retainer clean</code></td>
<td>&#x6E05;&#x9664;&#x6240;&#x6709;&#x4FDD;&#x7559;&#x7684;&#x6D88;&#x606F;</td>
</tr>
<tr>
<td><code>retainer clean <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Topic</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x6E05;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x4E3B;&#x9898;&#x4E0B;&#x7684;&#x4FDD;&#x7559;&#x7684;&#x6D88;&#x606F;</td>
</tr>
</tbody>
</table>
<h3 id="retainer-info"><a name="retainer-info" class="anchor-navigation-ex-anchor" href="#retainer-info"><i class="fa fa-link" aria-hidden="true"></i></a><a name="retainer-info" class="plugin-anchor" href="#retainer-info"><i class="fa fa-link" aria-hidden="true"></i></a>retainer info</h3>
<p>&#x663E;&#x793A;&#x4FDD;&#x7559;&#x6D88;&#x606F;&#x7684;&#x6570;&#x91CF;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl retainer info
retained/total: <span class="token number">3</span>
</code></pre>
<h3 id="retainer-topics"><a name="retainer-topics" class="anchor-navigation-ex-anchor" href="#retainer-topics"><i class="fa fa-link" aria-hidden="true"></i></a><a name="retainer-topics" class="plugin-anchor" href="#retainer-topics"><i class="fa fa-link" aria-hidden="true"></i></a>retainer topics</h3>
<p>&#x663E;&#x793A;&#x5F53;&#x524D;&#x5B58;&#x50A8;&#x7684;&#x4FDD;&#x7559;&#x6D88;&#x606F;&#x7684;&#x6240;&#x6709;&#x4E3B;&#x9898;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl retainer topics
<span class="token variable">$SYS</span>/brokers/emqx@127.0.0.1/version
<span class="token variable">$SYS</span>/brokers/emqx@127.0.0.1/sysdescr
<span class="token variable">$SYS</span>/brokers
</code></pre>
<h3 id="retainer-clean"><a name="retainer-clean" class="anchor-navigation-ex-anchor" href="#retainer-clean"><i class="fa fa-link" aria-hidden="true"></i></a><a name="retainer-clean" class="plugin-anchor" href="#retainer-clean"><i class="fa fa-link" aria-hidden="true"></i></a>retainer clean</h3>
<p>&#x6E05;&#x9664;&#x6240;&#x6709;&#x4FDD;&#x7559;&#x7684;&#x6D88;&#x606F;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl retainer clean
Cleaned <span class="token number">3</span> retained messages
</code></pre>
<h3 id="retainer-clean-"><a name="retainer-clean-" class="anchor-navigation-ex-anchor" href="#retainer-clean-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="retainer-clean-" class="plugin-anchor" href="#retainer-clean-"><i class="fa fa-link" aria-hidden="true"></i></a>retainer clean <topic></topic></h3>
<p>&#x6E05;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x4E3B;&#x9898;&#x4E0B;&#x7684;&#x4FDD;&#x7559;&#x7684;&#x6D88;&#x606F;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl retainer clean topic
Cleaned <span class="token number">1</span> retained messages
</code></pre>
<h2 id="admins-&#x547D;&#x4EE4;"><a name="admins-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#admins-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="admins-&#x547D;&#x4EE4;" class="plugin-anchor" href="#admins-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>admins &#x547D;&#x4EE4;</h2>
<p>&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x3001;&#x5220;&#x9664;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x53F7;&#xFF0C;&#x91CD;&#x7F6E;&#x7BA1;&#x7406;&#x5458;&#x5BC6;&#x7801;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>admins add <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Username</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Password</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Tags</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x521B;&#x5EFA; admin &#x8D26;&#x53F7;</td>
</tr>
<tr>
<td><code>admins passwd <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Username</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Password</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x91CD;&#x7F6E; admin &#x5BC6;&#x7801;</td>
</tr>
<tr>
<td><code>admins del <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Username</span><span class="token punctuation">&gt;</span></span></code></td>
<td>&#x5220;&#x9664; admin &#x8D26;&#x53F7;</td>
</tr>
</tbody>
</table>
<h3 id="admins-add---"><a name="admins-add---" class="anchor-navigation-ex-anchor" href="#admins-add---"><i class="fa fa-link" aria-hidden="true"></i></a><a name="admins-add---" class="plugin-anchor" href="#admins-add---"><i class="fa fa-link" aria-hidden="true"></i></a>admins add <username> <password> <tags></tags></password></username></h3>
<p>&#x521B;&#x5EFA; admin &#x8D26;&#x6237;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl admins <span class="token function">add</span> root public <span class="token builtin class-name">test</span>
ok
</code></pre>
<h3 id="admins-passwd--"><a name="admins-passwd--" class="anchor-navigation-ex-anchor" href="#admins-passwd--"><i class="fa fa-link" aria-hidden="true"></i></a><a name="admins-passwd--" class="plugin-anchor" href="#admins-passwd--"><i class="fa fa-link" aria-hidden="true"></i></a>admins passwd <username> <password></password></username></h3>
<p>&#x91CD;&#x7F6E; admin &#x8D26;&#x6237;&#x5BC6;&#x7801;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl admins <span class="token function">passwd</span> root private
ok
</code></pre>
<h3 id="admins-del-"><a name="admins-del-" class="anchor-navigation-ex-anchor" href="#admins-del-"><i class="fa fa-link" aria-hidden="true"></i></a><a name="admins-del-" class="plugin-anchor" href="#admins-del-"><i class="fa fa-link" aria-hidden="true"></i></a>admins del <username></username></h3>
<p>&#x5220;&#x9664; admin &#x8D26;&#x6237;:</p>
<pre class="language-"><code class="lang-bash">$ ./bin/emqx_ctl admins del root
ok
</code></pre>
<h2 id="&#x89C4;&#x5219;&#x5F15;&#x64CE;rule-engine-&#x547D;&#x4EE4;"><a name="&#x89C4;&#x5219;&#x5F15;&#x64CE;rule-engine-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#&#x89C4;&#x5219;&#x5F15;&#x64CE;rule-engine-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x89C4;&#x5219;&#x5F15;&#x64CE;rule-engine-&#x547D;&#x4EE4;" class="plugin-anchor" href="#&#x89C4;&#x5219;&#x5F15;&#x64CE;rule-engine-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x89C4;&#x5219;&#x5F15;&#x64CE;(rule engine) &#x547D;&#x4EE4;</h2>
<h3 id="rules-&#x547D;&#x4EE4;"><a name="rules-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#rules-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rules-&#x547D;&#x4EE4;" class="plugin-anchor" href="#rules-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>rules &#x547D;&#x4EE4;</h3>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rules list</code></td>
<td>List all rules</td>
</tr>
<tr>
<td><code>rules show <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RuleId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>Show a rule</td>
</tr>
<tr>
<td><code>rules create <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>actions</span><span class="token punctuation">&gt;</span></span> [-d [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>descr</span><span class="token punctuation">&gt;</span></span>]]</code></td>
<td>Create a rule</td>
</tr>
<tr>
<td><code>rules delete <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RuleId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>Delete a rule</td>
</tr>
</tbody>
</table>
<h4 id="rules-create"><a name="rules-create" class="anchor-navigation-ex-anchor" href="#rules-create"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rules-create" class="plugin-anchor" href="#rules-create"><i class="fa fa-link" aria-hidden="true"></i></a>rules create</h4>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x89C4;&#x5219;&#x3002;&#x53C2;&#x6570;:</p>
<ul>
<li><em><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span><span class="token punctuation">&gt;</span></span></code></em>: &#x89C4;&#x5219; SQL</li>
<li><em><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>actions</span><span class="token punctuation">&gt;</span></span></code></em>: JSON &#x683C;&#x5F0F;&#x7684;&#x52A8;&#x4F5C;&#x5217;&#x8868;</li>
<li><em><code>-d <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>descr</span><span class="token punctuation">&gt;</span></span></code></em>: &#x53EF;&#x9009;&#xFF0C;&#x89C4;&#x5219;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;</li>
</ul>
<p>&#x4F7F;&#x7528;&#x4E3E;&#x4F8B;:</p>
<pre class="language-"><code>## &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x89C4;&#x5219;&#xFF0C;&#x7B80;&#x5355;&#x6253;&#x5370;&#x6240;&#x6709;&#x53D1;&#x9001;&#x5230; &apos;t/a&apos; &#x4E3B;&#x9898;&#x7684;&#x6D88;&#x606F;&#x5185;&#x5BB9;
$ ./bin/emqx_ctl rules create \
  &apos;select * from &quot;t/a&quot;&apos; \
  &apos;[{&quot;name&quot;:&quot;inspect&quot;, &quot;params&quot;: {&quot;a&quot;: 1}}]&apos; \
  -d &apos;Rule for debug&apos;

Rule rule:9a6a725d created
</code></pre><p>&#x4E0A;&#x4F8B;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A; ID &#x4E3A; <code>rule:9a6a725d</code> &#x7684;&#x89C4;&#x5219;&#xFF0C;&#x52A8;&#x4F5C;&#x5217;&#x8868;&#x91CC;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x52A8;&#x4F5C;&#xFF1A;&#x52A8;&#x4F5C;&#x540D;&#x4E3A; inspect&#xFF0C;&#x52A8;&#x4F5C;&#x7684;&#x53C2;&#x6570;&#x662F;
<code>{&quot;a&quot;: 1}</code>&#x3002;</p>
<h4 id="rules-list"><a name="rules-list" class="anchor-navigation-ex-anchor" href="#rules-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rules-list" class="plugin-anchor" href="#rules-list"><i class="fa fa-link" aria-hidden="true"></i></a>rules list</h4>
<p>&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x7684;&#x89C4;&#x5219;:</p>
<pre class="language-"><code>$ ./bin/emqx_ctl rules list

rule(id=&apos;rule:9a6a725d&apos;, for=&apos;[&apos;t/a&apos;]&apos;, rawsql=&apos;select * from &quot;t/a&quot;&apos;, actions=[{&quot;metrics&quot;:...,&quot;name&quot;:&quot;inspect&quot;,&quot;params&quot;:...}], metrics=..., enabled=&apos;true&apos;, description=&apos;Rule for debug&apos;)
</code></pre><h4 id="rules-show"><a name="rules-show" class="anchor-navigation-ex-anchor" href="#rules-show"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rules-show" class="plugin-anchor" href="#rules-show"><i class="fa fa-link" aria-hidden="true"></i></a>rules show</h4>
<p>&#x67E5;&#x8BE2;&#x89C4;&#x5219;:</p>
<pre class="language-"><code>## &#x67E5;&#x8BE2; RuleID &#x4E3A; &apos;rule:9a6a725d&apos; &#x7684;&#x89C4;&#x5219;
$ ./bin/emqx_ctl rules show &apos;rule:9a6a725d&apos;

rule(id=&apos;rule:9a6a725d&apos;, for=&apos;[&apos;t/a&apos;]&apos;, rawsql=&apos;select * from &quot;t/a&quot;&apos;, actions=[{&quot;metrics&quot;:...,&quot;name&quot;:&quot;inspect&quot;,&quot;params&quot;:...}], metrics=..., enabled=&apos;true&apos;, description=&apos;Rule for debug&apos;)
</code></pre><h4 id="rules-delete"><a name="rules-delete" class="anchor-navigation-ex-anchor" href="#rules-delete"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rules-delete" class="plugin-anchor" href="#rules-delete"><i class="fa fa-link" aria-hidden="true"></i></a>rules delete</h4>
<p>&#x5220;&#x9664;&#x89C4;&#x5219;:</p>
<pre class="language-"><code>## &#x5220;&#x9664; RuleID &#x4E3A; &apos;rule:9a6a725d&apos; &#x7684;&#x89C4;&#x5219;
$ ./bin/emqx_ctl rules delete &apos;rule:9a6a725d&apos;

ok
</code></pre><h3 id="rule-actions-&#x547D;&#x4EE4;"><a name="rule-actions-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#rule-actions-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rule-actions-&#x547D;&#x4EE4;" class="plugin-anchor" href="#rule-actions-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>rule-actions &#x547D;&#x4EE4;</h3>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rule-actions list</code></td>
<td>List actions</td>
</tr>
<tr>
<td><code>rule-actions show <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ActionId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>Show a rule action</td>
</tr>
</tbody>
</table>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>&#x52A8;&#x4F5C;&#x53EF;&#x4EE5;&#x7531; EMQ X &#x5185;&#x7F6E;(&#x79F0;&#x4E3A;&#x7CFB;&#x7EDF;&#x5185;&#x7F6E;&#x52A8;&#x4F5C;)&#xFF0C;&#x6216;&#x8005;&#x7531; EMQ X &#x63D2;&#x4EF6;&#x7F16;&#x5199;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x901A;&#x8FC7; CLI/API &#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;&#x3002;</p>
</div></div></p>
<h4 id="rule-actions-show"><a name="rule-actions-show" class="anchor-navigation-ex-anchor" href="#rule-actions-show"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rule-actions-show" class="plugin-anchor" href="#rule-actions-show"><i class="fa fa-link" aria-hidden="true"></i></a>rule-actions show</h4>
<p>&#x67E5;&#x8BE2;&#x52A8;&#x4F5C;:</p>
<pre class="language-"><code>## &#x67E5;&#x8BE2;&#x540D;&#x4E3A; &apos;inspect&apos; &#x7684;&#x52A8;&#x4F5C;
$ ./bin/emqx_ctl rule-actions show &apos;inspect&apos;

action(name=&apos;inspect&apos;, app=&apos;emqx_rule_engine&apos;, types=[], title =&apos;Inspect (debug)&apos;, description=&apos;Inspect the details of action params for debug purpose&apos;)
</code></pre><h4 id="rule-actions-list"><a name="rule-actions-list" class="anchor-navigation-ex-anchor" href="#rule-actions-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rule-actions-list" class="plugin-anchor" href="#rule-actions-list"><i class="fa fa-link" aria-hidden="true"></i></a>rule-actions list</h4>
<p>&#x5217;&#x51FA;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x52A8;&#x4F5C;:</p>
<pre class="language-"><code>## &#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x7684;&#x52A8;&#x4F5C;
$ ./bin/emqx_ctl rule-actions list

action(name=&apos;data_to_rabbit&apos;, app=&apos;emqx_bridge_rabbit&apos;, types=[bridge_rabbit], title =&apos;Data bridge to RabbitMQ&apos;, description=&apos;Store Data to Kafka&apos;)
action(name=&apos;data_to_timescaledb&apos;, app=&apos;emqx_backend_pgsql&apos;, types=[timescaledb], title =&apos;Data to TimescaleDB&apos;, description=&apos;Store data to TimescaleDB&apos;)
...
</code></pre><h3 id="resources-&#x547D;&#x4EE4;"><a name="resources-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#resources-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resources-&#x547D;&#x4EE4;" class="plugin-anchor" href="#resources-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>resources &#x547D;&#x4EE4;</h3>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>resources create <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span> [-c [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>config</span><span class="token punctuation">&gt;</span></span>]] [-d [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>descr</span><span class="token punctuation">&gt;</span></span>]]</code></td>
<td>Create a resource</td>
</tr>
<tr>
<td><code>resources list [-t <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResourceType</span><span class="token punctuation">&gt;</span></span>]</code></td>
<td>List resources</td>
</tr>
<tr>
<td><code>resources show <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResourceId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>Show a resource</td>
</tr>
<tr>
<td><code>resources delete <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResourceId</span><span class="token punctuation">&gt;</span></span></code></td>
<td>Delete a resource</td>
</tr>
</tbody>
</table>
<h4 id="resources-create"><a name="resources-create" class="anchor-navigation-ex-anchor" href="#resources-create"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resources-create" class="plugin-anchor" href="#resources-create"><i class="fa fa-link" aria-hidden="true"></i></a>resources create</h4>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x53C2;&#x6570;:</p>
<ul>
<li>type: &#x8D44;&#x6E90;&#x7C7B;&#x578B;</li>
<li>-c config: JSON &#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;</li>
<li><p>-d descr: &#x53EF;&#x9009;&#xFF0C;&#x8D44;&#x6E90;&#x7684;&#x63CF;&#x8FF0;</p>
<p>  $ ./bin/emqx_ctl resources create &apos;web_hook&apos; -c &apos;{&quot;url&quot;: &quot;<a href="http://host-name/chats&quot;}" target="_blank">http://host-name/chats&quot;}</a>&apos; -d &apos;forward msgs to host-name/chats&apos;</p>
<p>  Resource resource:a7a38187 created</p>
</li>
</ul>
<h4 id="resources-list"><a name="resources-list" class="anchor-navigation-ex-anchor" href="#resources-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resources-list" class="plugin-anchor" href="#resources-list"><i class="fa fa-link" aria-hidden="true"></i></a>resources list</h4>
<p>&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x7684;&#x8D44;&#x6E90;:</p>
<pre class="language-"><code>$ ./bin/emqx_ctl resources list

resource(id=&apos;resource:a7a38187&apos;, type=&apos;web_hook&apos;, config=#{&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&quot;url&quot;</span><span class="token punctuation">&gt;</span></span>&gt; =&gt; &lt;&lt;&quot;http://host-name/chats&quot;&gt;&gt;}, status=#{is_alive =&gt; false}, description=&apos;forward msgs to host-name/chats&apos;)
</code></pre><p>&#x5217;&#x51FA;&#x5F53;&#x524D;&#x67D0;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x8D44;&#x6E90;:</p>
<pre class="language-"><code>$ ./bin/emqx_ctl resources list --type=&apos;web_hook&apos;

resource(id=&apos;resource:a7a38187&apos;, type=&apos;web_hook&apos;, config=#{&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&quot;url&quot;</span><span class="token punctuation">&gt;</span></span>&gt; =&gt; &lt;&lt;&quot;http://host-name/chats&quot;&gt;&gt;}, status=#{is_alive =&gt; false}, description=&apos;forward msgs to host-name/chats&apos;)
</code></pre><h4 id="resources-show"><a name="resources-show" class="anchor-navigation-ex-anchor" href="#resources-show"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resources-show" class="plugin-anchor" href="#resources-show"><i class="fa fa-link" aria-hidden="true"></i></a>resources show</h4>
<p>&#x67E5;&#x8BE2;&#x8D44;&#x6E90;:</p>
<pre class="language-"><code>$ ./bin/emqx_ctl resources show &apos;resource:a7a38187&apos;

resource(id=&apos;resource:a7a38187&apos;, type=&apos;web_hook&apos;, config=#{&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>&quot;url&quot;</span><span class="token punctuation">&gt;</span></span>&gt; =&gt; &lt;&lt;&quot;http://host-name/chats&quot;&gt;&gt;}, status=#{is_alive =&gt; false}, description=&apos;forward msgs to host-name/chats&apos;)
</code></pre><h4 id="resources-delete"><a name="resources-delete" class="anchor-navigation-ex-anchor" href="#resources-delete"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resources-delete" class="plugin-anchor" href="#resources-delete"><i class="fa fa-link" aria-hidden="true"></i></a>resources delete</h4>
<p>&#x5220;&#x9664;&#x8D44;&#x6E90;:</p>
<pre class="language-"><code>$ ./bin/emqx_ctl resources delete &apos;resource:a7a38187&apos;

ok
</code></pre><h3 id="resource-types-&#x547D;&#x4EE4;"><a name="resource-types-&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#resource-types-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resource-types-&#x547D;&#x4EE4;" class="plugin-anchor" href="#resource-types-&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>resource-types &#x547D;&#x4EE4;</h3>
<table>
<thead>
<tr>
<th>&#x547D;&#x4EE4;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>resource-types list</td>
<td>List all resource-types</td>
</tr>
<tr>
<td>resource-types show <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span></code></td>
<td>Show a resource-type</td>
</tr>
</tbody>
</table>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>&#x8D44;&#x6E90;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x7531; EMQ X &#x5185;&#x7F6E;(&#x79F0;&#x4E3A;&#x7CFB;&#x7EDF;&#x5185;&#x7F6E;&#x8D44;&#x6E90;&#x7C7B;&#x578B;)&#xFF0C;&#x6216;&#x8005;&#x7531; EMQ X &#x63D2;&#x4EF6;&#x7F16;&#x5199;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x901A;&#x8FC7; CLI/API &#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;&#x3002;</p>
</div></div></p>
<h4 id="resource-types-list"><a name="resource-types-list" class="anchor-navigation-ex-anchor" href="#resource-types-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resource-types-list" class="plugin-anchor" href="#resource-types-list"><i class="fa fa-link" aria-hidden="true"></i></a>resource-types list</h4>
<p>&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x7C7B;&#x578B;:</p>
<pre class="language-"><code>./bin/emqx_ctl resource-types list

resource_type(name=&apos;backend_mongo_rs&apos;, provider=&apos;emqx_backend_mongo&apos;, title =&apos;MongoDB Replica Set Mode&apos;, description=&apos;MongoDB Replica Set Mode&apos;)
resource_type(name=&apos;backend_cassa&apos;, provider=&apos;emqx_backend_cassa&apos;, title =&apos;Cassandra&apos;, description=&apos;Cassandra Database&apos;)
...
</code></pre><h4 id="resource-types-show"><a name="resource-types-show" class="anchor-navigation-ex-anchor" href="#resource-types-show"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resource-types-show" class="plugin-anchor" href="#resource-types-show"><i class="fa fa-link" aria-hidden="true"></i></a>resource-types show</h4>
<p>&#x67E5;&#x8BE2;&#x8D44;&#x6E90;&#x7C7B;&#x578B;:</p>
<pre class="language-"><code>$ ./bin/emqx_ctl resource-types show backend_mysql

resource_type(name=&apos;backend_mysql&apos;, provider=&apos;emqx_backend_mysql&apos;, title =&apos;MySQL&apos;, description=&apos;MySQL Database&apos;)
</code></pre><h2 id="&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;"><a name="&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;" class="anchor-navigation-ex-anchor" href="#&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;" class="plugin-anchor" href="#&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E0E;&#x89C4;&#x5219;&#x5F15;&#x64CE;&#x76F8;&#x5173;&#x7684;&#x72B6;&#x6001;&#x3001;&#x7EDF;&#x8BA1;&#x6307;&#x6807;&#x548C;&#x544A;&#x8B66;</h2>
<h3 id="&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;"><a name="&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;" class="anchor-navigation-ex-anchor" href="#&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;" class="plugin-anchor" href="#&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x89C4;&#x5219;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807;</h3>
<p><img src="../assets/rule_metrics.png" alt="image"></p>
<ul>
<li>&#x5DF2;&#x547D;&#x4E2D;: &#x89C4;&#x5219;&#x547D;&#x4E2D;(&#x89C4;&#x5219; SQL &#x5339;&#x914D;&#x6210;&#x529F;)&#x7684;&#x6B21;&#x6570;&#xFF0C;</li>
<li>&#x547D;&#x4E2D;&#x901F;&#x5EA6;: &#x89C4;&#x5219;&#x547D;&#x4E2D;&#x7684;&#x901F;&#x5EA6;(&#x6B21;/&#x79D2;)</li>
<li>&#x6700;&#x5927;&#x547D;&#x4E2D;&#x901F;&#x5EA6;: &#x89C4;&#x5219;&#x547D;&#x4E2D;&#x901F;&#x5EA6;&#x7684;&#x5CF0;&#x503C;(&#x6B21;/&#x79D2;)</li>
<li>5&#x5206;&#x949F;&#x5E73;&#x5747;&#x901F;&#x5EA6;: 5&#x5206;&#x949F;&#x5185;&#x89C4;&#x5219;&#x7684;&#x5E73;&#x5747;&#x547D;&#x4E2D;&#x901F;&#x5EA6;(&#x6B21;/&#x79D2;)</li>
</ul>
<h3 id="action-metrics"><a name="action-metrics" class="anchor-navigation-ex-anchor" href="#action-metrics"><i class="fa fa-link" aria-hidden="true"></i></a><a name="action-metrics" class="plugin-anchor" href="#action-metrics"><i class="fa fa-link" aria-hidden="true"></i></a>&#x52A8;&#x4F5C;&#x72B6;&#x6001;&#x548C;&#x7EDF;&#x8BA1;&#x6307;&#x6807; </h3>
<p><img src="../assets/action_metrics.png" alt="image"></p>
<ul>
<li>&#x6210;&#x529F;: &#x52A8;&#x4F5C;&#x6267;&#x884C;&#x6210;&#x529F;&#x6B21;&#x6570;</li>
<li>&#x5931;&#x8D25;: &#x52A8;&#x4F5C;&#x6267;&#x884C;&#x5931;&#x8D25;&#x6B21;&#x6570;</li>
</ul>
<h3 id="resource-metrics"><a name="resource-metrics" class="anchor-navigation-ex-anchor" href="#resource-metrics"><i class="fa fa-link" aria-hidden="true"></i></a><a name="resource-metrics" class="plugin-anchor" href="#resource-metrics"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8D44;&#x6E90;&#x72B6;&#x6001;&#x548C;&#x544A;&#x8B66; </h3>
<p><img src="../assets/resource_status.png" alt="image"></p>
<ul>
<li>&#x53EF;&#x7528;: &#x8D44;&#x6E90;&#x53EF;&#x7528;</li>
<li>&#x4E0D;&#x53EF;&#x7528;: &#x8D44;&#x6E90;&#x4E0D;&#x53EF;&#x7528;(&#x6BD4;&#x5982;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x65AD;&#x5F00;)
<div id="gitalk-container"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script></li>
</ul>
<style>.emqxee { display: none; }</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="retransmission.html" class="navigation navigation-prev " aria-label="Previous page: 消息重传">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="http-api.html" class="navigation navigation-next " aria-label="Next page: 管理监控 API">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"命令行接口","date":"2020-02-07T17:15:26.000Z","author":"wivwiv","keywords":null,"description":null,"category":null,"ref":"undefined","level":"6.10","depth":1,"next":{"title":"管理监控 API","level":"7.1","depth":1,"path":"advanced/http-api.md","ref":"advanced/http-api.md","articles":[]},"previous":{"title":"消息重传","level":"6.9","depth":1,"path":"advanced/retransmission.md","ref":"advanced/retransmission.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-highlight","prism","hints","simpletabs","cuav-chapters","edit-link","gittalk","scripts","anchors","anchor-navigation-ex","emqx","-lunr","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"styles":{"website":"styles/website.css","ebook":"styles/ebook.css","pdf":"styles/pdf.css","mobi":"styles/mobi.css","epub":"styles/epub.css"},"github":{"url":"https://github.com/emqx/emqx"},"livereload":{},"scripts":{"files":["./_js/emqx-docs.js"]},"search":{},"local-pagefooter":{"copyright":"© Copyright 2016-2020, EMQ Technologies Co., Ltd.","islocal":true,"modify_label":"The document reversion time: ","modify_format":"YYYY-MM-DD HH:mm:ss"},"cuav-chapters":{"summaryMaxSize":20,"useLimitExpanded":false},"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-circle","working":"fa fa-wrench"},"emqx":{},"simpletabs":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"showLevel":false,"associatedWithSummary":true,"mode":"float","showGoTop":true,"printLog":false,"multipleH1":false,"float":{"floatIcon":"fa fa-navicon","showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""},"pageTop":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""}},"sharing":{"facebook":false,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"编辑","base":"https://github.com/emqx/emqx-docs-cn/source"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"gittalk":{"clientID":"3b2217a86bdbdc09d0d8","clientSecret":"aee2b15ea39c494eb80b775513d38791895adb63","repo":"emqx-docs-cn","owner":"emqx","admin":["wivwiv"],"distractionFreeMode":false}},"theme":"default","author":"EMQX Team","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"redirects":{},"variables":{},"title":"EMQ X 使用文档","language":"zh-hans","links":{"sharing":{"facebook":false,"twitter":"emqtt"}},"gitbook":"*","description":"EMQ X 百万级 MQTT 消息服务器使用文档"},"file":{"path":"advanced/cli.md","mtime":"2020-04-01T01:49:27.670Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-02T06:04:04.795Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-simpletabs/tabs.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-cuav-chapters/cuav-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-gittalk/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-scripts/d2a49e656f2a2a19e1c4ec4742014516-emqx-docs.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

