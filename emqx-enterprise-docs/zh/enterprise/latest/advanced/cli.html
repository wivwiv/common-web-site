<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>命令行接口 | EMQX 企业版文档</title><meta name="generator" content="VuePress 1.9.5"><link rel="shortcut icon" type="image/x-icon" href="/docs-images/favicon.ico"><script charset="utf-8" src="/iconfont/iconfont.js"></script><script>(function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2990978,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><link rel="canonical" href="https://docs.emqx.com/zh/enterprise/latest/advanced/cli.html"><meta name="docsearch:language" content="zh"><meta name="docsearch:product" content="enterprise"><meta name="docsearch:version" content="latest"><meta name="description" content=""><meta property="article:published_time" content="2020-02-07T17:15:26.000Z"><meta property="og:site_name" content="EMQ Documentation"><meta property="og:title" content="命令行接口"><meta property="og:type" content="website"><meta property="og:url" content="https://docs.emqx.com/zh/enterprise/latest/advanced/cli.html"><meta name="twitter:title" content="命令行接口"><meta name="twitter:url" content="https://docs.emqx.com/zh/enterprise/latest/advanced/cli.html"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@EMQTech"><meta name="twitter:creator" content="@EMQTech"><meta name="twitter:image" content="https://www.emqx.com/images/logo_512.png"><meta name="twitter:image:alt" content="EMQ LOGO"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta property="og:image" content="https://www.emqx.com/images/logo_512.png"><link rel="preload" href="/docs-assets/css/0.styles.30944fa5.css" as="style"><link rel="preload" href="/docs-assets/js/app.b7cd69d3.js" as="script"><link rel="preload" href="/docs-assets/js/3.c47ef470.js" as="script"><link rel="preload" href="/docs-assets/js/145.13d03034.js" as="script"><link rel="prefetch" href="/docs-assets/js/10.f29dcc50.js"><link rel="prefetch" href="/docs-assets/js/100.dd92377e.js"><link rel="prefetch" href="/docs-assets/js/101.78f9bf06.js"><link rel="prefetch" href="/docs-assets/js/102.da58783f.js"><link rel="prefetch" href="/docs-assets/js/103.67a9f630.js"><link rel="prefetch" href="/docs-assets/js/104.7ae47f4c.js"><link rel="prefetch" href="/docs-assets/js/105.585f69dd.js"><link rel="prefetch" href="/docs-assets/js/106.4f8743a7.js"><link rel="prefetch" href="/docs-assets/js/107.fdb81ce0.js"><link rel="prefetch" href="/docs-assets/js/108.558f79eb.js"><link rel="prefetch" href="/docs-assets/js/109.92ec90f3.js"><link rel="prefetch" href="/docs-assets/js/11.083a4a72.js"><link rel="prefetch" href="/docs-assets/js/110.12497c8c.js"><link rel="prefetch" href="/docs-assets/js/111.da4e0d0f.js"><link rel="prefetch" href="/docs-assets/js/112.3baa2211.js"><link rel="prefetch" href="/docs-assets/js/113.1930bc2f.js"><link rel="prefetch" href="/docs-assets/js/114.fa7d5a17.js"><link rel="prefetch" href="/docs-assets/js/115.efdd3556.js"><link rel="prefetch" href="/docs-assets/js/116.acc50eaa.js"><link rel="prefetch" href="/docs-assets/js/117.be3006ad.js"><link rel="prefetch" href="/docs-assets/js/118.0e83888a.js"><link rel="prefetch" href="/docs-assets/js/119.9397114a.js"><link rel="prefetch" href="/docs-assets/js/12.26a38211.js"><link rel="prefetch" href="/docs-assets/js/120.63b3749f.js"><link rel="prefetch" href="/docs-assets/js/121.2a407f9c.js"><link rel="prefetch" href="/docs-assets/js/122.586f2a64.js"><link rel="prefetch" href="/docs-assets/js/123.1311da6e.js"><link rel="prefetch" href="/docs-assets/js/124.0c9e0192.js"><link rel="prefetch" href="/docs-assets/js/125.32b010bd.js"><link rel="prefetch" href="/docs-assets/js/126.52283988.js"><link rel="prefetch" href="/docs-assets/js/127.ee1bc25a.js"><link rel="prefetch" href="/docs-assets/js/128.a5357be3.js"><link rel="prefetch" href="/docs-assets/js/129.e00317a6.js"><link rel="prefetch" href="/docs-assets/js/13.67a3210f.js"><link rel="prefetch" href="/docs-assets/js/130.594772f8.js"><link rel="prefetch" href="/docs-assets/js/131.84acbc82.js"><link rel="prefetch" href="/docs-assets/js/132.52786b4f.js"><link rel="prefetch" href="/docs-assets/js/133.13489431.js"><link rel="prefetch" href="/docs-assets/js/134.07f54db1.js"><link rel="prefetch" href="/docs-assets/js/135.b66135b0.js"><link rel="prefetch" href="/docs-assets/js/136.63cc897d.js"><link rel="prefetch" href="/docs-assets/js/137.f4a7dfb5.js"><link rel="prefetch" href="/docs-assets/js/138.be3bce65.js"><link rel="prefetch" href="/docs-assets/js/139.1e1aa551.js"><link rel="prefetch" href="/docs-assets/js/14.e55026e6.js"><link rel="prefetch" href="/docs-assets/js/140.e5495a15.js"><link rel="prefetch" href="/docs-assets/js/141.36451d38.js"><link rel="prefetch" href="/docs-assets/js/142.a458abf0.js"><link rel="prefetch" href="/docs-assets/js/143.7fba9b1f.js"><link rel="prefetch" href="/docs-assets/js/144.7f31b83b.js"><link rel="prefetch" href="/docs-assets/js/146.ae05364a.js"><link rel="prefetch" href="/docs-assets/js/147.680be9e1.js"><link rel="prefetch" href="/docs-assets/js/148.ce47f123.js"><link rel="prefetch" href="/docs-assets/js/149.d0a6cbee.js"><link rel="prefetch" href="/docs-assets/js/15.b43872d6.js"><link rel="prefetch" href="/docs-assets/js/150.77a52459.js"><link rel="prefetch" href="/docs-assets/js/151.9a55ba76.js"><link rel="prefetch" href="/docs-assets/js/152.4f9d25bd.js"><link rel="prefetch" href="/docs-assets/js/153.09850384.js"><link rel="prefetch" href="/docs-assets/js/154.1dc45a79.js"><link rel="prefetch" href="/docs-assets/js/155.9a359e42.js"><link rel="prefetch" href="/docs-assets/js/156.7ba55f53.js"><link rel="prefetch" href="/docs-assets/js/157.e500b8f1.js"><link rel="prefetch" href="/docs-assets/js/158.bcd425a4.js"><link rel="prefetch" href="/docs-assets/js/159.6368dfe6.js"><link rel="prefetch" href="/docs-assets/js/16.4d03b0a1.js"><link rel="prefetch" href="/docs-assets/js/160.9e48a572.js"><link rel="prefetch" href="/docs-assets/js/161.f3dcccdd.js"><link rel="prefetch" href="/docs-assets/js/162.a1b92f78.js"><link rel="prefetch" href="/docs-assets/js/163.30810611.js"><link rel="prefetch" href="/docs-assets/js/164.92cf62a0.js"><link rel="prefetch" href="/docs-assets/js/165.b109198f.js"><link rel="prefetch" href="/docs-assets/js/166.c1c56c9c.js"><link rel="prefetch" href="/docs-assets/js/167.2b9fcf6b.js"><link rel="prefetch" href="/docs-assets/js/168.438de5ea.js"><link rel="prefetch" href="/docs-assets/js/169.17eca1f9.js"><link rel="prefetch" href="/docs-assets/js/17.03930327.js"><link rel="prefetch" href="/docs-assets/js/170.9c2b8948.js"><link rel="prefetch" href="/docs-assets/js/171.1da77852.js"><link rel="prefetch" href="/docs-assets/js/172.bbbed780.js"><link rel="prefetch" href="/docs-assets/js/173.4b52ceac.js"><link rel="prefetch" href="/docs-assets/js/174.ba851c2b.js"><link rel="prefetch" href="/docs-assets/js/175.bd0753e3.js"><link rel="prefetch" href="/docs-assets/js/176.9f9a531c.js"><link rel="prefetch" href="/docs-assets/js/177.54749349.js"><link rel="prefetch" href="/docs-assets/js/178.7cf859ad.js"><link rel="prefetch" href="/docs-assets/js/179.23420125.js"><link rel="prefetch" href="/docs-assets/js/18.f0220ae4.js"><link rel="prefetch" href="/docs-assets/js/180.40667bcc.js"><link rel="prefetch" href="/docs-assets/js/181.02e71c69.js"><link rel="prefetch" href="/docs-assets/js/182.9bafc9d4.js"><link rel="prefetch" href="/docs-assets/js/183.27654d6f.js"><link rel="prefetch" href="/docs-assets/js/184.97970dca.js"><link rel="prefetch" href="/docs-assets/js/185.3dc227ac.js"><link rel="prefetch" href="/docs-assets/js/186.8cdd4af3.js"><link rel="prefetch" href="/docs-assets/js/187.28fce18a.js"><link rel="prefetch" href="/docs-assets/js/188.aa7ddb18.js"><link rel="prefetch" href="/docs-assets/js/189.4f2922e4.js"><link rel="prefetch" href="/docs-assets/js/19.39913ede.js"><link rel="prefetch" href="/docs-assets/js/190.34eb1d55.js"><link rel="prefetch" href="/docs-assets/js/191.e03a425e.js"><link rel="prefetch" href="/docs-assets/js/192.bd1acf00.js"><link rel="prefetch" href="/docs-assets/js/193.e14d3047.js"><link rel="prefetch" href="/docs-assets/js/194.7a3e2b42.js"><link rel="prefetch" href="/docs-assets/js/195.9d89248e.js"><link rel="prefetch" href="/docs-assets/js/196.27533146.js"><link rel="prefetch" href="/docs-assets/js/197.1053cd54.js"><link rel="prefetch" href="/docs-assets/js/198.7ad276db.js"><link rel="prefetch" href="/docs-assets/js/199.f0f1e866.js"><link rel="prefetch" href="/docs-assets/js/20.ef31760a.js"><link rel="prefetch" href="/docs-assets/js/200.ce70b113.js"><link rel="prefetch" href="/docs-assets/js/201.8a77459b.js"><link rel="prefetch" href="/docs-assets/js/202.2d04aea2.js"><link rel="prefetch" href="/docs-assets/js/203.a66483ec.js"><link rel="prefetch" href="/docs-assets/js/204.85007508.js"><link rel="prefetch" href="/docs-assets/js/205.e0be02e9.js"><link rel="prefetch" href="/docs-assets/js/206.37f4ce0b.js"><link rel="prefetch" href="/docs-assets/js/207.72ad87ee.js"><link rel="prefetch" href="/docs-assets/js/208.5256ee05.js"><link rel="prefetch" href="/docs-assets/js/209.85ec5717.js"><link rel="prefetch" href="/docs-assets/js/21.00ea2b19.js"><link rel="prefetch" href="/docs-assets/js/210.ced1c111.js"><link rel="prefetch" href="/docs-assets/js/211.a4c0c6e9.js"><link rel="prefetch" href="/docs-assets/js/212.a8a13a61.js"><link rel="prefetch" href="/docs-assets/js/213.45f15a16.js"><link rel="prefetch" href="/docs-assets/js/214.0f5ff96a.js"><link rel="prefetch" href="/docs-assets/js/215.0697a4d3.js"><link rel="prefetch" href="/docs-assets/js/216.82e22dd2.js"><link rel="prefetch" href="/docs-assets/js/217.c29f2bed.js"><link rel="prefetch" href="/docs-assets/js/218.9e396e7e.js"><link rel="prefetch" href="/docs-assets/js/219.4ac9567c.js"><link rel="prefetch" href="/docs-assets/js/22.e05ef252.js"><link rel="prefetch" href="/docs-assets/js/220.86603c72.js"><link rel="prefetch" href="/docs-assets/js/221.f1c0fda9.js"><link rel="prefetch" href="/docs-assets/js/222.b6b66b71.js"><link rel="prefetch" href="/docs-assets/js/223.671b3424.js"><link rel="prefetch" href="/docs-assets/js/224.e05f5dc7.js"><link rel="prefetch" href="/docs-assets/js/225.affa812b.js"><link rel="prefetch" href="/docs-assets/js/226.1e077ce4.js"><link rel="prefetch" href="/docs-assets/js/227.0a09d92c.js"><link rel="prefetch" href="/docs-assets/js/228.46bcc2b0.js"><link rel="prefetch" href="/docs-assets/js/229.aca259b7.js"><link rel="prefetch" href="/docs-assets/js/23.b970ad64.js"><link rel="prefetch" href="/docs-assets/js/230.ff6dbb9d.js"><link rel="prefetch" href="/docs-assets/js/231.a4a7bd32.js"><link rel="prefetch" href="/docs-assets/js/232.b6c5133e.js"><link rel="prefetch" href="/docs-assets/js/233.3a8e1d11.js"><link rel="prefetch" href="/docs-assets/js/234.de1007c8.js"><link rel="prefetch" href="/docs-assets/js/235.7edb49aa.js"><link rel="prefetch" href="/docs-assets/js/236.2f5ffe6d.js"><link rel="prefetch" href="/docs-assets/js/237.3c3a4015.js"><link rel="prefetch" href="/docs-assets/js/238.c71e6dab.js"><link rel="prefetch" href="/docs-assets/js/239.bb0ad5b4.js"><link rel="prefetch" href="/docs-assets/js/24.02c167f7.js"><link rel="prefetch" href="/docs-assets/js/240.0abf517a.js"><link rel="prefetch" href="/docs-assets/js/241.bc4c0d21.js"><link rel="prefetch" href="/docs-assets/js/242.bc1e8adc.js"><link rel="prefetch" href="/docs-assets/js/243.6bce5fb4.js"><link rel="prefetch" href="/docs-assets/js/244.2df022e5.js"><link rel="prefetch" href="/docs-assets/js/245.3ea32d2d.js"><link rel="prefetch" href="/docs-assets/js/246.11e84e89.js"><link rel="prefetch" href="/docs-assets/js/247.df6099af.js"><link rel="prefetch" href="/docs-assets/js/248.8260b85a.js"><link rel="prefetch" href="/docs-assets/js/249.e890cfe3.js"><link rel="prefetch" href="/docs-assets/js/25.b3fcd6ca.js"><link rel="prefetch" href="/docs-assets/js/250.facd3fa7.js"><link rel="prefetch" href="/docs-assets/js/251.e36e3399.js"><link rel="prefetch" href="/docs-assets/js/252.8a625b39.js"><link rel="prefetch" href="/docs-assets/js/253.007f05e9.js"><link rel="prefetch" href="/docs-assets/js/254.2cb6f7a2.js"><link rel="prefetch" href="/docs-assets/js/255.b4f3813e.js"><link rel="prefetch" href="/docs-assets/js/256.fffd7209.js"><link rel="prefetch" href="/docs-assets/js/257.d9ac57f4.js"><link rel="prefetch" href="/docs-assets/js/258.0700a557.js"><link rel="prefetch" href="/docs-assets/js/259.8a5858a6.js"><link rel="prefetch" href="/docs-assets/js/26.0f75e19a.js"><link rel="prefetch" href="/docs-assets/js/260.a809aed3.js"><link rel="prefetch" href="/docs-assets/js/261.d21b6b81.js"><link rel="prefetch" href="/docs-assets/js/262.2062a4e9.js"><link rel="prefetch" href="/docs-assets/js/263.1018d506.js"><link rel="prefetch" href="/docs-assets/js/264.36d57f69.js"><link rel="prefetch" href="/docs-assets/js/265.9b5495c2.js"><link rel="prefetch" href="/docs-assets/js/266.2c079d26.js"><link rel="prefetch" href="/docs-assets/js/267.6f36646a.js"><link rel="prefetch" href="/docs-assets/js/268.3f03dce5.js"><link rel="prefetch" href="/docs-assets/js/269.7dbdae40.js"><link rel="prefetch" href="/docs-assets/js/27.bebc426d.js"><link rel="prefetch" href="/docs-assets/js/270.1b0a2a2c.js"><link rel="prefetch" href="/docs-assets/js/271.0656f13c.js"><link rel="prefetch" href="/docs-assets/js/272.c0edf60a.js"><link rel="prefetch" href="/docs-assets/js/273.3f27696c.js"><link rel="prefetch" href="/docs-assets/js/274.3a4f3e48.js"><link rel="prefetch" href="/docs-assets/js/275.89c1492c.js"><link rel="prefetch" href="/docs-assets/js/276.58983e8f.js"><link rel="prefetch" href="/docs-assets/js/277.0e090c7c.js"><link rel="prefetch" href="/docs-assets/js/278.199b778e.js"><link rel="prefetch" href="/docs-assets/js/279.809596de.js"><link rel="prefetch" href="/docs-assets/js/28.1316cd4e.js"><link rel="prefetch" href="/docs-assets/js/280.d99f4249.js"><link rel="prefetch" href="/docs-assets/js/281.e024c926.js"><link rel="prefetch" href="/docs-assets/js/282.0f1eaab2.js"><link rel="prefetch" href="/docs-assets/js/283.97a2d0ed.js"><link rel="prefetch" href="/docs-assets/js/284.84a935fe.js"><link rel="prefetch" href="/docs-assets/js/285.122d36dd.js"><link rel="prefetch" href="/docs-assets/js/286.db56a688.js"><link rel="prefetch" href="/docs-assets/js/287.76e2ce08.js"><link rel="prefetch" href="/docs-assets/js/288.ec414008.js"><link rel="prefetch" href="/docs-assets/js/289.68639c80.js"><link rel="prefetch" href="/docs-assets/js/29.e6dcffb4.js"><link rel="prefetch" href="/docs-assets/js/290.f49b8cb4.js"><link rel="prefetch" href="/docs-assets/js/291.676417fb.js"><link rel="prefetch" href="/docs-assets/js/292.24c6f690.js"><link rel="prefetch" href="/docs-assets/js/293.c06e0ff8.js"><link rel="prefetch" href="/docs-assets/js/294.170a69da.js"><link rel="prefetch" href="/docs-assets/js/295.9ddbea1e.js"><link rel="prefetch" href="/docs-assets/js/296.24631c70.js"><link rel="prefetch" href="/docs-assets/js/297.b9fa8707.js"><link rel="prefetch" href="/docs-assets/js/298.c9c8fffb.js"><link rel="prefetch" href="/docs-assets/js/299.b716ee66.js"><link rel="prefetch" href="/docs-assets/js/30.c338ac22.js"><link rel="prefetch" href="/docs-assets/js/300.a6f08c7d.js"><link rel="prefetch" href="/docs-assets/js/301.dee917bb.js"><link rel="prefetch" href="/docs-assets/js/302.d877ec00.js"><link rel="prefetch" href="/docs-assets/js/303.14c8d664.js"><link rel="prefetch" href="/docs-assets/js/304.0cb77bd1.js"><link rel="prefetch" href="/docs-assets/js/305.c167fc56.js"><link rel="prefetch" href="/docs-assets/js/306.878256db.js"><link rel="prefetch" href="/docs-assets/js/307.3986064d.js"><link rel="prefetch" href="/docs-assets/js/308.07c2c6e6.js"><link rel="prefetch" href="/docs-assets/js/309.2537f38b.js"><link rel="prefetch" href="/docs-assets/js/31.01d6777f.js"><link rel="prefetch" href="/docs-assets/js/310.2267e9e6.js"><link rel="prefetch" href="/docs-assets/js/311.3e2f8bbd.js"><link rel="prefetch" href="/docs-assets/js/312.d1343933.js"><link rel="prefetch" href="/docs-assets/js/313.93dd5b8e.js"><link rel="prefetch" href="/docs-assets/js/314.e4b2a890.js"><link rel="prefetch" href="/docs-assets/js/315.0fc668b4.js"><link rel="prefetch" href="/docs-assets/js/316.aadfb9cb.js"><link rel="prefetch" href="/docs-assets/js/317.b089a4c1.js"><link rel="prefetch" href="/docs-assets/js/318.fd94a0bf.js"><link rel="prefetch" href="/docs-assets/js/319.cde27122.js"><link rel="prefetch" href="/docs-assets/js/32.9edae42d.js"><link rel="prefetch" href="/docs-assets/js/320.64753f43.js"><link rel="prefetch" href="/docs-assets/js/321.0b4fe303.js"><link rel="prefetch" href="/docs-assets/js/322.0fedd97a.js"><link rel="prefetch" href="/docs-assets/js/323.bf5a8ac4.js"><link rel="prefetch" href="/docs-assets/js/324.48dff3ae.js"><link rel="prefetch" href="/docs-assets/js/325.583fb8f8.js"><link rel="prefetch" href="/docs-assets/js/326.61a5b107.js"><link rel="prefetch" href="/docs-assets/js/327.ec4c95b8.js"><link rel="prefetch" href="/docs-assets/js/328.f0056afc.js"><link rel="prefetch" href="/docs-assets/js/329.88f423a1.js"><link rel="prefetch" href="/docs-assets/js/33.eacf3cf6.js"><link rel="prefetch" href="/docs-assets/js/330.81cdfccb.js"><link rel="prefetch" href="/docs-assets/js/331.1681668a.js"><link rel="prefetch" href="/docs-assets/js/332.3c60599b.js"><link rel="prefetch" href="/docs-assets/js/333.fd6d1c99.js"><link rel="prefetch" href="/docs-assets/js/334.90792fb5.js"><link rel="prefetch" href="/docs-assets/js/335.6fca3dfd.js"><link rel="prefetch" href="/docs-assets/js/336.81429528.js"><link rel="prefetch" href="/docs-assets/js/337.b67fae0f.js"><link rel="prefetch" href="/docs-assets/js/338.58245c79.js"><link rel="prefetch" href="/docs-assets/js/339.c007c6d3.js"><link rel="prefetch" href="/docs-assets/js/34.31f57889.js"><link rel="prefetch" href="/docs-assets/js/340.1116c6cd.js"><link rel="prefetch" href="/docs-assets/js/341.37f67dfa.js"><link rel="prefetch" href="/docs-assets/js/342.7fc36b6b.js"><link rel="prefetch" href="/docs-assets/js/343.74a4d89b.js"><link rel="prefetch" href="/docs-assets/js/344.d074b240.js"><link rel="prefetch" href="/docs-assets/js/345.5f0932b2.js"><link rel="prefetch" href="/docs-assets/js/346.061ef3f1.js"><link rel="prefetch" href="/docs-assets/js/347.9ac1ec3c.js"><link rel="prefetch" href="/docs-assets/js/348.3ee40dc5.js"><link rel="prefetch" href="/docs-assets/js/349.8c68cde1.js"><link rel="prefetch" href="/docs-assets/js/35.0d03d0be.js"><link rel="prefetch" href="/docs-assets/js/350.8f48f6ac.js"><link rel="prefetch" href="/docs-assets/js/351.fa0625bf.js"><link rel="prefetch" href="/docs-assets/js/352.4a703890.js"><link rel="prefetch" href="/docs-assets/js/353.5648c15e.js"><link rel="prefetch" href="/docs-assets/js/354.03eab3a6.js"><link rel="prefetch" href="/docs-assets/js/355.b07eb924.js"><link rel="prefetch" href="/docs-assets/js/356.81e4e0e2.js"><link rel="prefetch" href="/docs-assets/js/357.b85b42cc.js"><link rel="prefetch" href="/docs-assets/js/358.f1cd6481.js"><link rel="prefetch" href="/docs-assets/js/359.8f878573.js"><link rel="prefetch" href="/docs-assets/js/36.59740493.js"><link rel="prefetch" href="/docs-assets/js/360.ee7d63e5.js"><link rel="prefetch" href="/docs-assets/js/361.ad18a784.js"><link rel="prefetch" href="/docs-assets/js/362.29af9ba0.js"><link rel="prefetch" href="/docs-assets/js/363.57c6d6ba.js"><link rel="prefetch" href="/docs-assets/js/364.deddb5f2.js"><link rel="prefetch" href="/docs-assets/js/365.fd90695b.js"><link rel="prefetch" href="/docs-assets/js/366.8a53ab25.js"><link rel="prefetch" href="/docs-assets/js/367.b556b183.js"><link rel="prefetch" href="/docs-assets/js/368.47e932a8.js"><link rel="prefetch" href="/docs-assets/js/369.358ea7c2.js"><link rel="prefetch" href="/docs-assets/js/37.e09d11ea.js"><link rel="prefetch" href="/docs-assets/js/370.8ea32d4d.js"><link rel="prefetch" href="/docs-assets/js/371.ecf2fd00.js"><link rel="prefetch" href="/docs-assets/js/372.a4e4d233.js"><link rel="prefetch" href="/docs-assets/js/373.c656b9aa.js"><link rel="prefetch" href="/docs-assets/js/374.5473cf7b.js"><link rel="prefetch" href="/docs-assets/js/375.346dacd3.js"><link rel="prefetch" href="/docs-assets/js/376.61ee0bd6.js"><link rel="prefetch" href="/docs-assets/js/377.21b57da3.js"><link rel="prefetch" href="/docs-assets/js/378.9d56e7fb.js"><link rel="prefetch" href="/docs-assets/js/379.bbd5b5f5.js"><link rel="prefetch" href="/docs-assets/js/38.088dc592.js"><link rel="prefetch" href="/docs-assets/js/380.1e3dc360.js"><link rel="prefetch" href="/docs-assets/js/381.d56e1306.js"><link rel="prefetch" href="/docs-assets/js/382.ad1d7295.js"><link rel="prefetch" href="/docs-assets/js/383.e00cda22.js"><link rel="prefetch" href="/docs-assets/js/384.2a8f70fb.js"><link rel="prefetch" href="/docs-assets/js/385.6977ff59.js"><link rel="prefetch" href="/docs-assets/js/386.fbfe7af2.js"><link rel="prefetch" href="/docs-assets/js/387.3f273551.js"><link rel="prefetch" href="/docs-assets/js/388.f74ee3fd.js"><link rel="prefetch" href="/docs-assets/js/389.99b5aa92.js"><link rel="prefetch" href="/docs-assets/js/39.fd3bb8e6.js"><link rel="prefetch" href="/docs-assets/js/390.51dcaf05.js"><link rel="prefetch" href="/docs-assets/js/391.5ee7808b.js"><link rel="prefetch" href="/docs-assets/js/392.dec95fa3.js"><link rel="prefetch" href="/docs-assets/js/393.b8eed71c.js"><link rel="prefetch" href="/docs-assets/js/394.1a060866.js"><link rel="prefetch" href="/docs-assets/js/395.f48e4dd6.js"><link rel="prefetch" href="/docs-assets/js/396.c524e7c6.js"><link rel="prefetch" href="/docs-assets/js/4.a1e74be4.js"><link rel="prefetch" href="/docs-assets/js/40.7b386dbc.js"><link rel="prefetch" href="/docs-assets/js/41.86deacd2.js"><link rel="prefetch" href="/docs-assets/js/42.fb9f4c36.js"><link rel="prefetch" href="/docs-assets/js/43.c1bed7b3.js"><link rel="prefetch" href="/docs-assets/js/44.a1893887.js"><link rel="prefetch" href="/docs-assets/js/45.79b33f50.js"><link rel="prefetch" href="/docs-assets/js/46.40696e48.js"><link rel="prefetch" href="/docs-assets/js/47.f30af45e.js"><link rel="prefetch" href="/docs-assets/js/48.d05e3936.js"><link rel="prefetch" href="/docs-assets/js/49.afe70461.js"><link rel="prefetch" href="/docs-assets/js/5.f0952d74.js"><link rel="prefetch" href="/docs-assets/js/50.9a541881.js"><link rel="prefetch" href="/docs-assets/js/51.6b58bbfc.js"><link rel="prefetch" href="/docs-assets/js/52.40384b24.js"><link rel="prefetch" href="/docs-assets/js/53.5212e36a.js"><link rel="prefetch" href="/docs-assets/js/54.28869319.js"><link rel="prefetch" href="/docs-assets/js/55.ecbb97bd.js"><link rel="prefetch" href="/docs-assets/js/56.c4231b6e.js"><link rel="prefetch" href="/docs-assets/js/57.384e1869.js"><link rel="prefetch" href="/docs-assets/js/58.991a7a71.js"><link rel="prefetch" href="/docs-assets/js/59.ee063ac4.js"><link rel="prefetch" href="/docs-assets/js/6.4bc70364.js"><link rel="prefetch" href="/docs-assets/js/60.169b2312.js"><link rel="prefetch" href="/docs-assets/js/61.d27d1edb.js"><link rel="prefetch" href="/docs-assets/js/62.61447363.js"><link rel="prefetch" href="/docs-assets/js/63.215b79aa.js"><link rel="prefetch" href="/docs-assets/js/64.5de7dff1.js"><link rel="prefetch" href="/docs-assets/js/65.7b9e5721.js"><link rel="prefetch" href="/docs-assets/js/66.e8970081.js"><link rel="prefetch" href="/docs-assets/js/67.e10a1714.js"><link rel="prefetch" href="/docs-assets/js/68.058f817d.js"><link rel="prefetch" href="/docs-assets/js/69.a5831684.js"><link rel="prefetch" href="/docs-assets/js/7.b1bc1fcb.js"><link rel="prefetch" href="/docs-assets/js/70.d31144da.js"><link rel="prefetch" href="/docs-assets/js/71.4cb7fb4e.js"><link rel="prefetch" href="/docs-assets/js/72.1f442e2f.js"><link rel="prefetch" href="/docs-assets/js/73.369cecf9.js"><link rel="prefetch" href="/docs-assets/js/74.6ed49d5f.js"><link rel="prefetch" href="/docs-assets/js/75.311ab350.js"><link rel="prefetch" href="/docs-assets/js/76.5259b1cd.js"><link rel="prefetch" href="/docs-assets/js/77.c9132725.js"><link rel="prefetch" href="/docs-assets/js/78.831cee1c.js"><link rel="prefetch" href="/docs-assets/js/79.7bb5bf5f.js"><link rel="prefetch" href="/docs-assets/js/8.fdbf461c.js"><link rel="prefetch" href="/docs-assets/js/80.12208427.js"><link rel="prefetch" href="/docs-assets/js/81.3ce772a8.js"><link rel="prefetch" href="/docs-assets/js/82.1cbb4427.js"><link rel="prefetch" href="/docs-assets/js/83.688291d6.js"><link rel="prefetch" href="/docs-assets/js/84.1be74fbf.js"><link rel="prefetch" href="/docs-assets/js/85.61c71caa.js"><link rel="prefetch" href="/docs-assets/js/86.61fc591c.js"><link rel="prefetch" href="/docs-assets/js/87.11fd30b6.js"><link rel="prefetch" href="/docs-assets/js/88.14dc901b.js"><link rel="prefetch" href="/docs-assets/js/89.e9a88dd8.js"><link rel="prefetch" href="/docs-assets/js/9.51dd7e81.js"><link rel="prefetch" href="/docs-assets/js/90.1a3451d4.js"><link rel="prefetch" href="/docs-assets/js/91.fea72d57.js"><link rel="prefetch" href="/docs-assets/js/92.101bd0bc.js"><link rel="prefetch" href="/docs-assets/js/93.cbbe6d67.js"><link rel="prefetch" href="/docs-assets/js/94.58a5efb3.js"><link rel="prefetch" href="/docs-assets/js/95.bb44c04a.js"><link rel="prefetch" href="/docs-assets/js/96.ea5a4fb3.js"><link rel="prefetch" href="/docs-assets/js/97.021cdaf5.js"><link rel="prefetch" href="/docs-assets/js/98.63fdd87e.js"><link rel="prefetch" href="/docs-assets/js/99.950ba3fb.js"><link rel="prefetch" href="/docs-assets/js/vendors~docsearch.92b608d1.js"><link rel="stylesheet" href="/docs-assets/css/0.styles.30944fa5.css"></head><body><div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><div class="navbar-left"><a href="/zh/" class="home-link"><img src="/docs-images/logo.png" alt="物联网 MQTT 服务器文档" class="logo"> <span class="site-name can-hide">Docs</span></a><div class="lang-change"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">中文 </span><span class="arrow down"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="router-link-active nav-link active">中文</a></li></ul></div></div></div><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="navbar-algolia-input" class="search-query"></form><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="https://askemq.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">问答</a></div><div class="nav-item"><a href="https://www.emqx.com/zh/events" target="_blank" rel="noopener noreferrer" class="nav-link external">活动</a></div><div class="nav-item"><a href="https://www.emqx.com/zh/community" target="_blank" rel="noopener noreferrer" class="nav-link external">社区</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><span class="title">学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习" class="mobile-dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/zh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">博客</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=videos" target="_blank" rel="noopener noreferrer" class="nav-link external">视频</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=ebooks" target="_blank" rel="noopener noreferrer" class="nav-link external">电子书</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=reports" target="_blank" rel="noopener noreferrer" class="nav-link external">测试报告</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=white-papers" target="_blank" rel="noopener noreferrer" class="nav-link external">白皮书</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQTT" class="dropdown-title"><span class="title">MQTT</span> <span class="arrow down"></span></button> <button type="button" aria-label="MQTT" class="mobile-dropdown-title"><span class="title">MQTT</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt/mqtt5" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT 5</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/products/mqttx" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT X</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt/public-mqtt5-broker" target="_blank" rel="noopener noreferrer" class="nav-link external">在线 MQTT 5 服务器</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT Websocket Toolkit</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link router-link-active">中文</a></li></ul></div></div><div class="btns"><a href="https://www.emqx.com/zh/contact?product=emqx" target="_blank" rel="noopener" class="contact-us nav-item">联系我们 </a><a href="https://www.emqx.com/zh/try?product=enterprise" target="_blank" rel="noopener" class="downloads nav-item">免费试用</a></div></nav></div></header><div class="sidebar-mask"></div><section class="main-box"><div class="columns is-mobile"><aside class="left-column sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://askemq.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">问答</a></div><div class="nav-item"><a href="https://www.emqx.com/zh/events" target="_blank" rel="noopener noreferrer" class="nav-link external">活动</a></div><div class="nav-item"><a href="https://www.emqx.com/zh/community" target="_blank" rel="noopener noreferrer" class="nav-link external">社区</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><span class="title">学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习" class="mobile-dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/zh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">博客</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=videos" target="_blank" rel="noopener noreferrer" class="nav-link external">视频</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=ebooks" target="_blank" rel="noopener noreferrer" class="nav-link external">电子书</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=reports" target="_blank" rel="noopener noreferrer" class="nav-link external">测试报告</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/resources?type=white-papers" target="_blank" rel="noopener noreferrer" class="nav-link external">白皮书</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQTT" class="dropdown-title"><span class="title">MQTT</span> <span class="arrow down"></span></button> <button type="button" aria-label="MQTT" class="mobile-dropdown-title"><span class="title">MQTT</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt/mqtt5" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT 5</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/products/mqttx" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT X</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt/public-mqtt5-broker" target="_blank" rel="noopener noreferrer" class="nav-link external">在线 MQTT 5 服务器</a></li><li class="dropdown-item"><a href="https://www.emqx.com/zh/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT Websocket Toolkit</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link router-link-active">中文</a></li></ul></div></div><div class="btns"><a href="https://www.emqx.com/zh/contact?product=emqx" target="_blank" rel="noopener" class="contact-us nav-item">联系我们 </a><a href="https://www.emqx.com/zh/try?product=enterprise" target="_blank" rel="noopener" class="downloads nav-item">免费试用</a></div></nav><div class="version-pick"><a href="/zh/enterprise/latest" class="home-link router-link-active"><h2 class="title p-0 is-flex is-align-items-center"><svg aria-hidden="true" class="icon mr-2"><use xlink:href="#icon-enterprise"></use></svg> EMQX 企业版</h2></a><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">latest </span><span class="arrow down"></span></button></div></div><ul class="sidebar-links"><li><a href="/zh/enterprise/latest/" aria-current="page" class="sidebar-link">产品概览</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开始使用</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安装与部署</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运行监测</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MQTT 高级特性</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>规则引擎(数据集成)</span> <span class="arrow right"></span></p></section></li><li><a href="/zh/enterprise/latest/advanced/http-api.html" class="sidebar-link">HTTP API</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html" aria-current="page" class="active sidebar-link">命令行接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#status-命令" class="sidebar-link">status 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#mgmt-命令" class="sidebar-link">mgmt 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#broker-命令" class="sidebar-link">broker 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#cluster-命令" class="sidebar-link">cluster 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#acl-命令" class="sidebar-link">acl 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#clients-命令" class="sidebar-link">clients 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#routes-命令" class="sidebar-link">routes 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#subscriptions-命令" class="sidebar-link">subscriptions 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#plugins-命令" class="sidebar-link">plugins 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#modules-命令" class="sidebar-link">modules 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#vm-命令" class="sidebar-link">vm 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#mnesia-命令" class="sidebar-link">mnesia 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#log-命令" class="sidebar-link">log 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#trace-命令" class="sidebar-link">trace 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#listeners" class="sidebar-link">listeners</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#recon-命令" class="sidebar-link">recon 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#retainer-命令" class="sidebar-link">retainer 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#admins-命令" class="sidebar-link">admins 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#规则引擎-rule-engine-命令" class="sidebar-link">规则引擎(rule engine) 命令</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#与规则引擎相关的状态、统计指标和告警" class="sidebar-link">与规则引擎相关的状态、统计指标和告警</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#emqx-内置数据库-auth-与-acl-规则" class="sidebar-link">EMQX 内置数据库 Auth 与 ACL 规则</a></li><li class="sidebar-sub-header"><a href="/zh/enterprise/latest/advanced/cli.html#pem-cache-命令" class="sidebar-link">pem_cache 命令</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>参数配置</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网关</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>插件与扩展</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块管理</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计与实现</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SDK &amp; Tools</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ 常见问题解答</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>版本发布</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>相关资料</span> <span class="arrow right"></span></p></section></li></ul></aside><div class="column col-page"><main class="page"><div id="loader-wrapper" style="display:none" data-v-78d8edea><div class="loader" data-v-78d8edea><div class="ball-spin-fade-loader" data-v-78d8edea><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div></div></div></div><div class="theme-default-content reset-width content__default"><h1 id="命令行接口"><a href="#命令行接口" class="header-anchor">#</a> 命令行接口</h1><p>EMQX 提供了 <code>./bin/emqx_ctl</code> 的管理命令行，用于用户对 EMQX 进行管理、配置、查询。</p><h2 id="status-命令"><a href="#status-命令" class="header-anchor">#</a> status 命令</h2><p>查询 EMQX 运行状态:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl status
Node <span class="token string">'emqx@127.0.0.1'</span> is started
emqx v4.0.0 is running
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="mgmt-命令"><a href="#mgmt-命令" class="header-anchor">#</a> mgmt 命令</h2><p>mgmt 命令查询应用程序。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>mgmt list</code></td><td>列出应用程序列表</td></tr><tr><td><code>mgmt insert &lt;AppId&gt; &lt;Name&gt;</code></td><td>添加允许访问 HTTP API 的应用程序</td></tr><tr><td><code>mgmt update &lt;AppId&gt; &lt;status&gt;</code></td><td>更新允许访问 HTTP API 的应用程序</td></tr><tr><td><code>mgmt lookup &lt;AppId&gt;</code></td><td>获取允许访问 HTTP API 的应用程序详情</td></tr><tr><td><code>mgmt delete &lt;AppId&gt;</code></td><td>删除允许访问 HTTP API 的应用程序</td></tr></tbody></table><h3 id="mgmt-list"><a href="#mgmt-list" class="header-anchor">#</a> mgmt list</h3><p>列出应用程序列表:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl mgmt list
app_id: 901abdba8eb8c, secret: MjgzMzQ5MjM1MzUzMTc4MjgyMjE3NzU4ODcwMDg0NjQ4OTG, name: hello, desc: , status: true, expired: undefined
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="mgmt-insert-appid-name"><a href="#mgmt-insert-appid-name" class="header-anchor">#</a> mgmt insert &lt;AppId&gt; &lt;Name&gt;</h3><p>添加 HTTP API 的应用程序:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl mgmt insert dbcb6e023370b world
AppSecret: MjgzMzQ5MjYyMTY3ODk4MjA5NzMwODExODMxMDM1NDk0NDA
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="mgmt-update-appid-status"><a href="#mgmt-update-appid-status" class="header-anchor">#</a> mgmt update &lt;AppId&gt; &lt;status&gt;</h3><p>更新 HTTP API 的应用程序:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl mgmt update dbcb6e023370b stop
update successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="mgmt-lookup-appid"><a href="#mgmt-lookup-appid" class="header-anchor">#</a> mgmt lookup &lt;AppId&gt;</h3><p>获取 HTTP API 的应用程序详情:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl mgmt lookup dbcb6e023370b
app_id: dbcb6e023370b
secret: MjgzMzQ5MjYyMTY3ODk4MjA5NzMwODExODMxMDM1NDk0NDA
name: world
desc: Application user
status: stop
expired: undefined
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="mgmt-delete-appid"><a href="#mgmt-delete-appid" class="header-anchor">#</a> mgmt delete &lt;AppId&gt;</h3><p>删除 HTTP API 的应用程序:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl mgmt delete dbcb6e023370b
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="broker-命令"><a href="#broker-命令" class="header-anchor">#</a> broker 命令</h2><p>broker 命令查询服务器基本信息，启动时间，统计数据与性能数据。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>broker</code></td><td>查询 EMQX 描述、版本、启动时间</td></tr><tr><td><code>broker stats</code></td><td>查询连接 (Connection)、会话 (Session)、主题 (Topic)、订阅 (Subscription)、路由 (Route) 统计信息</td></tr><tr><td><code>broker metrics</code></td><td>查询 MQTT 报文 (Packet)、消息 (Message) 收发统计</td></tr></tbody></table><p>查询 EMQX 基本信息，包括版本、启动时间等:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl broker
sysdescr  <span class="token builtin class-name">:</span> EMQX Broker
version   <span class="token builtin class-name">:</span> <span class="token number">4.0</span>.0
<span class="token function">uptime</span>    <span class="token builtin class-name">:</span> <span class="token number">4</span> minutes, <span class="token number">52</span> seconds
datetime  <span class="token builtin class-name">:</span> <span class="token number">2020</span>-02-21 09:39:58
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="broker-stats"><a href="#broker-stats" class="header-anchor">#</a> broker stats</h3><p>查询服务器客户端连接 (Connections)、主题 (Topics)、订阅 (Subscriptions)、路由 (Routes) 统计:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl broker stats
channels.count                <span class="token builtin class-name">:</span> <span class="token number">0</span>
channels.max                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
connections.count             <span class="token builtin class-name">:</span> <span class="token number">0</span>
connections.max               <span class="token builtin class-name">:</span> <span class="token number">0</span>
resources.count               <span class="token builtin class-name">:</span> <span class="token number">0</span>
resources.max                 <span class="token builtin class-name">:</span> <span class="token number">0</span>
retained.count                <span class="token builtin class-name">:</span> <span class="token number">3</span>
retained.max                  <span class="token builtin class-name">:</span> <span class="token number">3</span>
routes.count                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
routes.max                    <span class="token builtin class-name">:</span> <span class="token number">0</span>
sessions.count                <span class="token builtin class-name">:</span> <span class="token number">0</span>
sessions.max                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
suboptions.count              <span class="token builtin class-name">:</span> <span class="token number">0</span>
suboptions.max                <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscribers.count             <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscribers.max               <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.count           <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.max             <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.shared.count    <span class="token builtin class-name">:</span> <span class="token number">0</span>
subscriptions.shared.max      <span class="token builtin class-name">:</span> <span class="token number">0</span>
topics.count                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
topics.max                    <span class="token builtin class-name">:</span> <span class="token number">0</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="broker-metrics"><a href="#broker-metrics" class="header-anchor">#</a> broker metrics</h3><p>查询服务器流量 (Bytes)、MQTT 报文 (Packets)、消息 (Messages) 收发统计:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl broker metrics
bytes.received                <span class="token builtin class-name">:</span> <span class="token number">0</span>
bytes.sent                    <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.auth.anonymous         <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.authenticate           <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.check_acl              <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.connack                <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.connect                <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.connected              <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.disconnected           <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.subscribe              <span class="token builtin class-name">:</span> <span class="token number">0</span>
client.unsubscribe            <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped              <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.expired      <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.no_local     <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.qos0_msg     <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.queue_full   <span class="token builtin class-name">:</span> <span class="token number">0</span>
delivery.dropped.too_large    <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.acked                <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.delayed              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.delivered            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.dropped              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.dropped.expired      <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.dropped.no_subscriber: <span class="token number">0</span>
messages.forward              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.publish              <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos0.received        <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos0.sent            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos1.received        <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos1.sent            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos2.received        <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.qos2.sent            <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.received             <span class="token builtin class-name">:</span> <span class="token number">0</span>
messages.retained             <span class="token builtin class-name">:</span> <span class="token number">3</span>
messages.sent                 <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.auth.received         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.auth.sent             <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connack.auth_error    <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connack.error         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connack.sent          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.connect.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.disconnect.received   <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.disconnect.sent       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pingreq.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pingresp.sent         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.inuse          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.missed         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.received       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.puback.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.inuse         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.missed        <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubcomp.sent          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.auth_error    <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.dropped       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.error         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.received      <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.publish.sent          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.inuse          <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.missed         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.received       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrec.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrel.missed         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrel.received       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.pubrel.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.received              <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.sent                  <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.suback.sent           <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.subscribe.auth_error  <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.subscribe.error       <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.subscribe.received    <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.unsuback.sent         <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.unsubscribe.error     <span class="token builtin class-name">:</span> <span class="token number">0</span>
packets.unsubscribe.received  <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.created               <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.discarded             <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.resumed               <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.takeovered            <span class="token builtin class-name">:</span> <span class="token number">0</span>
session.terminated            <span class="token builtin class-name">:</span> <span class="token number">0</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h2 id="cluster-命令"><a href="#cluster-命令" class="header-anchor">#</a> cluster 命令</h2><p>cluster 命令可以管理由多个 EMQX 节点（进程）组成的集群:</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>cluster join &lt;Node&gt;</code></td><td>加入集群</td></tr><tr><td><code>cluster leave</code></td><td>离开集群</td></tr><tr><td><code>cluster force-leave &lt;Node&gt;</code></td><td>从集群删除节点</td></tr><tr><td><code>cluster status</code></td><td>查询集群状态</td></tr></tbody></table><p>示例:</p><p>为更好地展示 cluster 命令，我们可以先在单机上启动两个节点并组成集群，这称之为伪分布式启动模式。由于我们要在单机上启动两个 emqx 实例，为避免端口冲突，我们需要对其它节点的监听端口做出调整。</p><p>基本思路是复制一份 emqx 文件夹然后命名为 emqx2 ，将原先所有 emqx 节点监听的端口 port 加上一个偏移 offset 作为新的 emqx2 节点的监听端口。例如，将原先 emqx 的MQTT/TCP 监听端口由默认的 1883 改为了 2883 作为 emqx2 的 MQTT/TCP 监听端口。完成以上操作的自动化脚本可以参照 <a href="https://github.com/terry-xiaoyu/one_more_emqx" target="_blank" rel="noopener noreferrer">集群脚本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，具体配置请参见 <a href="/zh/enterprise/latest/getting-started/config.html">配置说明</a> 与 <a href="/zh/enterprise/latest/configuration/configuration.html">配置项</a>。</p><p>启动 emqx1 :</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> emqx1 <span class="token operator">&amp;&amp;</span> ./bin/emqx start
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>启动 emqx2 :</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> emqx2 <span class="token operator">&amp;&amp;</span> ./bin/emqx start
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用 <code>cluster join &lt;Node&gt;</code> 将两个节点组成集群：</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> emqx2 <span class="token operator">&amp;&amp;</span> ./bin/emqx_ctl cluster <span class="token function">join</span> emqx1@127.0.0.1

Join the cluster successfully.
Cluster status: <span class="token punctuation">[</span><span class="token punctuation">{</span>running_nodes,<span class="token punctuation">[</span><span class="token string">'emqx1@127.0.0.1'</span>,<span class="token string">'emqx2@127.0.0.1'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>任意节点目录下查询集群状态:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl cluster status
Cluster status: <span class="token punctuation">[</span><span class="token punctuation">{</span>running_nodes,<span class="token punctuation">[</span><span class="token string">'emqx2@127.0.0.1'</span>,<span class="token string">'emqx1@127.0.0.1'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>集群消息路由测试: MQTT 命令行工具使用由 EMQX 团队开发的 <a href="https://github.com/emqx/emqtt/releases" target="_blank" rel="noopener noreferrer">emqtt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 客户端。</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># emqx1 节点（1883 端口）订阅主题 x</span>
$ ./bin/emqtt sub -t x -q <span class="token number">1</span> -p <span class="token number">1883</span>
Client emqtt-a7de8fffbe2fbeb2fadb sent CONNECT
Client emqtt-a7de8fffbe2fbeb2fadb subscribed to x

<span class="token comment"># 向 emqx2 节点（2883 端口 ）发布消息</span>
$ ./bin/emqtt pub -t x -q <span class="token number">1</span> -p <span class="token number">2883</span> --payload hello
Client emqtt-0898fa447676e17479a5 sent CONNECT
Client emqtt-0898fa447676e17479a5 sent PUBLISH <span class="token punctuation">(</span>Q1, R0, D0, <span class="token assign-left variable">Topic</span><span class="token operator">=</span>x, <span class="token assign-left variable">Payload</span><span class="token operator">=</span><span class="token punctuation">..</span>.<span class="token punctuation">(</span><span class="token number">5</span> bytes<span class="token punctuation">))</span>
Client emqtt-0898fa447676e17479a5 sent DISCONNECT

<span class="token comment"># emqx1 节点（1883 端口）收到消息</span>
$ ./bin/emqtt sub -t x -q <span class="token number">1</span> -p <span class="token number">1883</span>
hello
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>emqx2 节点离开集群:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> emqx2 <span class="token operator">&amp;&amp;</span> ./bin/emqx_ctl cluster leave
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>强制 emqx2 节点离开集群，需要在集群下的目标节点以外的节点上进行操作:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> emqx1 <span class="token operator">&amp;&amp;</span> ./bin/emqx_ctl cluster force-leave emqx2@127.0.0.1
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意，EMQX 不支持一个已经在一个集群中的节点加入另外一个集群，因为这会导致两个集群数据不一致，但支持加入过集群的节点在离开该集群后加入另一个集群。</p><h2 id="acl-命令"><a href="#acl-命令" class="header-anchor">#</a> acl 命令</h2><p>从 v4.1 之后引入了 <code>modules</code> 的命令，我们使用以下命令重新加载 ACL：</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl modules reload emqx_mod_acl_internal
Module emqx_mod_acl_internal reloaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在 v4.1 之前，则仍然使用：</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl acl reload
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="acl-cache-clean"><a href="#acl-cache-clean" class="header-anchor">#</a> acl cache-clean</h3><p>在 v4.3 之后，引入了的命令来清理 ACL 缓存:</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>acl cache-clean all</td><td>清除集群中所有的 ACL 缓存</td></tr><tr><td>acl cache-clean node &lt;Node&gt;</td><td>清除指定节点的 ACL 缓存</td></tr><tr><td>acl cache-clean &lt;ClientId&gt;</td><td>清除指定客户端的 ACL 缓存</td></tr></tbody></table><h2 id="clients-命令"><a href="#clients-命令" class="header-anchor">#</a> clients 命令</h2><p>clients 命令查询连接的 MQTT 客户端。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>clients list</code></td><td>列出所有客户端连接</td></tr><tr><td><code>clients show &lt;ClientId&gt;</code></td><td>查询指定 ClientId 的客户端</td></tr><tr><td><code>clients kick &lt;ClientId&gt;</code></td><td>踢除指定 ClientId 的客户端，连接与会话将一并终结。</td></tr></tbody></table><h3 id="clients-list"><a href="#clients-list" class="header-anchor">#</a> clients list</h3><p>列出所有客户端连接:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl clients list
Client <span class="token punctuation">(</span>mosqsub/43832-airlee.lo, <span class="token assign-left variable">username</span><span class="token operator">=</span>test1, <span class="token assign-left variable">peername</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:62135, <span class="token assign-left variable">clean_start</span><span class="token operator">=</span>true, <span class="token assign-left variable">keepalive</span><span class="token operator">=</span><span class="token number">60</span>, <span class="token assign-left variable">session_expiry_interval</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">subscriptions</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">inflight</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">awaiting_rel</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">delivered_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">enqueued_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">dropped_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connected</span><span class="token operator">=</span>true, <span class="token assign-left variable">created_at</span><span class="token operator">=</span><span class="token number">1582249657</span>, <span class="token assign-left variable">connected_at</span><span class="token operator">=</span><span class="token number">1582249657</span><span class="token punctuation">)</span>
Client <span class="token punctuation">(</span>mosqsub/44011-airlee.lo, <span class="token assign-left variable">username</span><span class="token operator">=</span>test2, <span class="token assign-left variable">peername</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:64961, <span class="token assign-left variable">clean_start</span><span class="token operator">=</span>true, <span class="token assign-left variable">keepalive</span><span class="token operator">=</span><span class="token number">60</span>, <span class="token assign-left variable">session_expiry_interval</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">subscriptions</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">inflight</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">awaiting_rel</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">delivered_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">enqueued_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">dropped_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connected</span><span class="token operator">=</span>true, <span class="token assign-left variable">created_at</span><span class="token operator">=</span><span class="token number">1582249657</span>, <span class="token assign-left variable">connected_at</span><span class="token operator">=</span><span class="token number">1582249657</span>, <span class="token assign-left variable">disconnected_at</span><span class="token operator">=</span><span class="token number">1582249702</span><span class="token punctuation">)</span>
    <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>返回 Client 对象的属性:</p><table><thead><tr><th>Name</th><th>描述</th></tr></thead><tbody><tr><td>username</td><td>用户名</td></tr><tr><td>peername</td><td>客户端 IP 与端口</td></tr><tr><td>clean_start</td><td>MQTT Clean Start</td></tr><tr><td>keepalive</td><td>MQTT KeepAlive</td></tr><tr><td>session_expiry_interval</td><td>会话过期间隔</td></tr><tr><td>subscriptions</td><td>当前订阅数量</td></tr><tr><td>inflight</td><td>当前正在下发的 QoS 1 和 QoS 2 的消息总数</td></tr><tr><td>awaiting_rel</td><td>等待客户端发送 PUBREL 的 QoS2 消息数</td></tr><tr><td>delivered_msgs</td><td>EMQX 向此客户端转发的消息数量 (包含重传)</td></tr><tr><td>enqueued_msgs</td><td>消息队列当前长度</td></tr><tr><td>dropped_msgs</td><td>消息队列达到最大长度后丢弃的消息数量</td></tr><tr><td>connected</td><td>是否在线</td></tr><tr><td>created_at</td><td>会话创建时间戳</td></tr><tr><td>connected_at</td><td>客户端连接时间戳</td></tr><tr><td>disconnected_at</td><td>客户端断开连接时间戳（仅当断开连接还保留会话时才会出现）</td></tr></tbody></table><h3 id="clients-show-clientid"><a href="#clients-show-clientid" class="header-anchor">#</a> clients show &lt;ClientId&gt;</h3><p>查询指定 ClientId 的客户端:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl clients show <span class="token string">&quot;mosqsub/43832-airlee.lo&quot;</span>
Client <span class="token punctuation">(</span>mosqsub/43832-airlee.lo, <span class="token assign-left variable">username</span><span class="token operator">=</span>test1, <span class="token assign-left variable">peername</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:62747, <span class="token assign-left variable">clean_start</span><span class="token operator">=</span>false, <span class="token assign-left variable">keepalive</span><span class="token operator">=</span><span class="token number">60</span>, <span class="token assign-left variable">session_expiry_interval</span><span class="token operator">=</span><span class="token number">7200</span>, <span class="token assign-left variable">subscriptions</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">inflight</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">awaiting_rel</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">delivered_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">enqueued_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">dropped_msgs</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connected</span><span class="token operator">=</span>true, <span class="token assign-left variable">created_at</span><span class="token operator">=</span><span class="token number">1576479557</span>, <span class="token assign-left variable">connected_at</span><span class="token operator">=</span><span class="token number">1576479557</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="clients-kick-clientid"><a href="#clients-kick-clientid" class="header-anchor">#</a> clients kick &lt;ClientId&gt;</h3><p>踢除指定 ClientId 的客户端:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl clients kick <span class="token string">&quot;clientid&quot;</span>
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="routes-命令"><a href="#routes-命令" class="header-anchor">#</a> routes 命令</h2><p>routes 命令用于查询路由信息。</p><p>EMQX 中路由是指主题与节点的映射关系，用于在多个节点之间路由消息。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>routes list</code></td><td>列出所有路由</td></tr><tr><td><code>routes show &lt;Topic&gt;</code></td><td>查询指定 Topic 的路由</td></tr></tbody></table><h3 id="routes-list"><a href="#routes-list" class="header-anchor">#</a> routes list</h3><p>列出所有路由:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl routes list
t2/<span class="token comment"># -&gt; emqx2@127.0.0.1</span>
t/+/x -<span class="token operator">&gt;</span> emqx2@127.0.0.1,emqx@127.0.0.1
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="routes-show-topic"><a href="#routes-show-topic" class="header-anchor">#</a> routes show &lt;Topic&gt;</h3><p>查询指定 Topic d的路由:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl routes show t/+/x
t/+/x -<span class="token operator">&gt;</span> emqx2@127.0.0.1,emqx@127.0.0.1
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="subscriptions-命令"><a href="#subscriptions-命令" class="header-anchor">#</a> subscriptions 命令</h2><p>subscriptions 命令查询消息服务器的订阅 (Subscription) 表。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>subscriptions list</code></td><td>列出所有订阅</td></tr><tr><td><code>subscriptions show &lt;ClientId&gt;</code></td><td>查询指定 ClientId 客户端的订阅</td></tr><tr><td><code>subscriptions add &lt;ClientId&gt; &lt;Topic&gt; &lt;QoS&gt;</code></td><td>手动添加静态订阅</td></tr><tr><td><code>subscriptions del &lt;ClientId&gt; &lt;Topic&gt;</code></td><td>手动删除静态订阅</td></tr></tbody></table><h3 id="subscriptions-list"><a href="#subscriptions-list" class="header-anchor">#</a> subscriptions list</h3><p>列出所有订阅:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl subscriptions list
mosqsub/91042-airlee.lo -<span class="token operator">&gt;</span> t/y:1
mosqsub/90475-airlee.lo -<span class="token operator">&gt;</span> t/+/x:2
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="subscriptions-show-clientid"><a href="#subscriptions-show-clientid" class="header-anchor">#</a> subscriptions show &lt;ClientId&gt;</h3><p>查询某个 Client 的订阅:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl subscriptions show <span class="token string">'mosqsub/90475-airlee.lo'</span>
mosqsub/90475-airlee.lo -<span class="token operator">&gt;</span> t/+/x:2
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="subscriptions-add-clientid-topic-qos"><a href="#subscriptions-add-clientid-topic-qos" class="header-anchor">#</a> subscriptions add &lt;ClientId&gt; &lt;Topic&gt; &lt;QoS&gt;</h3><p>手动添加订阅关系:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl subscriptions <span class="token function">add</span> <span class="token string">'mosqsub/90475-airlee.lo'</span> <span class="token string">'/world'</span> <span class="token number">1</span>
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="subscriptions-del-clientid-topic"><a href="#subscriptions-del-clientid-topic" class="header-anchor">#</a> subscriptions del &lt;ClientId&gt; &lt;Topic&gt;</h3><p>手动删除订阅关系:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl subscriptions del <span class="token string">'mosqsub/90475-airlee.lo'</span> <span class="token string">'/world'</span>
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="plugins-命令"><a href="#plugins-命令" class="header-anchor">#</a> plugins 命令</h2><p>plugins 命令用于加载、卸载、查询插件应用。EMQX 通过插件扩展认证、定制功能，插件配置位于 <code>etc/plugins/</code> 目录下。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>plugins list</code></td><td>列出全部插件 (Plugin)</td></tr><tr><td><code>plugins load &lt;Plugin&gt;</code></td><td>加载插件 (Plugin)</td></tr><tr><td><code>plugins unload &lt;Plugin&gt;</code></td><td>卸载插件 (Plugin)</td></tr><tr><td><code>plugins reload &lt;Plugin&gt;</code></td><td>重载插件 (Plugin)</td></tr></tbody></table><p>当配置文件发生更改，如果需要配置立即生效，你可以执行 <code>emqx_ctl reload &lt;Plugin\&gt; 命令，即使插件在配置修改时并未处于运行状态，你也应当使用此命令而不是</code>emqx_ctl load &lt;Plugin&gt;，因为 `emqx_ctl load &lt;Plugin&gt; 不会编译新的配置文件。</p><h3 id="plugins-list"><a href="#plugins-list" class="header-anchor">#</a> plugins list</h3><p>列出全部插件:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl plugins list
<span class="token punctuation">..</span>.
Plugin<span class="token punctuation">(</span>emqx_auth_http, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Authentication/ACL with HTTP API, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin<span class="token punctuation">(</span>emqx_auth_jwt, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Authentication with JWT, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Plugin<span class="token punctuation">(</span>emqx_auth_ldap, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Authentication/ACL with LDAP, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>插件属性:</p><table><thead><tr><th>Name</th><th>描述</th></tr></thead><tbody><tr><td>version</td><td>插件版本</td></tr><tr><td>description</td><td>插件描述</td></tr><tr><td>active</td><td>是否已加载</td></tr></tbody></table><h3 id="plugins-load-plugin"><a href="#plugins-load-plugin" class="header-anchor">#</a> plugins load &lt;Plugin&gt;</h3><p>加载插件:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl plugins load emqx_lua_hook
Plugin emqx_lua_hook loaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="plugins-unload-plugin"><a href="#plugins-unload-plugin" class="header-anchor">#</a> plugins unload &lt;Plugin&gt;</h3><p>卸载插件:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl plugins unload emqx_lua_hook
Plugin emqx_lua_hook unloaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="plugins-reload-plugin"><a href="#plugins-reload-plugin" class="header-anchor">#</a> plugins reload &lt;Plugin&gt;</h3><p>重载插件:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl plugins reload emqx_lua_hook
Plugin emqx_lua_hook reloaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="modules-命令"><a href="#modules-命令" class="header-anchor">#</a> modules 命令</h2><p>自 v4.1 之后，引入了 <code>modules</code> 命令用于在运行时管理 EMQX 内置的模块。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>modules list</code></td><td>列出全部内置模块 (Module)</td></tr><tr><td><code>modules load &lt;Module&gt;</code></td><td>加载内置模块 (Module)</td></tr><tr><td><code>modules unload &lt;Module&gt;</code></td><td>卸载内置模块 (Module)</td></tr><tr><td><code>modules reload &lt;Module&gt;</code></td><td>重载内置模块 (Module)</td></tr></tbody></table><h3 id="modules-list"><a href="#modules-list" class="header-anchor">#</a> modules list</h3><p>列出全部内置模块:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl modules list
Module<span class="token punctuation">(</span>emqx_mod_delayed, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Delayed Publish Module, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Module<span class="token punctuation">(</span>emqx_mod_topic_metrics, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Topic Metrics Module, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Module<span class="token punctuation">(</span>emqx_mod_subscription, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Subscription Module, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Module<span class="token punctuation">(</span>emqx_mod_acl_internal, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Internal ACL Module, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
Module<span class="token punctuation">(</span>emqx_mod_rewrite, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Topic Rewrite Module, <span class="token assign-left variable">active</span><span class="token operator">=</span>false<span class="token punctuation">)</span>
Module<span class="token punctuation">(</span>emqx_mod_presence, <span class="token assign-left variable">description</span><span class="token operator">=</span>EMQX Presence Module, <span class="token assign-left variable">active</span><span class="token operator">=</span>true<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="modules-load"><a href="#modules-load" class="header-anchor">#</a> modules load</h3><p>加载内置模块:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl modules load emqx_mod_delayed
Module emqx_mod_delayed loaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="modules-unload"><a href="#modules-unload" class="header-anchor">#</a> modules unload</h3><p>卸载内置模块:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl modules unload emqx_mod_delayed
Module emqx_mod_delayed unloaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="modules-reload"><a href="#modules-reload" class="header-anchor">#</a> modules reload</h3><p>重载内置模块:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl modules reload emqx_mod_acl_internal
Module emqx_mod_acl_internal reloaded successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="vm-命令"><a href="#vm-命令" class="header-anchor">#</a> vm 命令</h2><p>vm 命令用于查询 Erlang 虚拟机负载、内存、进程、IO 信息。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>vm</code></td><td>等同于 vm all</td></tr><tr><td><code>vm all</code></td><td>查询 VM 全部信息</td></tr><tr><td><code>vm load</code></td><td>查询 VM 负载</td></tr><tr><td><code>vm memory</code></td><td>查询 VM 内存</td></tr><tr><td><code>vm process</code></td><td>查询 VM Erlang 进程数量</td></tr><tr><td><code>vm io</code></td><td>查询 VM io 最大文件句柄</td></tr><tr><td><code>vm ports</code></td><td>查询 VM 的端口</td></tr></tbody></table><h3 id="vm-all"><a href="#vm-all" class="header-anchor">#</a> vm all</h3><p>查询 VM 全部信息，包括负载、内存、Erlang 进程数量等:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl vm all
cpu/load1               <span class="token builtin class-name">:</span> <span class="token number">4.22</span>
cpu/load5               <span class="token builtin class-name">:</span> <span class="token number">3.29</span>
cpu/load15              <span class="token builtin class-name">:</span> <span class="token number">3.16</span>
memory/total            <span class="token builtin class-name">:</span> <span class="token number">99995208</span>
memory/processes        <span class="token builtin class-name">:</span> <span class="token number">38998248</span>
memory/processes_used   <span class="token builtin class-name">:</span> <span class="token number">38938520</span>
memory/system           <span class="token builtin class-name">:</span> <span class="token number">60996960</span>
memory/atom             <span class="token builtin class-name">:</span> <span class="token number">1189073</span>
memory/atom_used        <span class="token builtin class-name">:</span> <span class="token number">1173808</span>
memory/binary           <span class="token builtin class-name">:</span> <span class="token number">100336</span>
memory/code             <span class="token builtin class-name">:</span> <span class="token number">25439961</span>
memory/ets              <span class="token builtin class-name">:</span> <span class="token number">7161128</span>
process/limit           <span class="token builtin class-name">:</span> <span class="token number">2097152</span>
process/count           <span class="token builtin class-name">:</span> <span class="token number">315</span>
io/max_fds              <span class="token builtin class-name">:</span> <span class="token number">10240</span>
io/active_fds           <span class="token builtin class-name">:</span> <span class="token number">0</span>
ports/count             <span class="token builtin class-name">:</span> <span class="token number">18</span>
ports/limit             <span class="token builtin class-name">:</span> <span class="token number">1048576</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="vm-load"><a href="#vm-load" class="header-anchor">#</a> vm load</h3><p>查询 VM 负载:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl vm load
cpu/load1               <span class="token builtin class-name">:</span> <span class="token number">2.21</span>
cpu/load5               <span class="token builtin class-name">:</span> <span class="token number">2.60</span>
cpu/load15              <span class="token builtin class-name">:</span> <span class="token number">2.36</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="vm-memory"><a href="#vm-memory" class="header-anchor">#</a> vm memory</h3><p>查询 VM 内存:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl vm memory
memory/total            <span class="token builtin class-name">:</span> <span class="token number">23967736</span>
memory/processes        <span class="token builtin class-name">:</span> <span class="token number">3594216</span>
memory/processes_used   <span class="token builtin class-name">:</span> <span class="token number">3593112</span>
memory/system           <span class="token builtin class-name">:</span> <span class="token number">20373520</span>
memory/atom             <span class="token builtin class-name">:</span> <span class="token number">512601</span>
memory/atom_used        <span class="token builtin class-name">:</span> <span class="token number">491955</span>
memory/binary           <span class="token builtin class-name">:</span> <span class="token number">51432</span>
memory/code             <span class="token builtin class-name">:</span> <span class="token number">13401565</span>
memory/ets              <span class="token builtin class-name">:</span> <span class="token number">1082848</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="vm-process"><a href="#vm-process" class="header-anchor">#</a> vm process</h3><p>查询 Erlang 进程数量及其限制:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl vm process
process/limit           <span class="token builtin class-name">:</span> <span class="token number">2097152</span>
process/count           <span class="token builtin class-name">:</span> <span class="token number">314</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="vm-io"><a href="#vm-io" class="header-anchor">#</a> vm io</h3><p>查询文件描述符数量及其限制:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl vm io
io/max_fds              <span class="token builtin class-name">:</span> <span class="token number">10240</span>
io/active_fds           <span class="token builtin class-name">:</span> <span class="token number">0</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="vm-ports"><a href="#vm-ports" class="header-anchor">#</a> vm ports</h3><p>查询端口占用数量及其限制:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl vm ports
ports/count           <span class="token builtin class-name">:</span> <span class="token number">18</span>
ports/limit           <span class="token builtin class-name">:</span> <span class="token number">1048576</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="mnesia-命令"><a href="#mnesia-命令" class="header-anchor">#</a> mnesia 命令</h2><p>查询 mnesia 数据库系统状态。</p><h2 id="log-命令"><a href="#log-命令" class="header-anchor">#</a> log 命令</h2><p>log 命令用于设置日志等级。访问 <a href="http://erlang.org/doc/apps/kernel/logger_chapter.html" target="_blank" rel="noopener noreferrer">Documentation of logger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 以获取详细信息</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>log set-level &lt;Level&gt;</code></td><td>设置主日志等级和所有 Handlers 日志等级</td></tr><tr><td><code>log primary-level</code></td><td>查看主日志等级</td></tr><tr><td><code>log primary-lelvel &lt;Level&gt;</code></td><td>设置主日志等级</td></tr><tr><td><code>log handlers list</code></td><td>查看当前安装的所有 Handlers</td></tr><tr><td><code>log handlers start &lt;HandlerId&gt;</code></td><td>启动某个已停止的 Handler</td></tr><tr><td><code>log handlers stop &lt;HandlerId&gt;</code></td><td>停止某个 Handler</td></tr><tr><td><code>log handlers set-level &lt;HandlerId&gt; &lt;Level&gt;</code></td><td>设置指定 Handler 的日志等级</td></tr></tbody></table><p>日志的等级由低到高分别为：<code>debug | info | notice | warning | error | critical | alert | emergency</code>，日志等级越低，系统输出的日志数量越多，消耗的系统资源越大。为提高系统运行性能，默认的主日志等级是 error。</p><h3 id="log-set-level-level"><a href="#log-set-level-level" class="header-anchor">#</a> log set-level &lt;Level&gt;</h3><p>设置主日志等级和所有 Handlers 日志等级:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log set-level debug
debug
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="log-primary-level"><a href="#log-primary-level" class="header-anchor">#</a> log primary-level</h3><p>查看主日志等级:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log primary-level
debug
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="log-primary-level-level"><a href="#log-primary-level-level" class="header-anchor">#</a> log primary-level &lt;Level&gt;</h3><p>设置主日志等级:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log primary-level info
info
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="log-handlers-list"><a href="#log-handlers-list" class="header-anchor">#</a> log handlers list</h3><p>查看当前安装的所有 Handlers:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log handlers list
LogHandler<span class="token punctuation">(</span>id<span class="token operator">=</span>ssl_handler, <span class="token assign-left variable">level</span><span class="token operator">=</span>debug, <span class="token assign-left variable">destination</span><span class="token operator">=</span>console, <span class="token assign-left variable">status</span><span class="token operator">=</span>started<span class="token punctuation">)</span>
LogHandler<span class="token punctuation">(</span>id<span class="token operator">=</span>file, <span class="token assign-left variable">level</span><span class="token operator">=</span>warning, <span class="token assign-left variable">destination</span><span class="token operator">=</span>log/emqx.log, <span class="token assign-left variable">status</span><span class="token operator">=</span>started<span class="token punctuation">)</span>
LogHandler<span class="token punctuation">(</span>id<span class="token operator">=</span>default, <span class="token assign-left variable">level</span><span class="token operator">=</span>warning, <span class="token assign-left variable">destination</span><span class="token operator">=</span>console, <span class="token assign-left variable">status</span><span class="token operator">=</span>started<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="log-handlers-start-handlerid"><a href="#log-handlers-start-handlerid" class="header-anchor">#</a> log handlers start &lt;HandlerId&gt;</h3><p>启动 log handler <code>'default'</code>:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log handlers start default
log handler default started
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="log-handlers-stop-handlerid"><a href="#log-handlers-stop-handlerid" class="header-anchor">#</a> log handlers stop &lt;HandlerId&gt;</h3><p>停止 log handler <code>'default'</code>:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log handlers stop default
log handler default stopped
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="log-handlers-set-level-handlerid-level"><a href="#log-handlers-set-level-handlerid-level" class="header-anchor">#</a> log handlers set-level &lt;HandlerId&gt; &lt;Level&gt;</h3><p>设置指定 Handler 的日志等级:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log handlers set-level emqx_logger_handler error
error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="trace-命令"><a href="#trace-命令" class="header-anchor">#</a> trace 命令</h2><p>trace 命令用于追踪某个 Client 或 Topic，打印日志信息到文件，详情请查看 <a href="/zh/enterprise/latest/getting-started/log.html">日志与追踪</a>。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>trace list</code></td><td>列出所有开启的追踪</td></tr><tr><td><code>trace start client &lt;ClientId&gt; &lt;File&gt; [&lt;Level&gt;]</code></td><td>开启 Client 追踪，存储指定等级的日志到文件</td></tr><tr><td><code>trace stop client &lt;ClientId&gt;</code></td><td>关闭 Client 追踪</td></tr><tr><td><code>trace start topic &lt;Topic&gt; &lt;File&gt; [&lt;Level&gt;]</code></td><td>开启 Topic 追踪，存储指定等级的日志到文件</td></tr><tr><td><code>trace stop topic &lt;Topic&gt;</code></td><td>关闭 Topic 追踪</td></tr></tbody></table><h3 id="trace-start-client-clientid-file-level"><a href="#trace-start-client-clientid-file-level" class="header-anchor">#</a> trace start client &lt;ClientId&gt; &lt;File&gt; [ &lt;Level&gt; ]</h3><p>开启 Client 追踪:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log primary-level debug
debug

$ ./bin/emqx_ctl trace start client clientid log/clientid_trace.log
trace clientid clientid successfully

$ ./bin/emqx_ctl trace start client clientid2 log/clientid2_trace.log error
trace clientid clientid2 successfully
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="trace-stop-client-clientid"><a href="#trace-stop-client-clientid" class="header-anchor">#</a> trace stop client &lt;ClientId&gt;</h3><p>关闭 Client 追踪:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl trace stop client clientid
stop tracing clientid clientid successfully
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="trace-start-topic-topic-file-level"><a href="#trace-start-topic-topic-file-level" class="header-anchor">#</a> trace start topic &lt;Topic&gt; &lt;File&gt; [ &lt;Level&gt; ]</h3><p>开启 Topic 追踪:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl log primary-level debug
debug

$ ./bin/emqx_ctl trace start topic topic log/topic_trace.log
trace topic topic successfully

$ ./bin/emqx_ctl trace start topic topic2 log/topic2_trace.log error
trace topic topic2 successfully
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="trace-stop-topic-topic"><a href="#trace-stop-topic-topic" class="header-anchor">#</a> trace stop topic &lt;Topic&gt;</h3><p>关闭 Topic 追踪:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl trace topic topic off
stop tracing topic topic successfully
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="trace-list"><a href="#trace-list" class="header-anchor">#</a> trace list</h3><p>列出所有开启的追踪:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl trace list
Trace <span class="token punctuation">(</span>clientid<span class="token operator">=</span>clientid2, <span class="token assign-left variable">level</span><span class="token operator">=</span>error, <span class="token assign-left variable">destination</span><span class="token operator">=</span><span class="token string">&quot;log/clientid2_trace.log&quot;</span><span class="token punctuation">)</span>
Trace <span class="token punctuation">(</span>topic<span class="token operator">=</span>topic2, <span class="token assign-left variable">level</span><span class="token operator">=</span>error, <span class="token assign-left variable">destination</span><span class="token operator">=</span><span class="token string">&quot;log/topic2_trace.log&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="listeners"><a href="#listeners" class="header-anchor">#</a> listeners</h2><p>listeners 命令用于查询开启的 TCP 服务监听器。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>listeners</td><td># List listeners</td></tr><tr><td>listeners stop &lt;Identifier&gt;</td><td># Stop a listener</td></tr><tr><td>listeners stop &lt;Proto&gt; &lt;Port&gt;</td><td># Stop a listener</td></tr><tr><td>listeners restart &lt;Identifier&gt;</td><td># Restart a listener</td></tr></tbody></table><h3 id="listeners-list"><a href="#listeners-list" class="header-anchor">#</a> listeners list</h3><p>查询开启的 TCP 服务监听器:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl listeners
mqtt:ssl:external
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0:8883
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">16</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">102400</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
mqtt:tcp:external
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0:1883
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">8</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">1024000</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
mqtt:tcp:internal
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">127.0</span>.0.1:11883
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">4</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">1024000</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
http:dashboard
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0:18083
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">4</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">512</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
http:management
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0:8081
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">2</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">512</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
mqtt:ws:external
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0:8083
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">4</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">102400</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
mqtt:wss:external
  listen_on       <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0:8084
  acceptors       <span class="token builtin class-name">:</span> <span class="token number">4</span>
  max_conns       <span class="token builtin class-name">:</span> <span class="token number">16</span>
  current_conn    <span class="token builtin class-name">:</span> <span class="token number">0</span>
  shutdown_count  <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>listener 参数说明:</p><table><thead><tr><th>Name</th><th>描述</th></tr></thead><tbody><tr><td>acceptors</td><td>TCP Acceptor 池</td></tr><tr><td>max_conns</td><td>最大允许连接数</td></tr><tr><td>current_conns</td><td>当前连接数</td></tr><tr><td>shutdown_count</td><td>连接关闭原因统计</td></tr></tbody></table><h3 id="listeners-stop"><a href="#listeners-stop" class="header-anchor">#</a> listeners stop</h3><p>停止监听端口:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl listeners stop mqtt:tcp:external
Stop mqtt:tcp:external listener on <span class="token number">0.0</span>.0.0:1883 successfully.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="listeners-restart"><a href="#listeners-restart" class="header-anchor">#</a> listeners restart</h3><p>重启监听器:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl listeners restart http:dashboard
Stop http:dashboard listener on <span class="token number">0.0</span>.0.0:18083 successfully.
Start http:dashboard listener on <span class="token number">0.0</span>.0.0:18083 successfully.

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="recon-命令"><a href="#recon-命令" class="header-anchor">#</a> recon 命令</h2><p>EMQX 的 recon 命令基于 Erlang Recon 库实现，用于帮助 DevOps 人员诊断生产节点中的问题，普通用户无需关心。使用 recon 命令会耗费一定的性能，请谨慎使用。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>recon memory</code></td><td><a href="http://ferd.github.io/recon/recon_alloc.html#memory-2" target="_blank" rel="noopener noreferrer">recon_alloc:memory/2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr><tr><td><code>recon allocated</code></td><td><a href="http://ferd.github.io/recon/recon_alloc.html#memory-2" target="_blank" rel="noopener noreferrer">recon_alloc:memory (allocated_types, current/max)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr><tr><td><code>recon bin_leak</code></td><td><a href="http://ferd.github.io/recon/recon.html#bin_leak-1" target="_blank" rel="noopener noreferrer">recon:bin_leak (100)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr><tr><td><code>recon node_stats</code></td><td><a href="http://ferd.github.io/recon/recon.html#node_stats_print-2" target="_blank" rel="noopener noreferrer">recon:node_stats_print(10, 1000)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr><tr><td><code>recon remote_load Mod</code></td><td><a href="http://ferd.github.io/recon/recon.html#remote_load-1" target="_blank" rel="noopener noreferrer">recon:remote_load (Mod)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr><tr><td><code>recon proc_count Attr N</code></td><td><a href="http://ferd.github.io/recon/recon.html#proc_count-2" target="_blank" rel="noopener noreferrer">recon:proc_count(Attr, N)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table><p>访问 <a href="http://ferd.github.io/recon/" target="_blank" rel="noopener noreferrer">Documentation for recon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 以获取详细信息。</p><h2 id="retainer-命令"><a href="#retainer-命令" class="header-anchor">#</a> retainer 命令</h2><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>retainer info</code></td><td>显示保留消息的数量</td></tr><tr><td><code>retainer topics</code></td><td>显示当前存储的保留消息的所有主题</td></tr><tr><td><code>retainer clean</code></td><td>清除所有保留的消息</td></tr><tr><td><code>retainer clean &lt;Topic&gt;</code></td><td>清除指定的主题下的保留的消息</td></tr></tbody></table><h3 id="retainer-info"><a href="#retainer-info" class="header-anchor">#</a> retainer info</h3><p>显示保留消息的数量:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl retainer info
retained/total: <span class="token number">3</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="retainer-topics"><a href="#retainer-topics" class="header-anchor">#</a> retainer topics</h3><p>显示当前存储的保留消息的所有主题:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl retainer topics
<span class="token variable">$SYS</span>/brokers/emqx@127.0.0.1/version
<span class="token variable">$SYS</span>/brokers/emqx@127.0.0.1/sysdescr
<span class="token variable">$SYS</span>/brokers
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="retainer-clean"><a href="#retainer-clean" class="header-anchor">#</a> retainer clean</h3><p>清除所有保留的消息:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl retainer clean
Cleaned <span class="token number">3</span> retained messages
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="retainer-clean-topic"><a href="#retainer-clean-topic" class="header-anchor">#</a> retainer clean &lt;Topic&gt;</h3><p>清除指定的主题下的保留的消息:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl retainer clean topic
Cleaned <span class="token number">1</span> retained messages
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="admins-命令"><a href="#admins-命令" class="header-anchor">#</a> admins 命令</h2><p>用于创建、删除管理员账号，重置管理员密码。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>admins add &lt;Username&gt; &lt;Password&gt; &lt;Tags&gt;</code></td><td>创建 admin 账号</td></tr><tr><td><code>admins passwd &lt;Username&gt; &lt;Password&gt;</code></td><td>重置 admin 密码</td></tr><tr><td><code>admins del &lt;Username&gt;</code></td><td>删除 admin 账号</td></tr></tbody></table><h3 id="admins-add-username-password-tags"><a href="#admins-add-username-password-tags" class="header-anchor">#</a> admins add &lt;Username&gt; &lt;Password&gt; &lt;Tags&gt;</h3><p>创建 admin 账户:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl admins <span class="token function">add</span> root public <span class="token builtin class-name">test</span>
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="admins-passwd-username-password"><a href="#admins-passwd-username-password" class="header-anchor">#</a> admins passwd &lt;Username&gt; &lt;Password&gt;</h3><p>重置 admin 账户密码:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl admins <span class="token function">passwd</span> root private
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="admins-del-username"><a href="#admins-del-username" class="header-anchor">#</a> admins del &lt;Username&gt;</h3><p>删除 admin 账户:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl admins del root
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="规则引擎-rule-engine-命令"><a href="#规则引擎-rule-engine-命令" class="header-anchor">#</a> 规则引擎(rule engine) 命令</h2><h3 id="rules-命令"><a href="#rules-命令" class="header-anchor">#</a> rules 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>rules list</code></td><td>List all rules</td></tr><tr><td><code>rules show &lt;RuleId&gt;</code></td><td>Show a rule</td></tr><tr><td><code>rules create &lt;sql&gt; &lt;actions&gt; [-d [&lt;descr&gt;]]</code></td><td>Create a rule</td></tr><tr><td><code>rules delete &lt;RuleId&gt;</code></td><td>Delete a rule</td></tr></tbody></table><h4 id="rules-create"><a href="#rules-create" class="header-anchor">#</a> rules create</h4><p>创建一个新的规则。参数:</p><ul><li><em><code>&lt;sql&gt;</code></em>: 规则 SQL</li><li><em><code>&lt;actions&gt;</code></em>: JSON 格式的动作列表</li><li><em><code>-d &lt;descr&gt;</code></em>: 可选，规则描述信息</li></ul><p>使用举例:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 创建一个测试规则，简单打印所有发送到 't/a' 主题的消息内容</span>
$ ./bin/emqx_ctl rules create <span class="token punctuation">\</span>
    <span class="token string">'select * from &quot;t/a&quot;'</span> <span class="token punctuation">\</span>
    <span class="token string">'[{&quot;name&quot;:&quot;inspect&quot;, &quot;params&quot;: {&quot;a&quot;: 1}}]'</span> <span class="token punctuation">\</span>
    -d <span class="token string">'Rule for debug'</span>

Rule rule:9a6a725d created
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上例创建了一个 ID 为 <code>rule:9a6a725d</code> 的规则，动作列表里只有一个动作：动作名为 inspect，动作的参数是 <code>{&quot;a&quot;: 1}</code>。</p><h4 id="rules-list"><a href="#rules-list" class="header-anchor">#</a> rules list</h4><p>列出当前所有的规则:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl rules list

rule<span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">'rule:9a6a725d'</span>, <span class="token assign-left variable">for</span><span class="token operator">=</span><span class="token string">'['</span>t/a<span class="token string">']'</span>, <span class="token assign-left variable">rawsql</span><span class="token operator">=</span><span class="token string">'select * from &quot;t/a&quot;'</span>, <span class="token assign-left variable">actions</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">..</span>.,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;params&quot;</span>:<span class="token punctuation">..</span>.<span class="token punctuation">}</span><span class="token punctuation">]</span>, <span class="token assign-left variable">metrics</span><span class="token operator">=</span><span class="token punctuation">..</span>., <span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token string">'true'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'Rule for debug'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="rules-show"><a href="#rules-show" class="header-anchor">#</a> rules show</h4><p>查询规则:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>## 查询 RuleID 为 'rule:9a6a725d' 的规则
$ ./bin/emqx_ctl rules show 'rule:9a6a725d'

rule(id='rule:9a6a725d', for='['t/a']', rawsql='select * from &quot;t/a&quot;', actions=[{&quot;metrics&quot;:...,&quot;name&quot;:&quot;inspect&quot;,&quot;params&quot;:...}], metrics=..., enabled='true', description='Rule for debug')
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="rules-delete"><a href="#rules-delete" class="header-anchor">#</a> rules delete</h4><p>删除规则:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 删除 RuleID 为 'rule:9a6a725d' 的规则</span>
$ ./bin/emqx_ctl rules delete <span class="token string">'rule:9a6a725d'</span>

ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="rule-actions-命令"><a href="#rule-actions-命令" class="header-anchor">#</a> rule-actions 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>rule-actions list</code></td><td>List actions</td></tr><tr><td><code>rule-actions show &lt;ActionId&gt;</code></td><td>Show a rule action</td></tr></tbody></table><div class="custom-block tip"><p class="custom-block-title">提示</p><p>动作可以由 EMQX 内置(称为系统内置动作)，或者由 EMQX 插件编写，但不能通过 CLI/API 添加或删除。</p></div><h4 id="rule-actions-show"><a href="#rule-actions-show" class="header-anchor">#</a> rule-actions show</h4><p>查询动作:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>    <span class="token comment">## 查询名为 'inspect' 的动作</span>
$ ./bin/emqx_ctl rule-actions show <span class="token string">'inspect'</span>

action<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'inspect'</span>, <span class="token assign-left variable">app</span><span class="token operator">=</span><span class="token string">'emqx_rule_engine'</span>, <span class="token assign-left variable">types</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>, title <span class="token operator">=</span><span class="token string">'Inspect (debug)'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'Inspect the details of action params for debug purpose'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="rule-actions-list"><a href="#rule-actions-list" class="header-anchor">#</a> rule-actions list</h4><p>列出符合条件的动作:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 列出当前所有的动作</span>
$ ./bin/emqx_ctl rule-actions list

action<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'data_to_rabbit'</span>, <span class="token assign-left variable">app</span><span class="token operator">=</span><span class="token string">'emqx_bridge_rabbit'</span>, <span class="token assign-left variable">types</span><span class="token operator">=</span><span class="token punctuation">[</span>bridge_rabbit<span class="token punctuation">]</span>, title <span class="token operator">=</span><span class="token string">'Data bridge to RabbitMQ'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'Store Data to Kafka'</span><span class="token punctuation">)</span>
action<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'data_to_timescaledb'</span>, <span class="token assign-left variable">app</span><span class="token operator">=</span><span class="token string">'emqx_backend_pgsql'</span>, <span class="token assign-left variable">types</span><span class="token operator">=</span><span class="token punctuation">[</span>timescaledb<span class="token punctuation">]</span>, title <span class="token operator">=</span><span class="token string">'Data to TimescaleDB'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'Store data to TimescaleDB'</span><span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="resources-命令"><a href="#resources-命令" class="header-anchor">#</a> resources 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>resources create &lt;type&gt; [-c [&lt;config&gt;]] [-d [&lt;descr&gt;]]</code></td><td>Create a resource</td></tr><tr><td><code>resources list [-t &lt;ResourceType&gt;]</code></td><td>List resources</td></tr><tr><td><code>resources show &lt;ResourceId&gt;</code></td><td>Show a resource</td></tr><tr><td><code>resources delete &lt;ResourceId&gt;</code></td><td>Delete a resource</td></tr></tbody></table><h4 id="resources-create"><a href="#resources-create" class="header-anchor">#</a> resources create</h4><p>创建一个新的资源，参数:</p><ul><li>type: 资源类型</li><li>-c config: JSON 格式的配置</li><li>-d descr: 可选，资源的描述</li></ul><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl resources create <span class="token string">'web_hook'</span> -c <span class="token string">'{&quot;url&quot;: &quot;http://host-name/chats&quot;}'</span> -d <span class="token string">'forward msgs to host-name/chats'</span>

Resource resource:a7a38187 created
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="resources-list"><a href="#resources-list" class="header-anchor">#</a> resources list</h4><p>列出当前所有的资源:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl resources list

resource<span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">'resource:a7a38187'</span>, <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">'web_hook'</span>, <span class="token assign-left variable">config</span><span class="token operator">=</span><span class="token comment">#{&lt;&lt;&quot;url&quot;&gt;&gt; =&gt; &lt;&lt;&quot;http://host-name/chats&quot;&gt;&gt;}, status=#{is_alive =&gt; false}, description='forward msgs to host-name/chats')</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>列出当前某个类型的资源:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl resources list --type<span class="token operator">=</span><span class="token string">'web_hook'</span>

resource<span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">'resource:a7a38187'</span>, <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">'web_hook'</span>, <span class="token assign-left variable">config</span><span class="token operator">=</span><span class="token comment">#{&lt;&lt;&quot;url&quot;&gt;&gt; =&gt; &lt;&lt;&quot;http://host-name/chats&quot;&gt;&gt;}, status=#{is_alive =&gt; false}, description='forward msgs to host-name/chats')</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="resources-show"><a href="#resources-show" class="header-anchor">#</a> resources show</h4><p>查询资源:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl resources show <span class="token string">'resource:a7a38187'</span>

resource<span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">'resource:a7a38187'</span>, <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">'web_hook'</span>, <span class="token assign-left variable">config</span><span class="token operator">=</span><span class="token comment">#{&lt;&lt;&quot;url&quot;&gt;&gt; =&gt; &lt;&lt;&quot;http://host-name/chats&quot;&gt;&gt;}, status=#{is_alive =&gt; false}, description='forward msgs to host-name/chats')</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="resources-delete"><a href="#resources-delete" class="header-anchor">#</a> resources delete</h4><p>删除资源:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl resources delete <span class="token string">'resource:a7a38187'</span>

ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="resource-types-命令"><a href="#resource-types-命令" class="header-anchor">#</a> resource-types 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>resource-types list</td><td>List all resource-types</td></tr><tr><td>resource-types show <code>&lt;Type&gt;</code></td><td>Show a resource-type</td></tr></tbody></table><div class="custom-block tip"><p class="custom-block-title">提示</p><p>资源类型可以由 EMQX 内置(称为系统内置资源类型)，或者由 EMQX 插件编写，但不能通过 CLI/API 添加或删除。</p></div><h4 id="resource-types-list"><a href="#resource-types-list" class="header-anchor">#</a> resource-types list</h4><p>列出当前所有的资源类型:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl resource-types list

resource_type<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'backend_mongo_rs'</span>, <span class="token assign-left variable">provider</span><span class="token operator">=</span><span class="token string">'emqx_backend_mongo'</span>, title <span class="token operator">=</span><span class="token string">'MongoDB Replica Set Mode'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'MongoDB Replica Set Mode'</span><span class="token punctuation">)</span>
resource_type<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'backend_cassa'</span>, <span class="token assign-left variable">provider</span><span class="token operator">=</span><span class="token string">'emqx_backend_cassa'</span>, title <span class="token operator">=</span><span class="token string">'Cassandra'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'Cassandra Database'</span><span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="resource-types-show"><a href="#resource-types-show" class="header-anchor">#</a> resource-types show</h4><p>查询资源类型:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ./bin/emqx_ctl resource-types show backend_mysql

resource_type<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'backend_mysql'</span>, <span class="token assign-left variable">provider</span><span class="token operator">=</span><span class="token string">'emqx_backend_mysql'</span>, title <span class="token operator">=</span><span class="token string">'MySQL'</span>, <span class="token assign-left variable">description</span><span class="token operator">=</span><span class="token string">'MySQL Database'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="与规则引擎相关的状态、统计指标和告警"><a href="#与规则引擎相关的状态、统计指标和告警" class="header-anchor">#</a> 与规则引擎相关的状态、统计指标和告警</h2><h3 id="规则状态和统计指标"><a href="#规则状态和统计指标" class="header-anchor">#</a> 规则状态和统计指标</h3><p><img src="/docs-assets/img/rule_metrics.b093843b.png" alt="image"></p><ul><li>已命中: 规则命中(规则 SQL 匹配成功)的次数，</li><li>命中速度: 规则命中的速度(次/秒)</li><li>最大命中速度: 规则命中速度的峰值(次/秒)</li><li>5分钟平均速度: 5分钟内规则的平均命中速度(次/秒)</li></ul><h3 id="动作状态和统计指标"><a href="#动作状态和统计指标" class="header-anchor">#</a> 动作状态和统计指标</h3><p><img src="/docs-assets/img/action_metrics.4b791935.png" alt="image"></p><ul><li>成功: 动作执行成功次数</li><li>失败: 动作执行失败次数</li></ul><h3 id="资源状态和告警"><a href="#资源状态和告警" class="header-anchor">#</a> 资源状态和告警</h3><p><img src="/docs-assets/img/resource_status.22036231.png" alt="image"></p><ul><li>可用: 资源可用</li><li>不可用: 资源不可用(比如数据库连接断开)</li></ul><h2 id="emqx-内置数据库-auth-与-acl-规则"><a href="#emqx-内置数据库-auth-与-acl-规则" class="header-anchor">#</a> EMQX 内置数据库 Auth 与 ACL 规则</h2><p>此命令只有在开启 emqx_auth_mnesia 插件后生效</p><h3 id="clientid-命令"><a href="#clientid-命令" class="header-anchor">#</a> clientid 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>clientid list</td><td>List clientid auth rules</td></tr><tr><td>clientid add <code>&lt;ClientID&gt;</code> <code>&lt;Password&gt;</code></td><td>Add clientid auth rule</td></tr><tr><td>clientid update <code>&lt;ClientID&gt;</code> <code>&lt;Password&gt;</code></td><td>Update clientid auth rule</td></tr><tr><td>clientid del <code>&lt;ClientID&gt;</code> <code>&lt;Password&gt;</code></td><td>Delete clientid auth rule</td></tr></tbody></table><h4 id="clientid-list"><a href="#clientid-list" class="header-anchor">#</a> clientid list</h4><p>列出所有的 clientid 验证规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl clientid list
emqx
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="clientid-add-clientid-password"><a href="#clientid-add-clientid-password" class="header-anchor">#</a> clientid add <code>&lt;ClientID&gt;</code> <code>&lt;Password&gt;</code></h4><p>增加 clientid 验证规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl clientid <span class="token function">add</span> emqx public
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="clientid-update-clientid-password"><a href="#clientid-update-clientid-password" class="header-anchor">#</a> clientid update <code>&lt;ClientID&gt;</code> <code>&lt;Password&gt;</code></h4><p>更新 ClientID 验证的密码</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl clientid update emqx new_password
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="clientid-del-clientid-password"><a href="#clientid-del-clientid-password" class="header-anchor">#</a> clientid del <code>&lt;ClientID&gt;</code> <code>&lt;Password&gt;</code></h4><p>删除 clientid 验证规则码</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl clientid del emqx new_password
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="user-命令"><a href="#user-命令" class="header-anchor">#</a> user 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>user list</td><td>List username auth rules</td></tr><tr><td>user add <code>&lt;Username&gt;</code> <code>&lt;Password&gt;</code></td><td>Add username auth rule</td></tr><tr><td>user update <code>&lt;Username&gt;</code> <code>&lt;Password&gt;</code></td><td>Update username auth rule</td></tr><tr><td>user del <code>&lt;Username&gt;</code> <code>&lt;Password&gt;</code></td><td>Delete username auth rule</td></tr></tbody></table><h4 id="user-list"><a href="#user-list" class="header-anchor">#</a> user list</h4><p>列出所有的 username 验证规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl user list
emqx
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="user-add-username-password"><a href="#user-add-username-password" class="header-anchor">#</a> user add <code>&lt;Username&gt;</code> <code>&lt;Password&gt;</code></h4><p>增加 username 验证规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl user <span class="token function">add</span> emqx public
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="user-update-username-password"><a href="#user-update-username-password" class="header-anchor">#</a> user update <code>&lt;Username&gt;</code> <code>&lt;Password&gt;</code></h4><p>更新 ClientID 验证的密码</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl user update emqx new_password
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="user-del-username-password"><a href="#user-del-username-password" class="header-anchor">#</a> user del <code>&lt;Username&gt;</code> <code>&lt;Password&gt;</code></h4><p>删除 username 验证规则码</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl user del emqx new_password
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="acl-命令-2"><a href="#acl-命令-2" class="header-anchor">#</a> acl 命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>acl list clientid</code></td><td>List clientid acls</td></tr><tr><td><code>acl list username</code></td><td>List username acls</td></tr><tr><td><code>acl list _all</code></td><td>List $all acls</td></tr><tr><td><code>acl show clientid &lt;Clientid&gt;</code></td><td>Lookup clientid acl detail</td></tr><tr><td><code>acl show username &lt;Username&gt;</code></td><td>Lookup username acl detail</td></tr><tr><td><code>acl aad clientid &lt;Clientid&gt; &lt;Topic&gt; &lt;Action&gt; &lt;Access&gt;</code></td><td>Add clientid acl</td></tr><tr><td><code>acl add Username &lt;Username&gt; &lt;Topic&gt; &lt;Action&gt; &lt;Access&gt;</code></td><td>Add username acl</td></tr><tr><td><code>acl add _all &lt;Topic&gt; &lt;Action&gt; &lt;Access&gt;</code></td><td>Add $all acl</td></tr><tr><td><code>acl del clientid &lt;Clientid&gt; &lt;Topic&gt;</code></td><td>Delete clientid acl</td></tr><tr><td><code>acl del username &lt;Username&gt; &lt;Topic&gt;</code></td><td>Delete username acl</td></tr><tr><td><code>acl del _all \&lt;Topic&gt;</code></td><td>Delete $all acl</td></tr></tbody></table><h4 id="acl-list"><a href="#acl-list" class="header-anchor">#</a> acl list</h4><ul><li><p>acl list <code>clientid</code></p><p>列出 clientid 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl list clientid
Acl<span class="token punctuation">(</span>clientid <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;emqx_clientid&quot;</span><span class="token operator">&gt;&gt;</span> topic <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Topic/A&quot;</span><span class="token operator">&gt;&gt;</span> action <span class="token operator">=</span> pub access <span class="token operator">=</span> allow<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl list <code>username</code></p><p>列出 username 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl list username
Acl<span class="token punctuation">(</span>username <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;emqx_username&quot;</span><span class="token operator">&gt;&gt;</span> topic <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Topic/B&quot;</span><span class="token operator">&gt;&gt;</span> action <span class="token operator">=</span> sub access <span class="token operator">=</span> deny<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl list <code>_all</code></p><p>列出 $all 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl list _all
Acl<span class="token punctuation">(</span><span class="token variable">$all</span> topic <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Topic/C&quot;</span><span class="token operator">&gt;&gt;</span> action <span class="token operator">=</span> pubsub access <span class="token operator">=</span> allow<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h4 id="acl-show"><a href="#acl-show" class="header-anchor">#</a> acl show</h4><ul><li><p>acl show clientid <code>&lt;Clientid&gt;</code></p><p>展示某一的 clientid ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl show clientid emqx_clientid
Acl<span class="token punctuation">(</span>clientid <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;emqx_clientid&quot;</span><span class="token operator">&gt;&gt;</span> topic <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Topic/A&quot;</span><span class="token operator">&gt;&gt;</span> action <span class="token operator">=</span> pub access <span class="token operator">=</span> allow<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl show username <code>&lt;Username&gt;</code></p><p>展示某一的 username ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl show username emqx_username
Acl<span class="token punctuation">(</span>username <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;emqx_username&quot;</span><span class="token operator">&gt;&gt;</span> topic <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Topic/B&quot;</span><span class="token operator">&gt;&gt;</span> action <span class="token operator">=</span> sub access <span class="token operator">=</span> deny<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h4 id="acl-add"><a href="#acl-add" class="header-anchor">#</a> acl add</h4><ul><li><p>acl aad clientid <code>&lt;Clientid&gt;</code> <code>&lt;Topic&gt;</code> <code>&lt;Action&gt;</code> <code>&lt;Access&gt;</code></p><p>增加一条 clientid 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl <span class="token function">add</span> clientid emqx_clientid Topic/A pub allow
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl aad username <code>&lt;Username&gt;</code> <code>&lt;Topic&gt;</code> <code>&lt;Action&gt;</code> <code>&lt;Access&gt;</code></p><p>增加一条 username 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl <span class="token function">add</span> username emqx_username Topic/B sub deny
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl aad <code>_all</code> <code>&lt;Topic&gt;</code> <code>&lt;Action&gt;</code> <code>&lt;Access&gt;</code></p><p>增加一条 $all 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl <span class="token function">add</span> _all Topic/C pubsub allow
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h4 id="acl-del"><a href="#acl-del" class="header-anchor">#</a> acl del</h4><ul><li><p>acl del clientid <code>&lt;Clientid&gt;</code> <code>&lt;Topic&gt;</code></p><p>删除一条 clientid 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl del clientid emqx_clientid Topic/A
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl del username <code>&lt;Username&gt;</code> <code>&lt;Topic&gt;</code></p><p>删除一条 username 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl del clientid emqx_username Topic/B
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>acl del <code>_all</code> <code>&lt;Topic&gt;</code></p><p>删除一条 $all 的 ACL 规则</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/emqx_ctl acl del _all Topic/C
ok
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h2 id="pem-cache-命令"><a href="#pem-cache-命令" class="header-anchor">#</a> pem_cache 命令</h2><p><code>pem_cache</code> 命令用于清理所有 PEM 证书的缓存。例如，在替换了 SSL 监听器的证书 文件后，你可以使用该命令让新的证书文件生效，而不是重启 EMQX 的 SSL 监听器。</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>pem_cache clean</code></td><td>清理所有节点的 x509 的证书缓存</td></tr><tr><td><code>pem_cache clean node &lt;Node&gt;</code></td><td>清理指定节点的 x509 的证书缓存</td></tr></tbody></table><p><strong>注：</strong> 更新证书并不会影响当前已建立的 TLS 连接。</p><div class="custom-block tip"><p class="custom-block-title">提示</p><p>该命令在 v4.3.13 版本中引入。在这之前都版本都不支持该命令</p></div></div><div class="page-nav reset-width"><p class="inner"><span class="prev">← <a href="/zh/enterprise/latest/advanced/http-api.html" class="prev">HTTP API </a></span><span class="next"><a href="/zh/enterprise/latest/getting-started/config.html">配置说明 </a>→</span></p></div></main></div><div class="right-column"><section class="doc-toc"><div class="title">本页导航</div><div class="toc-content"><ul><li><a href="/zh/enterprise/latest/advanced/cli.html#status-命令">status 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#mgmt-命令">mgmt 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#broker-命令">broker 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#cluster-命令">cluster 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#acl-命令">acl 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#clients-命令">clients 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#routes-命令">routes 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#subscriptions-命令">subscriptions 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#plugins-命令">plugins 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#modules-命令">modules 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#vm-命令">vm 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#mnesia-命令">mnesia 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#log-命令">log 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#trace-命令">trace 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#listeners">listeners</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#recon-命令">recon 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#retainer-命令">retainer 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#admins-命令">admins 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#规则引擎-rule-engine-命令">规则引擎(rule engine) 命令</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#与规则引擎相关的状态、统计指标和告警">与规则引擎相关的状态、统计指标和告警</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#emqx-内置数据库-auth-与-acl-规则">EMQX 内置数据库 Auth 与 ACL 规则</a></li><li><a href="/zh/enterprise/latest/advanced/cli.html#pem-cache-命令">pem_cache 命令</a></li></ul></div></section></div></div><footer class="main-footer-box has-text-centered-mobile"><div class="container"><div class="columns is-vcentered"><div class="column is-5"><h2 class="m-0 p-0 is-size-3">订阅 EMQ 最新资讯</h2></div><div id="form-mail" class="column is-6 is-offset-1 form-mail"><div class="is-flex"><input id="inputEmail" type="email" required="required" name="inputEmail" placeholder="邮箱" value="" class="form-control mr-4"> <button class="button is-gradient px-5 m-0">订阅 →</button><p class="sub-tips m-0"></p></div></div></div><hr><div class="columns"><div class="column is-flex-grow-3 is-flex-shrink-0"><div class="is-flex is-flex-direction-column is-justify-content-space-between" style="height:100%"><div class="mb-5"><a href="https://www.emqx.com/zh" target="_blank" rel="noopener"><img src="/docs-assets/img/logo.2f824ccf.png" alt="EMQ LOGO" class="logo"></a></div><div><img loading="lazy" src="/docs-assets/img/qr-code.e3ef18a0.png" alt="EMQ 映云科技公众号二维码" width="146" height="146" class="qr-code mb-3"><div class="follow-us"><a href="https://github.com/emqx/emqx" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-github"></use></svg></a><a href="https://www.youtube.com/channel/UCir_r04HIsLjf2qqyZ4A8Cg" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-youtube"></use></svg></a><a href="https://weibo.com/emqtt" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-weibo"></use></svg></a><a href="https://www.linkedin.com/company/emqtech" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-linkedin"></use></svg></a><a href="https://space.bilibili.com/522222081" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-bilibili"></use></svg></a></div></div></div></div><ul class="column is-narrow m-0 is-flex-grow-1"><li><h5 class="mt-0 mb-3">学习</h5></li><li><a href="https://www.emqx.com/zh/blog" target="_blank" rel="noopener">博客</a></li><li><a href="https://www.emqx.com/zh/events" target="_blank" rel="noopener">活动</a></li><li><a href="https://www.emqx.com/zh/community" target="_blank" rel="noopener">社区</a></li><li><a href="https://www.emqx.com/zh/resources" target="_blank" rel="noopener">资源</a></li></ul><ul class="column is-narrow m-0 is-flex-grow-1"><li><h5 class="mt-0 mb-3">MQTT</h5></li><li><a href="https://www.emqx.com/zh/mqtt" target="_blank" rel="noopener">MQTT</a></li><li><a href="https://www.emqx.com/zh/mqtt/mqtt5" target="_blank" rel="noopener">MQTT 5</a></li><li><a href="https://www.emqx.com/zh/products/mqttx" target="_blank" rel="noopener">MQTT X</a></li><li><a href="https://www.emqx.com/zh/mqtt/public-mqtt5-broker" target="_blank" rel="noopener">在线 MQTT 5 服务器</a></li><li><a href="https://www.emqx.com/zh/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener">MQTT Websocket Toolkit</a></li></ul></div><div class="record-information columns is-gapless is-vcentered is-centered"><div class="column is-narrow"><p class="m-0">© 2022 <a href="https://www.emqx.com/zh">EMQ </a>Technologies Inc. All rights reserved</p></div></div></div></footer></section><div id="page-feedback" data-v-5905af3e><div class="feedback-button is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-useful" data-v-5905af3e></use></svg></div><div class="feedback-form" style="display:none" data-v-5905af3e data-v-5905af3e><div class="feedback-header pl-4 is-flex is-align-items-center is-justify-content-space-between" data-v-5905af3e>文档内容是否有帮助？<div class="icon-close p-4" style="cursor:pointer" data-v-5905af3e>x</div></div><div class="feedback-body p-4" data-v-5905af3e><div class="is-flex" data-v-5905af3e data-v-67fd37ab data-v-5905af3e><div class="feedback-button like mr-5 is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-useful" data-v-5905af3e></use></svg></div><div class="feedback-button dislike is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-a-notuseful" data-v-5905af3e></use></svg></div></div></div></div></div></div><div class="global-ui"></div></div><script src="/docs-assets/js/app.b7cd69d3.js" defer="defer"></script><script src="/docs-assets/js/3.c47ef470.js" defer="defer"></script><script src="/docs-assets/js/145.13d03034.js" defer="defer"></script></body></html>