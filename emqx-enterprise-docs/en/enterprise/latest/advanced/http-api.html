<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>HTTP API | EMQX Enterprise Documentation</title><meta name="generator" content="VuePress 1.9.5"><link rel="shortcut icon" type="image/x-icon" href="/docs-images/favicon.ico"><script charset="utf-8" src="/iconfont/iconfont.js"></script><script>(function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2990978,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><link rel="canonical" href="https://docs.emqx.com/en/enterprise/latest/advanced/http-api.html"><meta name="docsearch:language" content="en"><meta name="docsearch:product" content="enterprise"><meta name="docsearch:version" content="latest"><meta name="description" content=""><meta property="og:site_name" content="EMQ Documentation"><meta property="og:title" content="HTTP API"><meta property="og:type" content="website"><meta property="og:url" content="https://docs.emqx.com/en/enterprise/latest/advanced/http-api.html"><meta name="twitter:title" content="HTTP API"><meta name="twitter:url" content="https://docs.emqx.com/en/enterprise/latest/advanced/http-api.html"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@EMQTech"><meta name="twitter:creator" content="@EMQTech"><meta name="twitter:image" content="https://www.emqx.com/images/logo_512.png"><meta name="twitter:image:alt" content="EMQ LOGO"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta property="og:image" content="https://www.emqx.com/images/logo_512.png"><link rel="preload" href="/docs-assets/css/0.styles.30944fa5.css" as="style"><link rel="preload" href="/docs-assets/js/app.b7cd69d3.js" as="script"><link rel="preload" href="/docs-assets/js/3.c47ef470.js" as="script"><link rel="preload" href="/docs-assets/js/231.a4a7bd32.js" as="script"><link rel="prefetch" href="/docs-assets/js/10.f29dcc50.js"><link rel="prefetch" href="/docs-assets/js/100.dd92377e.js"><link rel="prefetch" href="/docs-assets/js/101.78f9bf06.js"><link rel="prefetch" href="/docs-assets/js/102.da58783f.js"><link rel="prefetch" href="/docs-assets/js/103.67a9f630.js"><link rel="prefetch" href="/docs-assets/js/104.7ae47f4c.js"><link rel="prefetch" href="/docs-assets/js/105.585f69dd.js"><link rel="prefetch" href="/docs-assets/js/106.4f8743a7.js"><link rel="prefetch" href="/docs-assets/js/107.fdb81ce0.js"><link rel="prefetch" href="/docs-assets/js/108.558f79eb.js"><link rel="prefetch" href="/docs-assets/js/109.92ec90f3.js"><link rel="prefetch" href="/docs-assets/js/11.083a4a72.js"><link rel="prefetch" href="/docs-assets/js/110.12497c8c.js"><link rel="prefetch" href="/docs-assets/js/111.da4e0d0f.js"><link rel="prefetch" href="/docs-assets/js/112.3baa2211.js"><link rel="prefetch" href="/docs-assets/js/113.1930bc2f.js"><link rel="prefetch" href="/docs-assets/js/114.fa7d5a17.js"><link rel="prefetch" href="/docs-assets/js/115.efdd3556.js"><link rel="prefetch" href="/docs-assets/js/116.acc50eaa.js"><link rel="prefetch" href="/docs-assets/js/117.be3006ad.js"><link rel="prefetch" href="/docs-assets/js/118.0e83888a.js"><link rel="prefetch" href="/docs-assets/js/119.9397114a.js"><link rel="prefetch" href="/docs-assets/js/12.26a38211.js"><link rel="prefetch" href="/docs-assets/js/120.63b3749f.js"><link rel="prefetch" href="/docs-assets/js/121.2a407f9c.js"><link rel="prefetch" href="/docs-assets/js/122.586f2a64.js"><link rel="prefetch" href="/docs-assets/js/123.1311da6e.js"><link rel="prefetch" href="/docs-assets/js/124.0c9e0192.js"><link rel="prefetch" href="/docs-assets/js/125.32b010bd.js"><link rel="prefetch" href="/docs-assets/js/126.52283988.js"><link rel="prefetch" href="/docs-assets/js/127.ee1bc25a.js"><link rel="prefetch" href="/docs-assets/js/128.a5357be3.js"><link rel="prefetch" href="/docs-assets/js/129.e00317a6.js"><link rel="prefetch" href="/docs-assets/js/13.67a3210f.js"><link rel="prefetch" href="/docs-assets/js/130.594772f8.js"><link rel="prefetch" href="/docs-assets/js/131.84acbc82.js"><link rel="prefetch" href="/docs-assets/js/132.52786b4f.js"><link rel="prefetch" href="/docs-assets/js/133.13489431.js"><link rel="prefetch" href="/docs-assets/js/134.07f54db1.js"><link rel="prefetch" href="/docs-assets/js/135.b66135b0.js"><link rel="prefetch" href="/docs-assets/js/136.63cc897d.js"><link rel="prefetch" href="/docs-assets/js/137.f4a7dfb5.js"><link rel="prefetch" href="/docs-assets/js/138.be3bce65.js"><link rel="prefetch" href="/docs-assets/js/139.1e1aa551.js"><link rel="prefetch" href="/docs-assets/js/14.e55026e6.js"><link rel="prefetch" href="/docs-assets/js/140.e5495a15.js"><link rel="prefetch" href="/docs-assets/js/141.36451d38.js"><link rel="prefetch" href="/docs-assets/js/142.a458abf0.js"><link rel="prefetch" href="/docs-assets/js/143.7fba9b1f.js"><link rel="prefetch" href="/docs-assets/js/144.7f31b83b.js"><link rel="prefetch" href="/docs-assets/js/145.13d03034.js"><link rel="prefetch" href="/docs-assets/js/146.ae05364a.js"><link rel="prefetch" href="/docs-assets/js/147.680be9e1.js"><link rel="prefetch" href="/docs-assets/js/148.ce47f123.js"><link rel="prefetch" href="/docs-assets/js/149.d0a6cbee.js"><link rel="prefetch" href="/docs-assets/js/15.b43872d6.js"><link rel="prefetch" href="/docs-assets/js/150.77a52459.js"><link rel="prefetch" href="/docs-assets/js/151.9a55ba76.js"><link rel="prefetch" href="/docs-assets/js/152.4f9d25bd.js"><link rel="prefetch" href="/docs-assets/js/153.09850384.js"><link rel="prefetch" href="/docs-assets/js/154.1dc45a79.js"><link rel="prefetch" href="/docs-assets/js/155.9a359e42.js"><link rel="prefetch" href="/docs-assets/js/156.7ba55f53.js"><link rel="prefetch" href="/docs-assets/js/157.e500b8f1.js"><link rel="prefetch" href="/docs-assets/js/158.bcd425a4.js"><link rel="prefetch" href="/docs-assets/js/159.6368dfe6.js"><link rel="prefetch" href="/docs-assets/js/16.4d03b0a1.js"><link rel="prefetch" href="/docs-assets/js/160.9e48a572.js"><link rel="prefetch" href="/docs-assets/js/161.f3dcccdd.js"><link rel="prefetch" href="/docs-assets/js/162.a1b92f78.js"><link rel="prefetch" href="/docs-assets/js/163.30810611.js"><link rel="prefetch" href="/docs-assets/js/164.92cf62a0.js"><link rel="prefetch" href="/docs-assets/js/165.b109198f.js"><link rel="prefetch" href="/docs-assets/js/166.c1c56c9c.js"><link rel="prefetch" href="/docs-assets/js/167.2b9fcf6b.js"><link rel="prefetch" href="/docs-assets/js/168.438de5ea.js"><link rel="prefetch" href="/docs-assets/js/169.17eca1f9.js"><link rel="prefetch" href="/docs-assets/js/17.03930327.js"><link rel="prefetch" href="/docs-assets/js/170.9c2b8948.js"><link rel="prefetch" href="/docs-assets/js/171.1da77852.js"><link rel="prefetch" href="/docs-assets/js/172.bbbed780.js"><link rel="prefetch" href="/docs-assets/js/173.4b52ceac.js"><link rel="prefetch" href="/docs-assets/js/174.ba851c2b.js"><link rel="prefetch" href="/docs-assets/js/175.bd0753e3.js"><link rel="prefetch" href="/docs-assets/js/176.9f9a531c.js"><link rel="prefetch" href="/docs-assets/js/177.54749349.js"><link rel="prefetch" href="/docs-assets/js/178.7cf859ad.js"><link rel="prefetch" href="/docs-assets/js/179.23420125.js"><link rel="prefetch" href="/docs-assets/js/18.f0220ae4.js"><link rel="prefetch" href="/docs-assets/js/180.40667bcc.js"><link rel="prefetch" href="/docs-assets/js/181.02e71c69.js"><link rel="prefetch" href="/docs-assets/js/182.9bafc9d4.js"><link rel="prefetch" href="/docs-assets/js/183.27654d6f.js"><link rel="prefetch" href="/docs-assets/js/184.97970dca.js"><link rel="prefetch" href="/docs-assets/js/185.3dc227ac.js"><link rel="prefetch" href="/docs-assets/js/186.8cdd4af3.js"><link rel="prefetch" href="/docs-assets/js/187.28fce18a.js"><link rel="prefetch" href="/docs-assets/js/188.aa7ddb18.js"><link rel="prefetch" href="/docs-assets/js/189.4f2922e4.js"><link rel="prefetch" href="/docs-assets/js/19.39913ede.js"><link rel="prefetch" href="/docs-assets/js/190.34eb1d55.js"><link rel="prefetch" href="/docs-assets/js/191.e03a425e.js"><link rel="prefetch" href="/docs-assets/js/192.bd1acf00.js"><link rel="prefetch" href="/docs-assets/js/193.e14d3047.js"><link rel="prefetch" href="/docs-assets/js/194.7a3e2b42.js"><link rel="prefetch" href="/docs-assets/js/195.9d89248e.js"><link rel="prefetch" href="/docs-assets/js/196.27533146.js"><link rel="prefetch" href="/docs-assets/js/197.1053cd54.js"><link rel="prefetch" href="/docs-assets/js/198.7ad276db.js"><link rel="prefetch" href="/docs-assets/js/199.f0f1e866.js"><link rel="prefetch" href="/docs-assets/js/20.ef31760a.js"><link rel="prefetch" href="/docs-assets/js/200.ce70b113.js"><link rel="prefetch" href="/docs-assets/js/201.8a77459b.js"><link rel="prefetch" href="/docs-assets/js/202.2d04aea2.js"><link rel="prefetch" href="/docs-assets/js/203.a66483ec.js"><link rel="prefetch" href="/docs-assets/js/204.85007508.js"><link rel="prefetch" href="/docs-assets/js/205.e0be02e9.js"><link rel="prefetch" href="/docs-assets/js/206.37f4ce0b.js"><link rel="prefetch" href="/docs-assets/js/207.72ad87ee.js"><link rel="prefetch" href="/docs-assets/js/208.5256ee05.js"><link rel="prefetch" href="/docs-assets/js/209.85ec5717.js"><link rel="prefetch" href="/docs-assets/js/21.00ea2b19.js"><link rel="prefetch" href="/docs-assets/js/210.ced1c111.js"><link rel="prefetch" href="/docs-assets/js/211.a4c0c6e9.js"><link rel="prefetch" href="/docs-assets/js/212.a8a13a61.js"><link rel="prefetch" href="/docs-assets/js/213.45f15a16.js"><link rel="prefetch" href="/docs-assets/js/214.0f5ff96a.js"><link rel="prefetch" href="/docs-assets/js/215.0697a4d3.js"><link rel="prefetch" href="/docs-assets/js/216.82e22dd2.js"><link rel="prefetch" href="/docs-assets/js/217.c29f2bed.js"><link rel="prefetch" href="/docs-assets/js/218.9e396e7e.js"><link rel="prefetch" href="/docs-assets/js/219.4ac9567c.js"><link rel="prefetch" href="/docs-assets/js/22.e05ef252.js"><link rel="prefetch" href="/docs-assets/js/220.86603c72.js"><link rel="prefetch" href="/docs-assets/js/221.f1c0fda9.js"><link rel="prefetch" href="/docs-assets/js/222.b6b66b71.js"><link rel="prefetch" href="/docs-assets/js/223.671b3424.js"><link rel="prefetch" href="/docs-assets/js/224.e05f5dc7.js"><link rel="prefetch" href="/docs-assets/js/225.affa812b.js"><link rel="prefetch" href="/docs-assets/js/226.1e077ce4.js"><link rel="prefetch" href="/docs-assets/js/227.0a09d92c.js"><link rel="prefetch" href="/docs-assets/js/228.46bcc2b0.js"><link rel="prefetch" href="/docs-assets/js/229.aca259b7.js"><link rel="prefetch" href="/docs-assets/js/23.b970ad64.js"><link rel="prefetch" href="/docs-assets/js/230.ff6dbb9d.js"><link rel="prefetch" href="/docs-assets/js/232.b6c5133e.js"><link rel="prefetch" href="/docs-assets/js/233.3a8e1d11.js"><link rel="prefetch" href="/docs-assets/js/234.de1007c8.js"><link rel="prefetch" href="/docs-assets/js/235.7edb49aa.js"><link rel="prefetch" href="/docs-assets/js/236.2f5ffe6d.js"><link rel="prefetch" href="/docs-assets/js/237.3c3a4015.js"><link rel="prefetch" href="/docs-assets/js/238.c71e6dab.js"><link rel="prefetch" href="/docs-assets/js/239.bb0ad5b4.js"><link rel="prefetch" href="/docs-assets/js/24.02c167f7.js"><link rel="prefetch" href="/docs-assets/js/240.0abf517a.js"><link rel="prefetch" href="/docs-assets/js/241.bc4c0d21.js"><link rel="prefetch" href="/docs-assets/js/242.bc1e8adc.js"><link rel="prefetch" href="/docs-assets/js/243.6bce5fb4.js"><link rel="prefetch" href="/docs-assets/js/244.2df022e5.js"><link rel="prefetch" href="/docs-assets/js/245.3ea32d2d.js"><link rel="prefetch" href="/docs-assets/js/246.11e84e89.js"><link rel="prefetch" href="/docs-assets/js/247.df6099af.js"><link rel="prefetch" href="/docs-assets/js/248.8260b85a.js"><link rel="prefetch" href="/docs-assets/js/249.e890cfe3.js"><link rel="prefetch" href="/docs-assets/js/25.b3fcd6ca.js"><link rel="prefetch" href="/docs-assets/js/250.facd3fa7.js"><link rel="prefetch" href="/docs-assets/js/251.e36e3399.js"><link rel="prefetch" href="/docs-assets/js/252.8a625b39.js"><link rel="prefetch" href="/docs-assets/js/253.007f05e9.js"><link rel="prefetch" href="/docs-assets/js/254.2cb6f7a2.js"><link rel="prefetch" href="/docs-assets/js/255.b4f3813e.js"><link rel="prefetch" href="/docs-assets/js/256.fffd7209.js"><link rel="prefetch" href="/docs-assets/js/257.d9ac57f4.js"><link rel="prefetch" href="/docs-assets/js/258.0700a557.js"><link rel="prefetch" href="/docs-assets/js/259.8a5858a6.js"><link rel="prefetch" href="/docs-assets/js/26.0f75e19a.js"><link rel="prefetch" href="/docs-assets/js/260.a809aed3.js"><link rel="prefetch" href="/docs-assets/js/261.d21b6b81.js"><link rel="prefetch" href="/docs-assets/js/262.2062a4e9.js"><link rel="prefetch" href="/docs-assets/js/263.1018d506.js"><link rel="prefetch" href="/docs-assets/js/264.36d57f69.js"><link rel="prefetch" href="/docs-assets/js/265.9b5495c2.js"><link rel="prefetch" href="/docs-assets/js/266.2c079d26.js"><link rel="prefetch" href="/docs-assets/js/267.6f36646a.js"><link rel="prefetch" href="/docs-assets/js/268.3f03dce5.js"><link rel="prefetch" href="/docs-assets/js/269.7dbdae40.js"><link rel="prefetch" href="/docs-assets/js/27.bebc426d.js"><link rel="prefetch" href="/docs-assets/js/270.1b0a2a2c.js"><link rel="prefetch" href="/docs-assets/js/271.0656f13c.js"><link rel="prefetch" href="/docs-assets/js/272.c0edf60a.js"><link rel="prefetch" href="/docs-assets/js/273.3f27696c.js"><link rel="prefetch" href="/docs-assets/js/274.3a4f3e48.js"><link rel="prefetch" href="/docs-assets/js/275.89c1492c.js"><link rel="prefetch" href="/docs-assets/js/276.58983e8f.js"><link rel="prefetch" href="/docs-assets/js/277.0e090c7c.js"><link rel="prefetch" href="/docs-assets/js/278.199b778e.js"><link rel="prefetch" href="/docs-assets/js/279.809596de.js"><link rel="prefetch" href="/docs-assets/js/28.1316cd4e.js"><link rel="prefetch" href="/docs-assets/js/280.d99f4249.js"><link rel="prefetch" href="/docs-assets/js/281.e024c926.js"><link rel="prefetch" href="/docs-assets/js/282.0f1eaab2.js"><link rel="prefetch" href="/docs-assets/js/283.97a2d0ed.js"><link rel="prefetch" href="/docs-assets/js/284.84a935fe.js"><link rel="prefetch" href="/docs-assets/js/285.122d36dd.js"><link rel="prefetch" href="/docs-assets/js/286.db56a688.js"><link rel="prefetch" href="/docs-assets/js/287.76e2ce08.js"><link rel="prefetch" href="/docs-assets/js/288.ec414008.js"><link rel="prefetch" href="/docs-assets/js/289.68639c80.js"><link rel="prefetch" href="/docs-assets/js/29.e6dcffb4.js"><link rel="prefetch" href="/docs-assets/js/290.f49b8cb4.js"><link rel="prefetch" href="/docs-assets/js/291.676417fb.js"><link rel="prefetch" href="/docs-assets/js/292.24c6f690.js"><link rel="prefetch" href="/docs-assets/js/293.c06e0ff8.js"><link rel="prefetch" href="/docs-assets/js/294.170a69da.js"><link rel="prefetch" href="/docs-assets/js/295.9ddbea1e.js"><link rel="prefetch" href="/docs-assets/js/296.24631c70.js"><link rel="prefetch" href="/docs-assets/js/297.b9fa8707.js"><link rel="prefetch" href="/docs-assets/js/298.c9c8fffb.js"><link rel="prefetch" href="/docs-assets/js/299.b716ee66.js"><link rel="prefetch" href="/docs-assets/js/30.c338ac22.js"><link rel="prefetch" href="/docs-assets/js/300.a6f08c7d.js"><link rel="prefetch" href="/docs-assets/js/301.dee917bb.js"><link rel="prefetch" href="/docs-assets/js/302.d877ec00.js"><link rel="prefetch" href="/docs-assets/js/303.14c8d664.js"><link rel="prefetch" href="/docs-assets/js/304.0cb77bd1.js"><link rel="prefetch" href="/docs-assets/js/305.c167fc56.js"><link rel="prefetch" href="/docs-assets/js/306.878256db.js"><link rel="prefetch" href="/docs-assets/js/307.3986064d.js"><link rel="prefetch" href="/docs-assets/js/308.07c2c6e6.js"><link rel="prefetch" href="/docs-assets/js/309.2537f38b.js"><link rel="prefetch" href="/docs-assets/js/31.01d6777f.js"><link rel="prefetch" href="/docs-assets/js/310.2267e9e6.js"><link rel="prefetch" href="/docs-assets/js/311.3e2f8bbd.js"><link rel="prefetch" href="/docs-assets/js/312.d1343933.js"><link rel="prefetch" href="/docs-assets/js/313.93dd5b8e.js"><link rel="prefetch" href="/docs-assets/js/314.e4b2a890.js"><link rel="prefetch" href="/docs-assets/js/315.0fc668b4.js"><link rel="prefetch" href="/docs-assets/js/316.aadfb9cb.js"><link rel="prefetch" href="/docs-assets/js/317.b089a4c1.js"><link rel="prefetch" href="/docs-assets/js/318.fd94a0bf.js"><link rel="prefetch" href="/docs-assets/js/319.cde27122.js"><link rel="prefetch" href="/docs-assets/js/32.9edae42d.js"><link rel="prefetch" href="/docs-assets/js/320.64753f43.js"><link rel="prefetch" href="/docs-assets/js/321.0b4fe303.js"><link rel="prefetch" href="/docs-assets/js/322.0fedd97a.js"><link rel="prefetch" href="/docs-assets/js/323.bf5a8ac4.js"><link rel="prefetch" href="/docs-assets/js/324.48dff3ae.js"><link rel="prefetch" href="/docs-assets/js/325.583fb8f8.js"><link rel="prefetch" href="/docs-assets/js/326.61a5b107.js"><link rel="prefetch" href="/docs-assets/js/327.ec4c95b8.js"><link rel="prefetch" href="/docs-assets/js/328.f0056afc.js"><link rel="prefetch" href="/docs-assets/js/329.88f423a1.js"><link rel="prefetch" href="/docs-assets/js/33.eacf3cf6.js"><link rel="prefetch" href="/docs-assets/js/330.81cdfccb.js"><link rel="prefetch" href="/docs-assets/js/331.1681668a.js"><link rel="prefetch" href="/docs-assets/js/332.3c60599b.js"><link rel="prefetch" href="/docs-assets/js/333.fd6d1c99.js"><link rel="prefetch" href="/docs-assets/js/334.90792fb5.js"><link rel="prefetch" href="/docs-assets/js/335.6fca3dfd.js"><link rel="prefetch" href="/docs-assets/js/336.81429528.js"><link rel="prefetch" href="/docs-assets/js/337.b67fae0f.js"><link rel="prefetch" href="/docs-assets/js/338.58245c79.js"><link rel="prefetch" href="/docs-assets/js/339.c007c6d3.js"><link rel="prefetch" href="/docs-assets/js/34.31f57889.js"><link rel="prefetch" href="/docs-assets/js/340.1116c6cd.js"><link rel="prefetch" href="/docs-assets/js/341.37f67dfa.js"><link rel="prefetch" href="/docs-assets/js/342.7fc36b6b.js"><link rel="prefetch" href="/docs-assets/js/343.74a4d89b.js"><link rel="prefetch" href="/docs-assets/js/344.d074b240.js"><link rel="prefetch" href="/docs-assets/js/345.5f0932b2.js"><link rel="prefetch" href="/docs-assets/js/346.061ef3f1.js"><link rel="prefetch" href="/docs-assets/js/347.9ac1ec3c.js"><link rel="prefetch" href="/docs-assets/js/348.3ee40dc5.js"><link rel="prefetch" href="/docs-assets/js/349.8c68cde1.js"><link rel="prefetch" href="/docs-assets/js/35.0d03d0be.js"><link rel="prefetch" href="/docs-assets/js/350.8f48f6ac.js"><link rel="prefetch" href="/docs-assets/js/351.fa0625bf.js"><link rel="prefetch" href="/docs-assets/js/352.4a703890.js"><link rel="prefetch" href="/docs-assets/js/353.5648c15e.js"><link rel="prefetch" href="/docs-assets/js/354.03eab3a6.js"><link rel="prefetch" href="/docs-assets/js/355.b07eb924.js"><link rel="prefetch" href="/docs-assets/js/356.81e4e0e2.js"><link rel="prefetch" href="/docs-assets/js/357.b85b42cc.js"><link rel="prefetch" href="/docs-assets/js/358.f1cd6481.js"><link rel="prefetch" href="/docs-assets/js/359.8f878573.js"><link rel="prefetch" href="/docs-assets/js/36.59740493.js"><link rel="prefetch" href="/docs-assets/js/360.ee7d63e5.js"><link rel="prefetch" href="/docs-assets/js/361.ad18a784.js"><link rel="prefetch" href="/docs-assets/js/362.29af9ba0.js"><link rel="prefetch" href="/docs-assets/js/363.57c6d6ba.js"><link rel="prefetch" href="/docs-assets/js/364.deddb5f2.js"><link rel="prefetch" href="/docs-assets/js/365.fd90695b.js"><link rel="prefetch" href="/docs-assets/js/366.8a53ab25.js"><link rel="prefetch" href="/docs-assets/js/367.b556b183.js"><link rel="prefetch" href="/docs-assets/js/368.47e932a8.js"><link rel="prefetch" href="/docs-assets/js/369.358ea7c2.js"><link rel="prefetch" href="/docs-assets/js/37.e09d11ea.js"><link rel="prefetch" href="/docs-assets/js/370.8ea32d4d.js"><link rel="prefetch" href="/docs-assets/js/371.ecf2fd00.js"><link rel="prefetch" href="/docs-assets/js/372.a4e4d233.js"><link rel="prefetch" href="/docs-assets/js/373.c656b9aa.js"><link rel="prefetch" href="/docs-assets/js/374.5473cf7b.js"><link rel="prefetch" href="/docs-assets/js/375.346dacd3.js"><link rel="prefetch" href="/docs-assets/js/376.61ee0bd6.js"><link rel="prefetch" href="/docs-assets/js/377.21b57da3.js"><link rel="prefetch" href="/docs-assets/js/378.9d56e7fb.js"><link rel="prefetch" href="/docs-assets/js/379.bbd5b5f5.js"><link rel="prefetch" href="/docs-assets/js/38.088dc592.js"><link rel="prefetch" href="/docs-assets/js/380.1e3dc360.js"><link rel="prefetch" href="/docs-assets/js/381.d56e1306.js"><link rel="prefetch" href="/docs-assets/js/382.ad1d7295.js"><link rel="prefetch" href="/docs-assets/js/383.e00cda22.js"><link rel="prefetch" href="/docs-assets/js/384.2a8f70fb.js"><link rel="prefetch" href="/docs-assets/js/385.6977ff59.js"><link rel="prefetch" href="/docs-assets/js/386.fbfe7af2.js"><link rel="prefetch" href="/docs-assets/js/387.3f273551.js"><link rel="prefetch" href="/docs-assets/js/388.f74ee3fd.js"><link rel="prefetch" href="/docs-assets/js/389.99b5aa92.js"><link rel="prefetch" href="/docs-assets/js/39.fd3bb8e6.js"><link rel="prefetch" href="/docs-assets/js/390.51dcaf05.js"><link rel="prefetch" href="/docs-assets/js/391.5ee7808b.js"><link rel="prefetch" href="/docs-assets/js/392.dec95fa3.js"><link rel="prefetch" href="/docs-assets/js/393.b8eed71c.js"><link rel="prefetch" href="/docs-assets/js/394.1a060866.js"><link rel="prefetch" href="/docs-assets/js/395.f48e4dd6.js"><link rel="prefetch" href="/docs-assets/js/396.c524e7c6.js"><link rel="prefetch" href="/docs-assets/js/4.a1e74be4.js"><link rel="prefetch" href="/docs-assets/js/40.7b386dbc.js"><link rel="prefetch" href="/docs-assets/js/41.86deacd2.js"><link rel="prefetch" href="/docs-assets/js/42.fb9f4c36.js"><link rel="prefetch" href="/docs-assets/js/43.c1bed7b3.js"><link rel="prefetch" href="/docs-assets/js/44.a1893887.js"><link rel="prefetch" href="/docs-assets/js/45.79b33f50.js"><link rel="prefetch" href="/docs-assets/js/46.40696e48.js"><link rel="prefetch" href="/docs-assets/js/47.f30af45e.js"><link rel="prefetch" href="/docs-assets/js/48.d05e3936.js"><link rel="prefetch" href="/docs-assets/js/49.afe70461.js"><link rel="prefetch" href="/docs-assets/js/5.f0952d74.js"><link rel="prefetch" href="/docs-assets/js/50.9a541881.js"><link rel="prefetch" href="/docs-assets/js/51.6b58bbfc.js"><link rel="prefetch" href="/docs-assets/js/52.40384b24.js"><link rel="prefetch" href="/docs-assets/js/53.5212e36a.js"><link rel="prefetch" href="/docs-assets/js/54.28869319.js"><link rel="prefetch" href="/docs-assets/js/55.ecbb97bd.js"><link rel="prefetch" href="/docs-assets/js/56.c4231b6e.js"><link rel="prefetch" href="/docs-assets/js/57.384e1869.js"><link rel="prefetch" href="/docs-assets/js/58.991a7a71.js"><link rel="prefetch" href="/docs-assets/js/59.ee063ac4.js"><link rel="prefetch" href="/docs-assets/js/6.4bc70364.js"><link rel="prefetch" href="/docs-assets/js/60.169b2312.js"><link rel="prefetch" href="/docs-assets/js/61.d27d1edb.js"><link rel="prefetch" href="/docs-assets/js/62.61447363.js"><link rel="prefetch" href="/docs-assets/js/63.215b79aa.js"><link rel="prefetch" href="/docs-assets/js/64.5de7dff1.js"><link rel="prefetch" href="/docs-assets/js/65.7b9e5721.js"><link rel="prefetch" href="/docs-assets/js/66.e8970081.js"><link rel="prefetch" href="/docs-assets/js/67.e10a1714.js"><link rel="prefetch" href="/docs-assets/js/68.058f817d.js"><link rel="prefetch" href="/docs-assets/js/69.a5831684.js"><link rel="prefetch" href="/docs-assets/js/7.b1bc1fcb.js"><link rel="prefetch" href="/docs-assets/js/70.d31144da.js"><link rel="prefetch" href="/docs-assets/js/71.4cb7fb4e.js"><link rel="prefetch" href="/docs-assets/js/72.1f442e2f.js"><link rel="prefetch" href="/docs-assets/js/73.369cecf9.js"><link rel="prefetch" href="/docs-assets/js/74.6ed49d5f.js"><link rel="prefetch" href="/docs-assets/js/75.311ab350.js"><link rel="prefetch" href="/docs-assets/js/76.5259b1cd.js"><link rel="prefetch" href="/docs-assets/js/77.c9132725.js"><link rel="prefetch" href="/docs-assets/js/78.831cee1c.js"><link rel="prefetch" href="/docs-assets/js/79.7bb5bf5f.js"><link rel="prefetch" href="/docs-assets/js/8.fdbf461c.js"><link rel="prefetch" href="/docs-assets/js/80.12208427.js"><link rel="prefetch" href="/docs-assets/js/81.3ce772a8.js"><link rel="prefetch" href="/docs-assets/js/82.1cbb4427.js"><link rel="prefetch" href="/docs-assets/js/83.688291d6.js"><link rel="prefetch" href="/docs-assets/js/84.1be74fbf.js"><link rel="prefetch" href="/docs-assets/js/85.61c71caa.js"><link rel="prefetch" href="/docs-assets/js/86.61fc591c.js"><link rel="prefetch" href="/docs-assets/js/87.11fd30b6.js"><link rel="prefetch" href="/docs-assets/js/88.14dc901b.js"><link rel="prefetch" href="/docs-assets/js/89.e9a88dd8.js"><link rel="prefetch" href="/docs-assets/js/9.51dd7e81.js"><link rel="prefetch" href="/docs-assets/js/90.1a3451d4.js"><link rel="prefetch" href="/docs-assets/js/91.fea72d57.js"><link rel="prefetch" href="/docs-assets/js/92.101bd0bc.js"><link rel="prefetch" href="/docs-assets/js/93.cbbe6d67.js"><link rel="prefetch" href="/docs-assets/js/94.58a5efb3.js"><link rel="prefetch" href="/docs-assets/js/95.bb44c04a.js"><link rel="prefetch" href="/docs-assets/js/96.ea5a4fb3.js"><link rel="prefetch" href="/docs-assets/js/97.021cdaf5.js"><link rel="prefetch" href="/docs-assets/js/98.63fdd87e.js"><link rel="prefetch" href="/docs-assets/js/99.950ba3fb.js"><link rel="prefetch" href="/docs-assets/js/vendors~docsearch.92b608d1.js"><link rel="stylesheet" href="/docs-assets/css/0.styles.30944fa5.css"></head><body><div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><div class="navbar-left"><a href="/en/" class="home-link"><img src="/docs-images/logo.png" alt="IoT MQTT Broker Documentations" class="logo"> <span class="site-name can-hide">Docs</span></a><div class="lang-change"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">English </span><span class="arrow down"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="router-link-active nav-link active">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link">中文</a></li></ul></div></div></div><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="navbar-algolia-input" class="search-query"></form><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.emqx.com/en/events" target="_blank" rel="noopener noreferrer" class="nav-link external">Events</a></div><div class="nav-item"><a href="https://www.emqx.com/en/community" target="_blank" rel="noopener noreferrer" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn" class="dropdown-title"><span class="title">Learn</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn" class="mobile-dropdown-title"><span class="title">Learn</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">Blog</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=videos" target="_blank" rel="noopener noreferrer" class="nav-link external">Videos</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=ebooks" target="_blank" rel="noopener noreferrer" class="nav-link external">eBooks</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=reports" target="_blank" rel="noopener noreferrer" class="nav-link external">Reports</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=white-papers" target="_blank" rel="noopener noreferrer" class="nav-link external">White Papers</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQTT" class="dropdown-title"><span class="title">MQTT</span> <span class="arrow down"></span></button> <button type="button" aria-label="MQTT" class="mobile-dropdown-title"><span class="title">MQTT</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt5" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT 5</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/products/mqttx" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT X</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/public-mqtt5-broker" target="_blank" rel="noopener noreferrer" class="nav-link external">Public MQTT 5 Broker</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT Websocket Toolkit</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link">中文</a></li></ul></div></div><div class="btns"><a href="https://www.emqx.com/en/contact?product=emqx" target="_blank" rel="noopener" class="contact-us nav-item">Contact Us </a><a href="https://www.emqx.com/en/try?product=enterprise" target="_blank" rel="noopener" class="downloads nav-item">Try Free</a></div></nav></div></header><div class="sidebar-mask"></div><section class="main-box"><div class="columns is-mobile"><aside class="left-column sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.emqx.com/en/events" target="_blank" rel="noopener noreferrer" class="nav-link external">Events</a></div><div class="nav-item"><a href="https://www.emqx.com/en/community" target="_blank" rel="noopener noreferrer" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn" class="dropdown-title"><span class="title">Learn</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn" class="mobile-dropdown-title"><span class="title">Learn</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">Blog</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=videos" target="_blank" rel="noopener noreferrer" class="nav-link external">Videos</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=ebooks" target="_blank" rel="noopener noreferrer" class="nav-link external">eBooks</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=reports" target="_blank" rel="noopener noreferrer" class="nav-link external">Reports</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=white-papers" target="_blank" rel="noopener noreferrer" class="nav-link external">White Papers</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQTT" class="dropdown-title"><span class="title">MQTT</span> <span class="arrow down"></span></button> <button type="button" aria-label="MQTT" class="mobile-dropdown-title"><span class="title">MQTT</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt5" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT 5</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/products/mqttx" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT X</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/public-mqtt5-broker" target="_blank" rel="noopener noreferrer" class="nav-link external">Public MQTT 5 Broker</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT Websocket Toolkit</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link">中文</a></li></ul></div></div><div class="btns"><a href="https://www.emqx.com/en/contact?product=emqx" target="_blank" rel="noopener" class="contact-us nav-item">Contact Us </a><a href="https://www.emqx.com/en/try?product=enterprise" target="_blank" rel="noopener" class="downloads nav-item">Try Free</a></div></nav><div class="version-pick"><a href="/en/enterprise/latest" class="home-link router-link-active"><h2 class="title p-0 is-flex is-align-items-center"><svg aria-hidden="true" class="icon mr-2"><use xlink:href="#icon-enterprise"></use></svg> EMQX Enterprise</h2></a><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">latest </span><span class="arrow down"></span></button></div></div><ul class="sidebar-links"><li><a href="/en/enterprise/latest/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Get Started</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>User Guide</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rule Engine</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p></section></li><li><a href="/en/enterprise/latest/advanced/http-api.html" aria-current="page" class="active sidebar-link">HTTP API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/enterprise/latest/advanced/http-api.html#interface-security" class="sidebar-link">Interface security</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/advanced/http-api.html#response-code" class="sidebar-link">Response code</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/advanced/http-api.html#api-endpoints" class="sidebar-link">API Endpoints</a></li></ul></li><li><a href="/en/enterprise/latest/configuration/configuration.html" class="sidebar-link">Configuration</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Command</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SDK &amp; Tools</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Changes</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resource</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Protocol Introduction</span> <span class="arrow right"></span></p></section></li></ul></aside><div class="column col-page"><main class="page"><div id="loader-wrapper" style="display:none" data-v-78d8edea><div class="loader" data-v-78d8edea><div class="ball-spin-fade-loader" data-v-78d8edea><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div></div></div></div><div class="theme-default-content reset-width content__default"><h1 id="http-api"><a href="#http-api" class="header-anchor">#</a> HTTP API</h1><p>EMQX Broker provides HTTP APIs for integration with external systems, such as querying client information, publishing messages, and creating rules.</p><p>EMQX Broker's HTTP API service listens on port 8081 by default. You can modify the listening port through the configuration file of <code>etc/plugins/emqx_management.conf</code>, or enable HTTPS listening. All API calls start with <code>api/v4</code> after <a href="https://github.com/emqx/emqx/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer">EMQX Broker 4.0.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h2 id="interface-security"><a href="#interface-security" class="header-anchor">#</a> Interface security</h2><p>EMQX Broker's HTTP API uses the method of <a href="https://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank" rel="noopener noreferrer">Basic Authentication<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The <code>id</code> and <code>password</code> must be filled with AppID and AppSecret respectively. The default AppID and AppSecret are: <code>admin/public</code>. You can modify and add AppID / AppSecret in the left menu bar of Dashboard by selecting &quot;Manage&quot;-&gt; &quot;Apps&quot;.</p><h2 id="response-code"><a href="#response-code" class="header-anchor">#</a> Response code</h2><h3 id="http-status-codes"><a href="#http-status-codes" class="header-anchor">#</a> HTTP status codes</h3><p>The EMQX Broker interface always returns 200 OK when the call is successful, and the response content is returned in JSON format.</p><p>The possible status codes are as follows:</p><table><thead><tr><th>Status Code</th><th>Description</th></tr></thead><tbody><tr><td>200</td><td>Succeed, and the returned JSON data will provide more information</td></tr><tr><td>400</td><td>Invalid client request, such as wrong request body or parameters</td></tr><tr><td>401</td><td>Client authentication failed , maybe because of invalid authentication credentials</td></tr><tr><td>404</td><td>The requested path cannot be found or the requested object does not exist</td></tr><tr><td>500</td><td>An internal error occurred while the server was processing the request</td></tr></tbody></table><h3 id="result-codes"><a href="#result-codes" class="header-anchor">#</a> result codes</h3><p>The response message body of the EMQX Broker interface is in JSON format, which always contains the returned <code>code</code>.</p><p>The possible returned codes are as follows:</p><table><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td>Succeed</td></tr><tr><td>101</td><td>RPC error</td></tr><tr><td>102</td><td>unknown mistake</td></tr><tr><td>103</td><td>wrong user name or password</td></tr><tr><td>104</td><td>Empty username or password</td></tr><tr><td>105</td><td>User does not exist</td></tr><tr><td>106</td><td>Administrator account cannot be deleted</td></tr><tr><td>107</td><td>Missing key request parameters</td></tr><tr><td>108</td><td>Request parameter error</td></tr><tr><td>109</td><td>Request parameters are not in legal JSON format</td></tr><tr><td>110</td><td>Plug-in is enabled</td></tr><tr><td>111</td><td>Plugin is closed</td></tr><tr><td>112</td><td>Client is offline</td></tr><tr><td>113</td><td>User already exists</td></tr><tr><td>114</td><td>Old password is wrong</td></tr><tr><td>115</td><td>Illegal subject</td></tr></tbody></table><h2 id="api-endpoints"><a href="#api-endpoints" class="header-anchor">#</a> API Endpoints</h2><h3 id="api-v4"><a href="#api-v4" class="header-anchor">#</a> /api/v4</h3><h4 id="get-api-v4"><a href="#get-api-v4" class="header-anchor">#</a> GET /api/v4</h4><p>Return all Endpoints supported by EMQX Broker.</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array</td><td>Endpoints list</td></tr><tr><td>- data[0].path</td><td>String</td><td>Endpoint</td></tr><tr><td>- data[0].name</td><td>String</td><td>Endpoint name</td></tr><tr><td>- data[0].method</td><td>String</td><td>HTTP Method</td></tr><tr><td>- data[0].descr</td><td>String</td><td>Description</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;path&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;/auth_clientid&quot;</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;list_clientid&quot;</span>,<span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;GET&quot;</span>,<span class="token string">&quot;descr&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;List available clientid in the cluster&quot;</span><span class="token punctuation">}</span>, <span class="token punctuation">..</span>.<span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="broker-basic-information"><a href="#broker-basic-information" class="header-anchor">#</a> Broker Basic Information</h3><h4 id="get-api-v4-brokers-node"><a href="#get-api-v4-brokers-node" class="header-anchor">#</a> GET /api/v4/brokers/{node}</h4><p>Return basic information of all nodes in the cluster.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>node</td><td>String</td><td>False</td><td>Node name, such as &quot;emqx@127.0.0.1.<br>If not specified, returns all node information</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object/Array of Objects</td><td>Returns the information of the specified node when the parameter exists,<br>otherwise, returns the information of all nodes</td></tr><tr><td>data.datetime</td><td>String</td><td>Current time, in the format of &quot;YYYY-MM-DD HH: mm: ss&quot;</td></tr><tr><td>data.node</td><td>String</td><td>Node name</td></tr><tr><td>data.node_status</td><td>String</td><td>Node status</td></tr><tr><td>data.otp_release</td><td>String</td><td>Erlang/OTP version used by EMQX Broker</td></tr><tr><td>data.sysdescr</td><td>String</td><td>Software description</td></tr><tr><td>data.uptime</td><td>String</td><td>EMQX Broker runtime, in the format of &quot;H hours, m minutes, s seconds&quot;</td></tr><tr><td>data.version</td><td>String</td><td>EMQX Broker version</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Get the basic information of all nodes:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/brokers&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;develop&quot;</span>,<span class="token string">&quot;uptime&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;4 hours, 21 minutes, 19 seconds&quot;</span>,<span class="token string">&quot;sysdescr&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;EMQX Broker&quot;</span>,<span class="token string">&quot;otp_release&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;R21/10.3.5&quot;</span>,<span class="token string">&quot;node_status&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Running&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;datetime&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-19 15:27:24&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Get the basic information of node emqx@127.0.0.1 :</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/brokers/emqx@127.0.0.1&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;develop&quot;</span>,<span class="token string">&quot;uptime&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1 minutes, 51 seconds&quot;</span>,<span class="token string">&quot;sysdescr&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;EMQX Broker&quot;</span>,<span class="token string">&quot;otp_release&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;R21/10.3.5&quot;</span>,<span class="token string">&quot;node_status&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Running&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;datetime&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 14:11:31&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="node"><a href="#node" class="header-anchor">#</a> Node</h3><h4 id="get-api-v4-nodes-node"><a href="#get-api-v4-nodes-node" class="header-anchor">#</a> GET /api/v4/nodes/{node}</h4><p>Return the status of the node.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>node</td><td>String</td><td>False</td><td>Node name, such as &quot;emqx@127.0.0.1。<br>If not specified, returns all node information</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object/Array of Objects</td><td>Returns node information when node parameter exists,<br>otherwise, returns information about all nodes in an Array</td></tr><tr><td>data.connections</td><td>Integer</td><td>Number of clients currently connected to this node</td></tr><tr><td>data.load1</td><td>String</td><td>CPU average load in 1 minute</td></tr><tr><td>data.load5</td><td>String</td><td>CPU average load in 5 minute</td></tr><tr><td>data.load15</td><td>String</td><td>CPU average load in 15 minute</td></tr><tr><td>data.max_fds</td><td>Integer</td><td>Maximum file descriptor limit for the operating system</td></tr><tr><td>data.memory_total</td><td>String</td><td>VM allocated system memory</td></tr><tr><td>data.memory_used</td><td>String</td><td>VM occupied system memory</td></tr><tr><td>data.node</td><td>String</td><td>Node name</td></tr><tr><td>data.node_status</td><td>String</td><td>Node status</td></tr><tr><td>data.otp_release</td><td>String</td><td>Erlang/OTP version used by EMQX Broker</td></tr><tr><td>data.process_available</td><td>Integer</td><td>Number of available processes</td></tr><tr><td>data.process_used</td><td>Integer</td><td>Number of used processes</td></tr><tr><td>data.uptime</td><td>String</td><td>EMQX Broker runtime</td></tr><tr><td>data.version</td><td>String</td><td>EMQX Broker version</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Get the status of all nodes:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;develop&quot;</span>,<span class="token string">&quot;uptime&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;7 seconds&quot;</span>,<span class="token string">&quot;process_used&quot;</span>:315,<span class="token string">&quot;process_available&quot;</span>:2097152,<span class="token string">&quot;otp_release&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;R21/10.3.5&quot;</span>,<span class="token string">&quot;node_status&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Running&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;memory_used&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;96.75M&quot;</span>,<span class="token string">&quot;memory_total&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;118.27M&quot;</span>,<span class="token string">&quot;max_fds&quot;</span>:10240,<span class="token string">&quot;load5&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.60&quot;</span>,<span class="token string">&quot;load15&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.65&quot;</span>,<span class="token string">&quot;load1&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.31&quot;</span>,<span class="token string">&quot;connections&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Get the status of the specified node:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;develop&quot;</span>,<span class="token string">&quot;uptime&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2 minutes, 21 seconds&quot;</span>,<span class="token string">&quot;process_used&quot;</span>:310,<span class="token string">&quot;process_available&quot;</span>:2097152,<span class="token string">&quot;otp_release&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;R21/10.3.5&quot;</span>,<span class="token string">&quot;node_status&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Running&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;memory_used&quot;</span>:101379168,<span class="token string">&quot;memory_total&quot;</span>:123342848,<span class="token string">&quot;max_fds&quot;</span>:10240,<span class="token string">&quot;load5&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.50&quot;</span>,<span class="token string">&quot;load15&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.61&quot;</span>,<span class="token string">&quot;load1&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1.99&quot;</span>,<span class="token string">&quot;connections&quot;</span>:0<span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="client"><a href="#client" class="header-anchor">#</a> Client</h3><h4 id="get-api-v4-clients"><a href="#get-api-v4-clients" class="header-anchor">#</a> GET /api/v4/clients</h4><p>Returns the information of all clients under the cluster, and supports paging.</p><p><strong>Query String Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>_page</td><td>Integer</td><td>False</td><td>1</td><td>Page</td></tr><tr><td>_limit</td><td>Integer</td><td>False</td><td>10000</td><td>The number of data displayed per page. If not specified, it is determined by the configuration item <code>max_row_limit</code> of the<code>emqx-management</code> plugin</td></tr></tbody></table><p>After version 4.1, multiple conditions and fuzzy queries are supported. The query parameters included are shown below.</p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>False</td><td>Client identifier</td></tr><tr><td>username</td><td>String</td><td>False</td><td>Client username</td></tr><tr><td>zone</td><td>String</td><td>False</td><td>Client configuration group name</td></tr><tr><td>ip_address</td><td>String</td><td>False</td><td>Client IP address</td></tr><tr><td>conn_state</td><td>Enum</td><td>False</td><td>The current connection status of the client, the possible values are<code>connected</code>,<code>idle</code>,<code>disconnected</code></td></tr><tr><td>clean_start</td><td>Bool</td><td>False</td><td>Whether the client uses a new session</td></tr><tr><td>proto_name</td><td>Enum</td><td>False</td><td>Client protocol name, the possible values are<code>MQTT</code>,<code>CoAP</code>,<code>LwM2M</code>,<code>MQTT-SN</code></td></tr><tr><td>proto_ver</td><td>Integer</td><td>False</td><td>Client protocol version</td></tr><tr><td>_like_clientid</td><td>String</td><td>False</td><td>Fuzzy search of client identifier by substring method</td></tr><tr><td>_like_username</td><td>String</td><td>False</td><td>Client user name, fuzzy search by substring</td></tr><tr><td>_gte_created_at</td><td>Integer</td><td>False</td><td>Search client session creation time by greater than or equal method</td></tr><tr><td>_lte_created_at</td><td>Integer</td><td>False</td><td>Search client session creation time by less than or equal method</td></tr><tr><td>_gte_connected_at</td><td>Integer</td><td>False</td><td>Search client connection creation time by greater than or equal method</td></tr><tr><td>_lte_connected_at</td><td>Integer</td><td>False</td><td>Search client connection creation time by less than or equal method</td></tr><tr><td>_gte_mqueue_len</td><td>Integer</td><td>False</td><td>Current length of message queue by greater than or equal method</td></tr><tr><td>_lte_mqueue_len</td><td>Integer</td><td>False</td><td>Current length of message queue by less than or equal method</td></tr><tr><td>_gte_mqueue_dropped</td><td>Integer</td><td>False</td><td>Number of messages dropped by the message queue due to exceeding the length by greater than or equal method ｜</td></tr><tr><td>_lte_mqueue_dropped</td><td>Integer</td><td>False</td><td>Number of messages dropped by the message queue due to exceeding the length by less than or equal method｜</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Information for all clients</td></tr><tr><td>data[0].node</td><td>String</td><td>Name of the node to which the client is connected</td></tr><tr><td>data[0].clientid</td><td>String</td><td>Client identifier</td></tr><tr><td>data[0].username</td><td>String</td><td>User name of client when connecting</td></tr><tr><td>data[0].proto_name</td><td>String</td><td>Client protocol name</td></tr><tr><td>data[0].proto_ver</td><td>Integer</td><td>Protocol version used by the client</td></tr><tr><td>data[0].ip_address</td><td>String</td><td>Client's IP address</td></tr><tr><td>data[0].port</td><td>Integer</td><td>Client port</td></tr><tr><td>data[0].is_bridge</td><td>Boolean</td><td>Indicates whether the client is connected via bridge</td></tr><tr><td>data[0].connected_at</td><td>String</td><td>Client connection time, in the format of &quot;YYYY-MM-DD HH:mm:ss&quot;</td></tr><tr><td>data[0].disconnected_at</td><td>String</td><td>Client offline time, in the formatof &quot;YYYY-MM-DD HH:mm:ss&quot;，<br>This field is only valid and returned when <code>connected</code> is<code>false</code></td></tr><tr><td>data[0].connected</td><td>Boolean</td><td>Whether the client is connected</td></tr><tr><td>data[0].zone</td><td>String</td><td>Indicate the configuration group used by the client</td></tr><tr><td>data[0].keepalive</td><td>Integer</td><td>keepalive time, with the unit of second</td></tr><tr><td>data[0].clean_start</td><td>Boolean</td><td>Indicate whether the client is using a brand new session</td></tr><tr><td>data[0].expiry_interval</td><td>Integer</td><td>Session expiration interval, with the unit of second</td></tr><tr><td>data[0].created_at</td><td>String</td><td>Session creation time, in the format &quot;YYYY-MM-DD HH:mm:ss&quot;</td></tr><tr><td>data[0].subscriptions_cnt</td><td>Integer</td><td>Number of subscriptions established by this client</td></tr><tr><td>data[0].max_subscriptions</td><td>Integer</td><td>Maximum number of subscriptions allowed by this client</td></tr><tr><td>data[0].inflight</td><td>Integer</td><td>Current length of inflight</td></tr><tr><td>data[0].max_inflight</td><td>Integer</td><td>Maximum length of inflight</td></tr><tr><td>data[0].mqueue_len</td><td>Integer</td><td>Current length of message queue</td></tr><tr><td>data[0].max_mqueue</td><td>Integer</td><td>Maximum length of message queue</td></tr><tr><td>data[0].mqueue_dropped</td><td>Integer</td><td>Number of messages dropped by the message queue due to exceeding the length</td></tr><tr><td>data[0].awaiting_rel</td><td>Integer</td><td>Number of awaiting PUBREC packet</td></tr><tr><td>data[0].max_awaiting_rel</td><td>Integer</td><td>Maximum allowed number of awaiting PUBREC packet</td></tr><tr><td>data[0].recv_oct</td><td>Integer</td><td>Number of bytes received by EMQX Broker (the same below)</td></tr><tr><td>data[0].recv_cnt</td><td>Integer</td><td>Number of TCP packets received</td></tr><tr><td>data[0].recv_pkt</td><td>Integer</td><td>Number of MQTT packets received</td></tr><tr><td>data[0].recv_msg</td><td>Integer</td><td>Number of PUBLISH packets received</td></tr><tr><td>data[0].send_oct</td><td>Integer</td><td>Number of bytes sent</td></tr><tr><td>data[0].send_cnt</td><td>Integer</td><td>Number of TCP packets sent</td></tr><tr><td>data[0].send_pkt</td><td>Integer</td><td>Number of MQTT packets sent</td></tr><tr><td>data[0].send_msg</td><td>Integer</td><td>Number of PUBLISH packets sent</td></tr><tr><td>data[0].mailbox_len</td><td>Integer</td><td>Process mailbox size</td></tr><tr><td>data[0].heap_size</td><td>Integer</td><td>Process heap size with the unit of byte</td></tr><tr><td>data[0].reductions</td><td>Integer</td><td>Erlang reduction</td></tr><tr><td>meta</td><td>Object</td><td>Paging information</td></tr><tr><td>meta.page</td><td>Integer</td><td>Page number</td></tr><tr><td>meta.limit</td><td>Integer</td><td>Number of data displayed per page</td></tr><tr><td>meta.count</td><td>Integer</td><td>Total number of data</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/clients?_page=1&amp;_limit=10&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;meta&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;page&quot;</span>:1,<span class="token string">&quot;limit&quot;</span>:10,<span class="token string">&quot;count&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;external&quot;</span>,<span class="token string">&quot;recv_cnt&quot;</span>:2,<span class="token string">&quot;max_mqueue&quot;</span>:1000,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;username&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;mqueue_len&quot;</span>:0,<span class="token string">&quot;max_inflight&quot;</span>:32,<span class="token string">&quot;is_bridge&quot;</span>:false,<span class="token string">&quot;mqueue_dropped&quot;</span>:0,<span class="token string">&quot;inflight&quot;</span>:0,<span class="token string">&quot;heap_size&quot;</span>:2586,<span class="token string">&quot;max_subscriptions&quot;</span>:0,<span class="token string">&quot;proto_name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MQTT&quot;</span>,<span class="token string">&quot;created_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-19 17:01:26&quot;</span>,<span class="token string">&quot;proto_ver&quot;</span>:4,<span class="token string">&quot;reductions&quot;</span>:3997,<span class="token string">&quot;send_msg&quot;</span>:0,<span class="token string">&quot;ip_address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;send_cnt&quot;</span>:0,<span class="token string">&quot;mailbox_len&quot;</span>:1,<span class="token string">&quot;awaiting_rel&quot;</span>:0,<span class="token string">&quot;keepalive&quot;</span>:60,<span class="token string">&quot;recv_msg&quot;</span>:0,<span class="token string">&quot;send_pkt&quot;</span>:0,<span class="token string">&quot;recv_oct&quot;</span>:29,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;clean_start&quot;</span>:true,<span class="token string">&quot;expiry_interval&quot;</span>:0,<span class="token string">&quot;connected&quot;</span>:true,<span class="token string">&quot;port&quot;</span>:64491,<span class="token string">&quot;send_oct&quot;</span>:0,<span class="token string">&quot;recv_pkt&quot;</span>:1,<span class="token string">&quot;connected_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-19 17:01:26&quot;</span>,<span class="token string">&quot;max_awaiting_rel&quot;</span>:100,<span class="token string">&quot;subscriptions_cnt&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Note: After 4.1, the contents of the returned <code>meta</code> were modified:</p><ul><li><code>count</code>：It still represents the total number. However, in multi-condition/fuzzy query, it is fixed at -1.</li><li><code>hasnext</code>：It is a newly added field indicating whether there is a next page.</li></ul><h4 id="get-api-v4-clients-clientid"><a href="#get-api-v4-clients-clientid" class="header-anchor">#</a> GET /api/v4/clients/{clientid}</h4><p>Returns information for the specified client</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Client information, for details, see<br><a href="#endpoint-get-clients">GET /api/v4/clients</a></td></tr></tbody></table><p><strong>Examples:</strong></p><p>Query the specified client</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/clients/example&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;recv_cnt&quot;</span>:2,<span class="token string">&quot;max_subscriptions&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;proto_ver&quot;</span>:4,<span class="token string">&quot;recv_pkt&quot;</span>:1,<span class="token string">&quot;inflight&quot;</span>:0,<span class="token string">&quot;max_mqueue&quot;</span>:1000,<span class="token string">&quot;heap_size&quot;</span>:2586,<span class="token string">&quot;username&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;proto_name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MQTT&quot;</span>,<span class="token string">&quot;subscriptions_cnt&quot;</span>:0,<span class="token string">&quot;send_pkt&quot;</span>:0,<span class="token string">&quot;created_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:38:51&quot;</span>,<span class="token string">&quot;reductions&quot;</span>:3978,<span class="token string">&quot;ip_address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;send_msg&quot;</span>:0,<span class="token string">&quot;send_cnt&quot;</span>:0,<span class="token string">&quot;expiry_interval&quot;</span>:0,<span class="token string">&quot;keepalive&quot;</span>:60,<span class="token string">&quot;mqueue_dropped&quot;</span>:0,<span class="token string">&quot;is_bridge&quot;</span>:false,<span class="token string">&quot;max_inflight&quot;</span>:32,<span class="token string">&quot;recv_msg&quot;</span>:0,<span class="token string">&quot;max_awaiting_rel&quot;</span>:100,<span class="token string">&quot;awaiting_rel&quot;</span>:0,<span class="token string">&quot;mailbox_len&quot;</span>:1,<span class="token string">&quot;mqueue_len&quot;</span>:0,<span class="token string">&quot;recv_oct&quot;</span>:29,<span class="token string">&quot;connected_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:38:51&quot;</span>,<span class="token string">&quot;clean_start&quot;</span>:true,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;connected&quot;</span>:true,<span class="token string">&quot;port&quot;</span>:54889,<span class="token string">&quot;send_oct&quot;</span>:0,<span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;external&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="delete-api-v4-clients-clientid"><a href="#delete-api-v4-clients-clientid" class="header-anchor">#</a> DELETE /api/v4/clients/{clientid}</h4><p>Kick out the specified client. Note that this operation will terminate the connection with the session.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Kick out the specified client</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X DELETE <span class="token string">&quot;http://localhost:8081/api/v4/clients/example&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-clients"><a href="#get-api-v4-nodes-node-clients" class="header-anchor">#</a> GET /api/v4/nodes/{node}/clients</h4><p>similar with <a href="#endpoint-get-clients">GET /api/v4/clients</a>, Returns information about all clients under the specified node, and supports paging.</p><p><strong>Query String Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>_page</td><td>Integer</td><td>False</td><td>1</td><td>page number</td></tr><tr><td>_limit</td><td>Integer</td><td>False</td><td>10000</td><td>The number of data displayed per page, if not specified, it is determined by the configuration item <code>max_row_limit</code> of the <code>emqx-management</code> plugin</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Information about all clients, see <a href="#endpoint-get-clients">GET /api/v4/clients</a> for details</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients?_page=1&amp;_limit=10&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;meta&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;page&quot;</span>:1,<span class="token string">&quot;limit&quot;</span>:10,<span class="token string">&quot;count&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;recv_cnt&quot;</span>:2,<span class="token string">&quot;max_subscriptions&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;proto_ver&quot;</span>:4,<span class="token string">&quot;recv_pkt&quot;</span>:1,<span class="token string">&quot;inflight&quot;</span>:0,<span class="token string">&quot;max_mqueue&quot;</span>:1000,<span class="token string">&quot;heap_size&quot;</span>:2586,<span class="token string">&quot;username&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;proto_name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MQTT&quot;</span>,<span class="token string">&quot;subscriptions_cnt&quot;</span>:0,<span class="token string">&quot;send_pkt&quot;</span>:0,<span class="token string">&quot;created_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-19 18:25:18&quot;</span>,<span class="token string">&quot;reductions&quot;</span>:4137,<span class="token string">&quot;ip_address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;send_msg&quot;</span>:0,<span class="token string">&quot;send_cnt&quot;</span>:0,<span class="token string">&quot;expiry_interval&quot;</span>:0,<span class="token string">&quot;keepalive&quot;</span>:60,<span class="token string">&quot;mqueue_dropped&quot;</span>:0,<span class="token string">&quot;is_bridge&quot;</span>:false,<span class="token string">&quot;max_inflight&quot;</span>:32,<span class="token string">&quot;recv_msg&quot;</span>:0,<span class="token string">&quot;max_awaiting_rel&quot;</span>:100,<span class="token string">&quot;awaiting_rel&quot;</span>:0,<span class="token string">&quot;mailbox_len&quot;</span>:1,<span class="token string">&quot;mqueue_len&quot;</span>:0,<span class="token string">&quot;recv_oct&quot;</span>:29,<span class="token string">&quot;connected_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-19 18:25:18&quot;</span>,<span class="token string">&quot;clean_start&quot;</span>:true,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;connected&quot;</span>:true,<span class="token string">&quot;port&quot;</span>:49509,<span class="token string">&quot;send_oct&quot;</span>:0,<span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;external&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-clients-clientid"><a href="#get-api-v4-nodes-node-clients-clientid" class="header-anchor">#</a> GET /api/v4/nodes/{node}/clients/{clientid}</h4><p>Similar with <a href="#endpoint-get-a-client">GET /api/v4/clients/{clientid}</a>，return information about the specified client under the specified node.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Information about all clients, for details, see<br><a href="#endpoint-get-clients">GET /api/v4/clients</a></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients/example&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;recv_cnt&quot;</span>:4,<span class="token string">&quot;max_subscriptions&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;proto_ver&quot;</span>:4,<span class="token string">&quot;recv_pkt&quot;</span>:1,<span class="token string">&quot;inflight&quot;</span>:0,<span class="token string">&quot;max_mqueue&quot;</span>:1000,<span class="token string">&quot;heap_size&quot;</span>:2586,<span class="token string">&quot;username&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;proto_name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MQTT&quot;</span>,<span class="token string">&quot;subscriptions_cnt&quot;</span>:0,<span class="token string">&quot;send_pkt&quot;</span>:3,<span class="token string">&quot;created_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:38:51&quot;</span>,<span class="token string">&quot;reductions&quot;</span>:5994,<span class="token string">&quot;ip_address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;send_msg&quot;</span>:0,<span class="token string">&quot;send_cnt&quot;</span>:3,<span class="token string">&quot;expiry_interval&quot;</span>:0,<span class="token string">&quot;keepalive&quot;</span>:60,<span class="token string">&quot;mqueue_dropped&quot;</span>:0,<span class="token string">&quot;is_bridge&quot;</span>:false,<span class="token string">&quot;max_inflight&quot;</span>:32,<span class="token string">&quot;recv_msg&quot;</span>:0,<span class="token string">&quot;max_awaiting_rel&quot;</span>:100,<span class="token string">&quot;awaiting_rel&quot;</span>:0,<span class="token string">&quot;mailbox_len&quot;</span>:0,<span class="token string">&quot;mqueue_len&quot;</span>:0,<span class="token string">&quot;recv_oct&quot;</span>:33,<span class="token string">&quot;connected_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:38:51&quot;</span>,<span class="token string">&quot;clean_start&quot;</span>:true,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;connected&quot;</span>:true,<span class="token string">&quot;port&quot;</span>:54889,<span class="token string">&quot;send_oct&quot;</span>:8,<span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;external&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="delete-api-v4-nodes-node-clients-clientid"><a href="#delete-api-v4-nodes-node-clients-clientid" class="header-anchor">#</a> DELETE /api/v4/nodes/{node}/clients/{clientid}</h4><p>Similar with <a href="#endpoint-delete-a-client">DELETE /api/v4/clients/{clientid}</a>，kick out the specified client under the specified node.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X DELETE <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients/example&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-clients-username-username"><a href="#get-api-v4-clients-username-username" class="header-anchor">#</a> GET /api/v4/clients/username/{username}</h4><p>Query client information by Username. Since there may be multiple clients using the same user name, multiple client information may be returned at the same time.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>username</td><td>String</td><td>True</td><td>Username</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Information about clients, for details, see<br><a href="#endpoint-get-clients">GET /api/v4/clients</a></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/clients/username/steve&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;clean_start&quot;</span>:true,<span class="token string">&quot;awaiting_rel&quot;</span>:0,<span class="token string">&quot;recv_msg&quot;</span>:0,<span class="token string">&quot;proto_name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MQTT&quot;</span>,<span class="token string">&quot;recv_cnt&quot;</span>:2,<span class="token string">&quot;mailbox_len&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;mqueue_len&quot;</span>:0,<span class="token string">&quot;max_subscriptions&quot;</span>:0,<span class="token string">&quot;created_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:50:11&quot;</span>,<span class="token string">&quot;is_bridge&quot;</span>:false,<span class="token string">&quot;heap_size&quot;</span>:2586,<span class="token string">&quot;proto_ver&quot;</span>:4,<span class="token string">&quot;subscriptions_cnt&quot;</span>:0,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;expiry_interval&quot;</span>:0,<span class="token string">&quot;send_msg&quot;</span>:0,<span class="token string">&quot;inflight&quot;</span>:0,<span class="token string">&quot;reductions&quot;</span>:4673,<span class="token string">&quot;send_pkt&quot;</span>:1,<span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;external&quot;</span>,<span class="token string">&quot;send_cnt&quot;</span>:1,<span class="token string">&quot;ip_address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;keepalive&quot;</span>:60,<span class="token string">&quot;max_inflight&quot;</span>:32,<span class="token string">&quot;recv_oct&quot;</span>:29,<span class="token string">&quot;recv_pkt&quot;</span>:1,<span class="token string">&quot;max_awaiting_rel&quot;</span>:100,<span class="token string">&quot;username&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;steve&quot;</span>,<span class="token string">&quot;connected_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:50:11&quot;</span>,<span class="token string">&quot;connected&quot;</span>:true,<span class="token string">&quot;port&quot;</span>:56429,<span class="token string">&quot;send_oct&quot;</span>:4,<span class="token string">&quot;mqueue_dropped&quot;</span>:0,<span class="token string">&quot;max_mqueue&quot;</span>:1000<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-clients-username-username"><a href="#get-api-v4-nodes-node-clients-username-username" class="header-anchor">#</a> GET /api/v4/nodes/{node}/clients/username/{username}</h4><p>Similar with <a href="#endpoint-get-clients-by-username">GET /api/v4/clients/username/{username}</a>, query the information of the specified client through Username under the specified node.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>username</td><td>String</td><td>True</td><td>Username</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Information about clients, for details, see<br><a href="#endpoint-get-clients">GET /api/v4/clients</a></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients/username/test&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;clean_start&quot;</span>:true,<span class="token string">&quot;awaiting_rel&quot;</span>:0,<span class="token string">&quot;recv_msg&quot;</span>:0,<span class="token string">&quot;proto_name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;MQTT&quot;</span>,<span class="token string">&quot;recv_cnt&quot;</span>:6,<span class="token string">&quot;mailbox_len&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;mqueue_len&quot;</span>:0,<span class="token string">&quot;max_subscriptions&quot;</span>:0,<span class="token string">&quot;created_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:50:11&quot;</span>,<span class="token string">&quot;is_bridge&quot;</span>:false,<span class="token string">&quot;heap_size&quot;</span>:1598,<span class="token string">&quot;proto_ver&quot;</span>:4,<span class="token string">&quot;subscriptions_cnt&quot;</span>:0,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;expiry_interval&quot;</span>:0,<span class="token string">&quot;send_msg&quot;</span>:0,<span class="token string">&quot;inflight&quot;</span>:0,<span class="token string">&quot;reductions&quot;</span>:7615,<span class="token string">&quot;send_pkt&quot;</span>:5,<span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;external&quot;</span>,<span class="token string">&quot;send_cnt&quot;</span>:5,<span class="token string">&quot;ip_address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;keepalive&quot;</span>:60,<span class="token string">&quot;max_inflight&quot;</span>:32,<span class="token string">&quot;recv_oct&quot;</span>:37,<span class="token string">&quot;recv_pkt&quot;</span>:1,<span class="token string">&quot;max_awaiting_rel&quot;</span>:100,<span class="token string">&quot;username&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;connected_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-20 13:50:11&quot;</span>,<span class="token string">&quot;connected&quot;</span>:true,<span class="token string">&quot;port&quot;</span>:56429,<span class="token string">&quot;send_oct&quot;</span>:12,<span class="token string">&quot;mqueue_dropped&quot;</span>:0,<span class="token string">&quot;max_mqueue&quot;</span>:1000<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-clients-clientid-acl-cache"><a href="#get-api-v4-clients-clientid-acl-cache" class="header-anchor">#</a> GET /api/v4/clients/{clientid}/acl_cache</h4><p>Query the ACL cache of the specified client.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>ACL Details</td></tr><tr><td>data[0].access</td><td>String</td><td>Publish/Scribe</td></tr><tr><td>data[0].topic</td><td>String</td><td>MQTT Topic</td></tr><tr><td>data[0].result</td><td>String</td><td>Allow/Deny</td></tr><tr><td>data[0].updated_time</td><td>Integer</td><td>ACL Cache settling time</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Querying the ACL cache</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/clients/example/acl_cache&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;updated_time&quot;</span>:1582180824571,<span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;result&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;allow&quot;</span>,<span class="token string">&quot;access&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;publish&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="delete-api-v4-clients-clientid-acl-cache"><a href="#delete-api-v4-clients-clientid-acl-cache" class="header-anchor">#</a> DELETE /api/v4/clients/{clientid}/acl_cache</h4><p>Delete the ACL cache of the specified client。</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Delete the ACL cache</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X DELETE <span class="token string">&quot;http://localhost:8081/api/v4/clients/example/acl_cache&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="subscription-information"><a href="#subscription-information" class="header-anchor">#</a> Subscription Information</h3><h4 id="get-api-v4-subscriptions"><a href="#get-api-v4-subscriptions" class="header-anchor">#</a> GET /api/v4/subscriptions</h4><p>Returns all subscription information under the cluster, and supports paging mechanism</p><p><strong>Query String Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>_page</td><td>Integer</td><td>False</td><td>1</td><td>Page number</td></tr><tr><td>_limit</td><td>Integer</td><td>False</td><td>10000</td><td>The number of data displayed per page, if not specified, it is determined by the configuration item <code>max_row_limit</code> of the <code>emqx-management</code> plugin</td></tr></tbody></table><p>After version 4.1, multiple conditions and fuzzy queries are supported:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>Client identifier</td></tr><tr><td>topic</td><td>String</td><td>congruent query</td></tr><tr><td>qos</td><td>Enum</td><td>Possible values are 0<code>,</code>1<code>,</code>2`</td></tr><tr><td>share</td><td>String</td><td>Shared subscription group name</td></tr><tr><td>_match_topic</td><td>String</td><td>Match query</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>All subscription information</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].clientid</td><td>String</td><td>Client identifier</td></tr><tr><td>data[0].topic</td><td>String</td><td>Subscribe to topic</td></tr><tr><td>data[0].qos</td><td>Integer</td><td>QoS level</td></tr><tr><td>meta</td><td>Object</td><td>same as <code>/api/v4/clients</code></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/subscriptions?_page=1&amp;_limit=10&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;meta&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;page&quot;</span>:1,<span class="token string">&quot;limit&quot;</span>:10000,<span class="token string">&quot;count&quot;</span>:2<span class="token punctuation">}</span>,<span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/+/c&quot;</span>,<span class="token string">&quot;qos&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;78082755-e8eb-4a87-bab7-8277541513f0&quot;</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/b/c&quot;</span>,<span class="token string">&quot;qos&quot;</span>:1,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;7a1dfceb-89c0-4f7e-992b-dfeb09329f01&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Note: After 4.1, the contents of the returned <code>meta</code> were modified:</p><ul><li><code>count</code>：It still represents the total number, but in multi-condition/fuzzy query, it is fixed at -1.</li><li><code>hasnext</code>：It is a newly added field indicating whether there is a next page.</li></ul><h4 id="get-api-v4-subscriptions-clientid"><a href="#get-api-v4-subscriptions-clientid" class="header-anchor">#</a> GET /api/v4/subscriptions/{clientid}</h4><p>Return the subscription information of the specified client in the cluster.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>All subscription information</td></tr><tr><td>data.node</td><td>String</td><td>Node name</td></tr><tr><td>data.clientid</td><td>String</td><td>Client identifier</td></tr><tr><td>data.topic</td><td>String</td><td>Subscribe to topic</td></tr><tr><td>data.qos</td><td>Integer</td><td>QoS level</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/subscriptions/123&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/b/c&quot;</span>,<span class="token string">&quot;qos&quot;</span>:1,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-subscriptions"><a href="#get-api-v4-nodes-node-subscriptions" class="header-anchor">#</a> GET /api/v4/nodes/{node}/subscriptions</h4><p>Similar with <a href="#endpoint-get-subscriptions">GET /api/v4/subscriptions</a>，returns all subscription information under the specified node, and supports paging mechanism.</p><p><strong>Query String Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>_page</td><td>Integer</td><td>False</td><td>1</td><td>Page number</td></tr><tr><td>_limit</td><td>Integer</td><td>False</td><td>10000</td><td>The number of data displayed per page, if not specified, it is determined by the configuration item <code>max_row_limit</code> of the <code>emqx-management</code> plugin</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>All subscription information</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].clientid</td><td>String</td><td>Client identifier</td></tr><tr><td>data[0].topic</td><td>String</td><td>Subscribe to topic</td></tr><tr><td>data[0].qos</td><td>Integer</td><td>QoS level</td></tr><tr><td>meta</td><td>Object</td><td>Same as <code>/api/v4/clients</code></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/subscriptions?_page=1&amp;limit=10&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;meta&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;page&quot;</span>:1,<span class="token string">&quot;limit&quot;</span>:10000,<span class="token string">&quot;count&quot;</span>:2<span class="token punctuation">}</span>,<span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/+/c&quot;</span>,<span class="token string">&quot;qos&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;78082755-e8eb-4a87-bab7-8277541513f0&quot;</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/b/c&quot;</span>,<span class="token string">&quot;qos&quot;</span>:1,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;7a1dfceb-89c0-4f7e-992b-dfeb09329f01&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-subscriptions-clientid"><a href="#get-api-v4-nodes-node-subscriptions-clientid" class="header-anchor">#</a> GET /api/v4/nodes/{node}/subscriptions/{clientid}</h4><p>Similar with <a href="#endpoint-get-subscriptions-by-clientid">GET /api/v4/subscriptions/{clientid}</a>, query all subscription information of a clientid under the specified node, and support paging mechanism.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>clientid</td><td>String</td><td>True</td><td>ClientID</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>All subscription information</td></tr><tr><td>data.node</td><td>String</td><td>Node name</td></tr><tr><td>data.clientid</td><td>String</td><td>Client identifier</td></tr><tr><td>data.topic</td><td>String</td><td>Subscribe to topic</td></tr><tr><td>data.qos</td><td>Integer</td><td>QoS level</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/subscriptions/sample&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/+/c&quot;</span>,<span class="token string">&quot;qos&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;clientid&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;sample&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="routes"><a href="#routes" class="header-anchor">#</a> Routes</h3><h4 id="get-api-v4-routes"><a href="#get-api-v4-routes" class="header-anchor">#</a> GET /api/v4/routes</h4><p>List all routes, support pagination.</p><p><strong>Query String Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>_page</td><td>Integer</td><td>False</td><td>1</td><td>page</td></tr><tr><td>_limit</td><td>Integer</td><td>False</td><td>10000</td><td>Page size,default use <code>emqx-management</code> <code>max_row_limit</code> option</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>routes</td></tr><tr><td>data[0].topic</td><td>String</td><td>MQTT Topic</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>meta</td><td>Object</td><td>see <code>/api/v4/clients</code></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/routes&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;meta&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;page&quot;</span>:1,<span class="token string">&quot;limit&quot;</span>:10000,<span class="token string">&quot;count&quot;</span>:2<span class="token punctuation">}</span>,<span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/+/c&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/b/c&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-routes-topic"><a href="#get-api-v4-routes-topic" class="header-anchor">#</a> GET /api/v4/routes/{topic}</h4><p>List all routes of a topic.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td>Integer</td><td>True</td><td>Topic</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>All routes information</td></tr><tr><td>data.topic</td><td>String</td><td>MQTT Topic</td></tr><tr><td>data.node</td><td>String</td><td>Node name</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/routes/a%2fb%2fc&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;topic&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;a/b/c&quot;</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="publish-message"><a href="#publish-message" class="header-anchor">#</a> Publish message</h3><h4 id="post-api-v4-mqtt-publish"><a href="#post-api-v4-mqtt-publish" class="header-anchor">#</a> POST /api/v4/mqtt/publish</h4><p>Publish MQTT message。</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>Optional</td><td></td><td>For topic and topics, with at least one of them specified</td></tr><tr><td>topics</td><td>String</td><td>Optional</td><td></td><td>Multiple topics separated by <code>,</code>. This field is used to publish messages to multiple topics at the same time</td></tr><tr><td>clientid</td><td>String</td><td>Required</td><td></td><td>Client identifier</td></tr><tr><td>payload</td><td>String</td><td>Required</td><td></td><td>Message body</td></tr><tr><td>encoding</td><td>String</td><td>Optional</td><td>plain</td><td>The encoding used in the message body. Currently only plain and base64 are supported.</td></tr><tr><td>qos</td><td>Integer</td><td>Optional</td><td>0</td><td>QoS level</td></tr><tr><td>retain</td><td>Boolean</td><td>Optional</td><td>false</td><td>Whether it is a retained message</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X POST <span class="token string">&quot;http://localhost:8081/api/v4/mqtt/publish&quot;</span> -d <span class="token string">'{&quot;topic&quot;:&quot;a/b/c&quot;,&quot;payload&quot;:&quot;Hello World&quot;,&quot;qos&quot;:1,&quot;retain&quot;:false,&quot;clientid&quot;:&quot;example&quot;}'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="subscribe-to-topic"><a href="#subscribe-to-topic" class="header-anchor">#</a> Subscribe to topic</h3><h4 id="post-api-v4-mqtt-subscribe"><a href="#post-api-v4-mqtt-subscribe" class="header-anchor">#</a> POST /api/v4/mqtt/subscribe</h4><p>Subscribe to MQTT topic</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>Optional</td><td></td><td>For topic and topics, with at least one of them specified</td></tr><tr><td>topics</td><td>String</td><td>Optional</td><td></td><td>Multiple topics separated by <code>,</code>. This field is used to subscribe to multiple topics at the same time</td></tr><tr><td>clientid</td><td>String</td><td>Required</td><td></td><td>Client identifier</td></tr><tr><td>qos</td><td>Integer</td><td>Optional</td><td>0</td><td>QoS level</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Subscribe to the three topics of <code>a</code>, <code>b</code>, <code>c</code> at the same time</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X POST <span class="token string">&quot;http://localhost:8081/api/v4/mqtt/subscribe&quot;</span> -d <span class="token string">'{&quot;topics&quot;:&quot;a,b,c&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;}'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="post-api-v4-mqtt-unsubscribe"><a href="#post-api-v4-mqtt-unsubscribe" class="header-anchor">#</a> POST /api/v4/mqtt/unsubscribe</h4><p>Unsubscribe.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>Required</td><td></td><td>Topic</td></tr><tr><td>clientid</td><td>String</td><td>Required</td><td></td><td>Client identifier</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Unsubscribe from a topic</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X POST <span class="token string">&quot;http://localhost:8081/api/v4/mqtt/unsubscribe&quot;</span> -d <span class="token string">'{&quot;topic&quot;:&quot;a&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;}'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="message-publish-in-batch"><a href="#message-publish-in-batch" class="header-anchor">#</a> Message publish in batch</h3><h4 id="post-api-v4-mqtt-publish-batch"><a href="#post-api-v4-mqtt-publish-batch" class="header-anchor">#</a> POST /api/v4/mqtt/publish_batch</h4><p>Publish MQTT messages in batch.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>[0].topic</td><td>String</td><td>Optional</td><td></td><td>Topic, at least one of which is specified with <code>topics</code></td></tr><tr><td>[0].topics</td><td>String</td><td>Optional</td><td></td><td>Multiple topics divided by <code>,</code>, which can be used to publish messages to multiple topics at the same time</td></tr><tr><td>[0].clientid</td><td>String</td><td>Required</td><td></td><td>Client identifier</td></tr><tr><td>[0].payload</td><td>String</td><td>Required</td><td></td><td>Message body</td></tr><tr><td>[0].encoding</td><td>String</td><td>Optional</td><td>plain</td><td>The encoding method used in the message body, only <code>plain</code> and <code>base64</code> are supported currently</td></tr><tr><td>[0].qos</td><td>Integer</td><td>Optional</td><td>0</td><td>QoS level</td></tr><tr><td>[0].retain</td><td>Boolean</td><td>Optional</td><td>false</td><td>Whether it is a retained message or not</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X POST <span class="token string">&quot;http://localhost:8081/api/v4/mqtt/publish_batch&quot;</span> -d <span class="token string">'[{&quot;topic&quot;:&quot;a/b/c&quot;,&quot;payload&quot;:&quot;Hello World&quot;,&quot;qos&quot;:1,&quot;retain&quot;:false,&quot;clientid&quot;:&quot;example&quot;},{&quot;topic&quot;:&quot;a/b/c&quot;,&quot;payload&quot;:&quot;Hello World Again&quot;,&quot;qos&quot;:0,&quot;retain&quot;:false,&quot;clientid&quot;:&quot;example&quot;}]'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="topic-subscription-in-batch"><a href="#topic-subscription-in-batch" class="header-anchor">#</a> Topic subscription in batch</h3><h4 id="post-api-v4-mqtt-subscribe-batch"><a href="#post-api-v4-mqtt-subscribe-batch" class="header-anchor">#</a> POST /api/v4/mqtt/subscribe_batch</h4><p>Subscribe to MQTT topics in batch.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>[0].topic</td><td>String</td><td>Optional</td><td></td><td>Topic, at least one of which is specified with <code>topics</code></td></tr><tr><td>[0].topics</td><td>String</td><td>Optional</td><td></td><td>Multiple topics divided by <code>,</code>, which can be used to publish messages to multiple topics at the same time</td></tr><tr><td>[0].clientid</td><td>String</td><td>Required</td><td></td><td>Client identifier</td></tr><tr><td>[0].qos</td><td>Integer</td><td>Optional</td><td>0</td><td>QoS level</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Subscribe to the three topics of <code>a</code>,<code>b</code>, and <code>c</code> at one time</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X POST <span class="token string">&quot;http://localhost:8081/api/v4/mqtt/subscribe_batch&quot;</span> -d <span class="token string">'[{&quot;topic&quot;:&quot;a&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;},{&quot;topic&quot;:&quot;b&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;},{&quot;topic&quot;:&quot;c&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;}]'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="post-api-v4-mqtt-unsubscribe-batch"><a href="#post-api-v4-mqtt-unsubscribe-batch" class="header-anchor">#</a> POST /api/v4/mqtt/unsubscribe_batch</h4><p>Unsubscribe in batch.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>[0].topic</td><td>String</td><td>Required</td><td></td><td>Topic</td></tr><tr><td>[0].clientid</td><td>String</td><td>Required</td><td></td><td>Client identifier</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Unsubscribe from <code>a</code>,<code>b</code> topics at one time</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X POST <span class="token string">&quot;http://localhost:8081/api/v4/mqtt/unsubscribe_batch&quot;</span> -d <span class="token string">'[{&quot;topic&quot;:&quot;a&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;},{&quot;topic&quot;:&quot;b&quot;,&quot;qos&quot;:1,&quot;clientid&quot;:&quot;example&quot;}]'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="plugins"><a href="#plugins" class="header-anchor">#</a> plugins</h3><h4 id="get-api-v4-plugins"><a href="#get-api-v4-plugins" class="header-anchor">#</a> GET /api/v4/plugins</h4><p>Returns information of all plugins in the cluster.</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>All routes information</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].plugins</td><td>Array</td><td>Plugin information, an array of objects, see below</td></tr><tr><td>data[0].plugins.name</td><td>String</td><td>Plugin name</td></tr><tr><td>data[0].plugins.version</td><td>String</td><td>Plugin version</td></tr><tr><td>data[0].plugins.description</td><td>String</td><td>Plugin description</td></tr><tr><td>data[0].plugins.active</td><td>Boolean</td><td>Whether the plugin is active</td></tr><tr><td>data[0].plugins.type</td><td>String</td><td>Plug-in type, currently includes<br><code>auth</code>、<code>bridge</code>、<code>feature</code>、<code>protocol</code></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/plugins&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;plugins&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;develop&quot;</span>,<span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;auth&quot;</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx_auth_clientid&quot;</span>,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;EMQX Broker Authentication with ClientId/Password&quot;</span>,<span class="token string">&quot;active&quot;</span>:false<span class="token punctuation">}</span>, <span class="token punctuation">..</span>.<span class="token punctuation">]</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-plugins"><a href="#get-api-v4-nodes-node-plugins" class="header-anchor">#</a> GET /api/v4/nodes/{node}/plugins</h4><p>Similar with <a href="#endpoint-get-plugins">GET /api/v4/plugins</a>, return the plugin information under the specified node</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>All routes information</td></tr><tr><td>data[0].name</td><td>String</td><td>Plugin name</td></tr><tr><td>data[0].version</td><td>String</td><td>Plugin version</td></tr><tr><td>data[0].description</td><td>String</td><td>Plugin description</td></tr><tr><td>data[0].active</td><td>Boolean</td><td>Whether the plugin is active</td></tr><tr><td>data[0].type</td><td>String</td><td>Plug-n type, currently include<br><code>auth</code>、<code>bridge</code>、<code>feature</code>、<code>protocol</code></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;develop&quot;</span>,<span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;auth&quot;</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx_auth_clientid&quot;</span>,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;EMQX Broker Authentication with ClientId/Password&quot;</span>,<span class="token string">&quot;active&quot;</span>:false<span class="token punctuation">}</span>, <span class="token punctuation">..</span>.<span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="put-api-v4-nodes-node-plugins-plugin-load-load-plugin"><a href="#put-api-v4-nodes-node-plugins-plugin-load-load-plugin" class="header-anchor">#</a> PUT /api/v4/nodes/{node}/plugins/{plugin}/load {#load_plugin}</h4><p>Load the specified plugin under the specified node.</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X PUT <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins/emqx_delayed_publish/load&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="put-api-v4-nodes-node-plugins-plugin-unload"><a href="#put-api-v4-nodes-node-plugins-plugin-unload" class="header-anchor">#</a> PUT /api/v4/nodes/{node}/plugins/{plugin}/unload</h4><p>Unload the specified plugin under the specified node.</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X PUT <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins/emqx_delayed_publish/unload&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="put-api-v4-nodes-node-plugins-plugin-reload"><a href="#put-api-v4-nodes-node-plugins-plugin-reload" class="header-anchor">#</a> PUT /api/v4/nodes/{node}/plugins/{plugin}/reload</h4><p>Reloads the specified plugin under the specified node.</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X PUT <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins/emqx_delayed_publish/reload&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="listeners"><a href="#listeners" class="header-anchor">#</a> listeners</h3><h4 id="get-api-v4-listeners"><a href="#get-api-v4-listeners" class="header-anchor">#</a> GET /api/v4/listeners</h4><p>Returns information about all listeners in the cluster.</p><p><strong>Path Parameters:</strong> 无</p><p>**Success <strong>Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>List of listeners for each node</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].listeners</td><td>Array of Objects</td><td>Listener list</td></tr><tr><td>data[0].listeners[0].acceptors</td><td>Integer</td><td>Number of Acceptor process</td></tr><tr><td>data[0].listeners[0].listen_on</td><td>String</td><td>Listening port</td></tr><tr><td>data[0].listeners[0].identifier</td><td>String</td><td>Identifier</td></tr><tr><td>data[0].listeners[0].protocol</td><td>String</td><td>Plugin description</td></tr><tr><td>data[0].listeners[0].current_conns</td><td>Integer</td><td>Whether plugin is enabled</td></tr><tr><td>data[0].listeners[0].max_conns</td><td>Integer</td><td>Maximum number of allowed connections</td></tr><tr><td>data[0].listeners[0].shutdown_count</td><td>Array of Objects</td><td>Reasons and counts for connection shutdown</td></tr></tbody></table><p>Normal shutdown_count*</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>normal</td><td>Integer</td><td>Number of normally closed connections, only returned when the count is greater than 0</td></tr><tr><td>kicked</td><td>Integer</td><td>Number of manually dropped connections, only returned if the count is greater than 0</td></tr><tr><td>discarded</td><td>Integer</td><td>Number of connections dropped because <code>Clean Session</code> or <code>Clean Start</code> is <code>true</code></td></tr><tr><td>takeovered</td><td>Integer</td><td>Number of connections takeovered because <code>Clean Session</code> or <code>Clean Start</code> is <code>false</code></td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/listeners&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;listeners&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:ssl&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:102400,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8883&quot;</span>,<span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:ssl:external&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:1,<span class="token string">&quot;acceptors&quot;</span>:32<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:1024000,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0.0.0.0:1883&quot;</span>,<span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp:external&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:1,<span class="token string">&quot;acceptors&quot;</span>:64<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:1024000,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1:11883&quot;</span>,<span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp:internal&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:4<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http:dashboard&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:512,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;18083&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:4<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http:management&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:512,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8081&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:1,<span class="token string">&quot;acceptors&quot;</span>:2<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:ws:8083&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:102400,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8083&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:16<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:wss:8084&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:102400,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8084&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:16<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="put-api-v4-listeners-identifier-restart"><a href="#put-api-v4-listeners-identifier-restart" class="header-anchor">#</a> PUT /api/v4/listeners/{identifier}/restart</h4><p>Restarts a listener in the cluster</p><p><strong>Path Parameters:</strong> 无</p><p>**Success <strong>Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X PUT <span class="token string">&quot;http://localhost:8081/api/v4/listeners/mqtt:tcp:external/restart&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-listeners"><a href="#get-api-v4-nodes-node-listeners" class="header-anchor">#</a> GET /api/v4/nodes/{node}/listeners</h4><p>Similar with <a href="#endpoint-get-listeners">GET /api/v4/listeners</a>, returns the listener information for the specified node.</p><p>**Success <strong>Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>List of listeners for each node</td></tr><tr><td>data[0].acceptors</td><td>Integer</td><td>Number of Acceptor process</td></tr><tr><td>data[0].listen_on</td><td>String</td><td>Listening port</td></tr><tr><td>data[0].identifier</td><td>String</td><td>Identifier</td></tr><tr><td>data[0].protocol</td><td>String</td><td>Plugin description</td></tr><tr><td>data[0].current_conns</td><td>Integer</td><td>Whether the plugin is enabled</td></tr><tr><td>data[0].max_conns</td><td>Integer</td><td>Maximum number of allowed connections</td></tr><tr><td>data[0].shutdown_count</td><td>Array of Objects</td><td>Reasons and counts for connection shutdown</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/listeners&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:ssl&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:102400,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8883&quot;</span>,<span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:ssl:external&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:1,<span class="token string">&quot;acceptors&quot;</span>:32<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:1024000,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0.0.0.0:1883&quot;</span>,<span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp:external&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:1,<span class="token string">&quot;acceptors&quot;</span>:64<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:1024000,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;127.0.0.1:11883&quot;</span>,<span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:tcp:internal&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:4<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http:dashboard&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:512,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;18083&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:4<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http:management&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:512,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8081&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:1,<span class="token string">&quot;acceptors&quot;</span>:2<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:ws:8083&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:102400,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8083&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:16<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;shutdown_count&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;protocol&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;mqtt:wss:8084&quot;</span>,<span class="token string">&quot;max_conns&quot;</span>:102400,<span class="token string">&quot;listen_on&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;8084&quot;</span>,<span class="token string">&quot;current_conns&quot;</span>:0,<span class="token string">&quot;acceptors&quot;</span>:16<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="put-api-v4-nodes-node-listeners-identifier-restart"><a href="#put-api-v4-nodes-node-listeners-identifier-restart" class="header-anchor">#</a> PUT /api/v4/nodes/{node}/listeners/{identifier}/restart</h4><p>Restarts a listener in the cluster</p><p><strong>Path Parameters:</strong> 无</p><p>**Success <strong>Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X PUT <span class="token string">&quot;http://localhost:8081/api/v4/listeners/mqtt:tcp:external/restart&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="metrics"><a href="#metrics" class="header-anchor">#</a> Metrics</h3><h4 id="get-api-v4-metrics"><a href="#get-api-v4-metrics" class="header-anchor">#</a> GET /api/v4/metrics</h4><p>Returns all statistical metrics under the cluster</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>List of statistical metrics on each node</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].metrics</td><td>Object</td><td>Monitoring metrics data, see metrics below</td></tr></tbody></table><p><strong>metrics:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bytes.received</td><td>Integer</td><td>Number of bytes received by EMQX Broker</td></tr><tr><td>bytes.sent</td><td>Integer</td><td>Number of bytes sent by EMQX Broker on this connection</td></tr><tr><td>client.authenticate</td><td>Integer</td><td>Number of client authentications</td></tr><tr><td>client.auth.anonymous</td><td>Integer</td><td>Number of clients who log in anonymously</td></tr><tr><td>client.connect</td><td>Integer</td><td>Number of client connections</td></tr><tr><td>client.connack</td><td>Integer</td><td>Number of CONNACK packet sent</td></tr><tr><td>client.connected</td><td>Integer</td><td>Number of successful client connections</td></tr><tr><td>client.disconnected</td><td>Integer</td><td>Number of client disconnects</td></tr><tr><td>client.check_acl</td><td>Integer</td><td>Number of ACL rule checks</td></tr><tr><td>client.subscribe</td><td>Integer</td><td>Number of client subscriptions</td></tr><tr><td>client.unsubscribe</td><td>Integer</td><td>Number of client unsubscriptions</td></tr><tr><td>delivery.dropped.too_large</td><td>Integer</td><td>The number of messages that were dropped because the length exceeded the limit when sending</td></tr><tr><td>delivery.dropped.queue_full</td><td>Integer</td><td>Number of messages with a non-zero QoS that were dropped because the message queue was full when sending</td></tr><tr><td>delivery.dropped.qos0_msg</td><td>Integer</td><td>Number of messages with QoS 0 that were dropped because the message queue was full when sending</td></tr><tr><td>delivery.dropped.expired</td><td>Integer</td><td>Number of messages dropped due to message expiration on sending</td></tr><tr><td>delivery.dropped.no_local</td><td>Integer</td><td>Number of messages that were dropped due to the No Local subscription option when sending</td></tr><tr><td>delivery.dropped</td><td>Integer</td><td>Total number of discarded messages when sending</td></tr><tr><td>messages.delayed</td><td>Integer</td><td>Number of delay- published messages stored by EMQX Broker</td></tr><tr><td>messages.delivered</td><td>Integer</td><td>Number of messages forwarded to the subscription process internally by EMQX Broker</td></tr><tr><td>messages.dropped</td><td>Integer</td><td>Total number of messages dropped by EMQX Broker before forwarding to the subscription process</td></tr><tr><td>messages.dropped.expired</td><td>Integer</td><td>Number of messages dropped due to message expiration when receiving</td></tr><tr><td>messages.dropped.no_subscribers</td><td>Integer</td><td>Number of messages dropped due to no subscribers</td></tr><tr><td>messages.forward</td><td>Integer</td><td>Number of messages forwarded to other nodes</td></tr><tr><td>messages.publish</td><td>Integer</td><td>Number of messages published in addition to system messages</td></tr><tr><td>messages.qos0.received</td><td>Integer</td><td>Number of QoS 0 messages received from clients</td></tr><tr><td>messages.qos1.received</td><td>Integer</td><td>Number of QoS 1 messages received from clients</td></tr><tr><td>messages.qos2.received</td><td>Integer</td><td>Number of QoS 2 messages received from clients</td></tr><tr><td>messages.qos0.sent</td><td>Integer</td><td>Number of QoS 0 messages sent to clients</td></tr><tr><td>messages.qos1.sent</td><td>Integer</td><td>Number of QoS 1 messages sent to clients</td></tr><tr><td>messages.qos2.sent</td><td>Integer</td><td>Number of QoS 2 messages sent to clients</td></tr><tr><td>messages.received</td><td>Integer</td><td>Number of messages received from the client, equal to the sum of <code>messages.qos0.received</code>，<code>messages.qos1.received</code> and <code>messages.qos2.received</code></td></tr><tr><td>messages.sent</td><td>Integer</td><td>Number of messages sent to the client, equal to the sum of <code>messages.qos0.sent</code>，<code>messages.qos1.sent</code> and <code>messages.qos2.sent</code></td></tr><tr><td>messages.retained</td><td>Integer</td><td>Number of retained messages stored by EMQX Broker</td></tr><tr><td>messages.acked</td><td>Integer</td><td>Number of received PUBACK and PUBREC packet</td></tr><tr><td>packets.received</td><td>Integer</td><td>Number of received packet</td></tr><tr><td>packets.sent</td><td>Integer</td><td>Number of sent packet</td></tr><tr><td>packets.connect.received</td><td>Integer</td><td>Number of received CONNECT packet</td></tr><tr><td>packets.connack.auth_error</td><td>Integer</td><td>Number of received CONNECT packet with failed authentication</td></tr><tr><td>packets.connack.error</td><td>Integer</td><td>Number of received CONNECT packet with unsuccessful connections</td></tr><tr><td>packets.connack.sent</td><td>Integer</td><td>Number of sent CONNACK packet</td></tr><tr><td>packets.publish.received</td><td>Integer</td><td>Number of received PUBLISH packet</td></tr><tr><td>packets.publish.sent</td><td>Integer</td><td>Number of sent PUBLISH packet</td></tr><tr><td>packets.publish.inuse</td><td>Integer</td><td>Number of received PUBLISH packet with occupied identifiers</td></tr><tr><td>packets.publish.auth_error</td><td>Integer</td><td>Number of received PUBLISH packets with failed the ACL check</td></tr><tr><td>packets.publish.error</td><td>Integer</td><td>Number of received PUBLISH packet that cannot be published</td></tr><tr><td>packets.publish.dropped</td><td>Integer</td><td>Number of messages discarded due to the receiving limit</td></tr><tr><td>packets.puback.received</td><td>Integer</td><td>Number of received PUBACK packet</td></tr><tr><td>packets.puback.sent</td><td>Integer</td><td>Number of sent PUBACK packet</td></tr><tr><td>packets.puback.inuse</td><td>Integer</td><td>Number of received PUBACK packet with occupied identifiers</td></tr><tr><td>packets.puback.missed</td><td>Integer</td><td>Number of received packet with identifiers.</td></tr><tr><td>packets.pubrec.received</td><td>Integer</td><td>Number of received PUBREC packet</td></tr><tr><td>packets.pubrec.sent</td><td>Integer</td><td>Number of sent PUBREC packet</td></tr><tr><td>packets.pubrec.inuse</td><td>Integer</td><td>Number of received PUBREC packet with occupied identifiers</td></tr><tr><td>packets.pubrec.missed</td><td>Integer</td><td>Number of received PUBREC packet with unknown identifiers</td></tr><tr><td>packets.pubrel.received</td><td>Integer</td><td>Number of received PUBREL packet</td></tr><tr><td>packets.pubrel.sent</td><td>Integer</td><td>Number of sent PUBREL packet</td></tr><tr><td>packets.pubrel.missed</td><td>Integer</td><td>Number of received PUBREC packet with unknown identifiers</td></tr><tr><td>packets.pubcomp.received</td><td>Integer</td><td>Number of received PUBCOMP packet</td></tr><tr><td>packets.pubcomp.sent</td><td>Integer</td><td>Number of sent PUBCOMP packet</td></tr><tr><td>packets.pubcomp.inuse</td><td>Integer</td><td>Number of received PUBCOMP packet with occupied identifiers</td></tr><tr><td>packets.pubcomp.missed</td><td>Integer</td><td>Number of missed PUBCOMP packet</td></tr><tr><td>packets.subscribe.received</td><td>Integer</td><td>Number of received SUBSCRIBE packet</td></tr><tr><td>packets.subscribe.error</td><td>Integer</td><td>Number of received SUBSCRIBE packet with failed subscriptions</td></tr><tr><td>packets.subscribe.auth_error</td><td>Integer</td><td>Number of received SUBACK packet with failed ACL check</td></tr><tr><td>packets.suback.sent</td><td>Integer</td><td>Number of sent SUBACK packet</td></tr><tr><td>packets.unsubscribe.received</td><td>Integer</td><td>Number of received UNSUBSCRIBE packet</td></tr><tr><td>packets.unsubscribe.error</td><td>Integer</td><td>Number of received UNSUBSCRIBE packet with failed unsubscriptions</td></tr><tr><td>packets.unsuback.sent</td><td>Integer</td><td>Number of sent UNSUBACK packet</td></tr><tr><td>packets.pingreq.received</td><td>Integer</td><td>Number of received PINGREQ packet</td></tr><tr><td>packets.pingresp.sent</td><td>Integer</td><td>Number of sent PUBRESP packet</td></tr><tr><td>packets.disconnect.received</td><td>Integer</td><td>Number of received DISCONNECT packet</td></tr><tr><td>packets.disconnect.sent</td><td>Integer</td><td>Number of sent DISCONNECT packet</td></tr><tr><td>packets.auth.received</td><td>Integer</td><td>Number of received AUTH packet</td></tr><tr><td>packets.auth.sent</td><td>Integer</td><td>Number of sent AUTH packet</td></tr><tr><td>session.created</td><td>Integer</td><td>Number of sessions created</td></tr><tr><td>session.discarded</td><td>Integer</td><td>Number of sessions dropped because <code>Clean Session</code> or <code>Clean Start</code> is <code>true</code></td></tr><tr><td>session.resumed</td><td>Integer</td><td>Number of sessions resumed because <code>Clean Session</code> or <code>Clean Start</code> is false</td></tr><tr><td>session.takeovered</td><td>Integer</td><td>Number of sessions takeovered because <code>Clean Session</code> or <code>Clean Start</code> is false</td></tr><tr><td>session.terminated</td><td>Integer</td><td>Number of terminated sessions</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/metrics&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;messages.dropped.no_subscribers&quot;</span>:0,<span class="token string">&quot;packets.connack.sent&quot;</span>:13,<span class="token string">&quot;bytes.received&quot;</span>:805,<span class="token string">&quot;messages.received&quot;</span>:0,<span class="token string">&quot;packets.unsuback.sent&quot;</span>:0,<span class="token string">&quot;messages.delivered&quot;</span>:0,<span class="token string">&quot;client.disconnected&quot;</span>:0,<span class="token string">&quot;packets.puback.sent&quot;</span>:0,<span class="token string">&quot;packets.subscribe.auth_error&quot;</span>:0,<span class="token string">&quot;delivery.dropped.queue_full&quot;</span>:0,<span class="token string">&quot;messages.forward&quot;</span>:0,<span class="token string">&quot;delivery.dropped.qos0_msg&quot;</span>:0,<span class="token string">&quot;delivery.dropped.expired&quot;</span>:0,<span class="token string">&quot;bytes.sent&quot;</span>:52,<span class="token string">&quot;messages.sent&quot;</span>:0,<span class="token string">&quot;delivery.dropped.no_local&quot;</span>:0,<span class="token string">&quot;packets.pubrec.received&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.received&quot;</span>:0,<span class="token string">&quot;client.check_acl&quot;</span>:0,<span class="token string">&quot;packets.puback.received&quot;</span>:0,<span class="token string">&quot;session.takeovered&quot;</span>:0,<span class="token string">&quot;messages.dropped.expired&quot;</span>:0,<span class="token string">&quot;messages.qos1.sent&quot;</span>:0,<span class="token string">&quot;messages.retained&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.inuse&quot;</span>:0,<span class="token string">&quot;packets.pubrec.sent&quot;</span>:0,<span class="token string">&quot;packets.received&quot;</span>:13,<span class="token string">&quot;messages.acked&quot;</span>:0,<span class="token string">&quot;session.terminated&quot;</span>:0,<span class="token string">&quot;packets.sent&quot;</span>:13,<span class="token string">&quot;packets.unsubscribe.error&quot;</span>:0,<span class="token string">&quot;client.connect&quot;</span>:13,<span class="token string">&quot;packets.pubrec.missed&quot;</span>:0,<span class="token string">&quot;packets.auth.sent&quot;</span>:0,<span class="token string">&quot;packets.disconnect.received&quot;</span>:0,<span class="token string">&quot;messages.qos2.sent&quot;</span>:0,<span class="token string">&quot;client.auth.anonymous&quot;</span>:13,<span class="token string">&quot;packets.auth.received&quot;</span>:0,<span class="token string">&quot;packets.unsubscribe.received&quot;</span>:0,<span class="token string">&quot;packets.publish.auth_error&quot;</span>:0,<span class="token string">&quot;client.connected&quot;</span>:13,<span class="token string">&quot;packets.disconnect.sent&quot;</span>:0,<span class="token string">&quot;session.created&quot;</span>:13,<span class="token string">&quot;packets.pingreq.received&quot;</span>:0,<span class="token string">&quot;messages.dropped&quot;</span>:0,<span class="token string">&quot;packets.publish.sent&quot;</span>:0,<span class="token string">&quot;session.resumed&quot;</span>:0,<span class="token string">&quot;packets.connack.auth_error&quot;</span>:0,<span class="token string">&quot;packets.pubrel.sent&quot;</span>:0,<span class="token string">&quot;delivery.dropped&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.sent&quot;</span>:0,<span class="token string">&quot;messages.qos2.received&quot;</span>:0,<span class="token string">&quot;messages.qos0.received&quot;</span>:0,<span class="token string">&quot;packets.publish.inuse&quot;</span>:0,<span class="token string">&quot;client.unsubscribe&quot;</span>:0,<span class="token string">&quot;packets.pubrel.received&quot;</span>:0,<span class="token string">&quot;client.connack&quot;</span>:13,<span class="token string">&quot;packets.connack.error&quot;</span>:0,<span class="token string">&quot;packets.publish.dropped&quot;</span>:0,<span class="token string">&quot;packets.publish.received&quot;</span>:0,<span class="token string">&quot;client.subscribe&quot;</span>:0,<span class="token string">&quot;packets.subscribe.error&quot;</span>:0,<span class="token string">&quot;packets.suback.sent&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.missed&quot;</span>:0,<span class="token string">&quot;messages.qos1.received&quot;</span>:0,<span class="token string">&quot;delivery.dropped.too_large&quot;</span>:0,<span class="token string">&quot;packets.pingresp.sent&quot;</span>:0,<span class="token string">&quot;packets.pubrel.missed&quot;</span>:0,<span class="token string">&quot;messages.qos0.sent&quot;</span>:0,<span class="token string">&quot;packets.connect.received&quot;</span>:13,<span class="token string">&quot;packets.puback.missed&quot;</span>:0,<span class="token string">&quot;packets.subscribe.received&quot;</span>:0,<span class="token string">&quot;packets.puback.inuse&quot;</span>:0,<span class="token string">&quot;client.authenticate&quot;</span>:13,<span class="token string">&quot;messages.publish&quot;</span>:0,<span class="token string">&quot;packets.pubrec.inuse&quot;</span>:0,<span class="token string">&quot;packets.publish.error&quot;</span>:0,<span class="token string">&quot;messages.delayed&quot;</span>:0,<span class="token string">&quot;session.discarded&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-metrics"><a href="#get-api-v4-nodes-node-metrics" class="header-anchor">#</a> GET /api/v4/nodes/{node}/metrics</h4><p>Similar with <a href="#endpoint-get-metrics">GET /api/v4/metrics</a>, returns all monitoring indicator data under the specified node.</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Objects</td><td>List of statistical metrics on each node, see <a href="#endpoint-get-metrics">GET /api/v4/metrics</a> for details</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/metrics&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;bytes.received&quot;</span>:0,<span class="token string">&quot;client.connected&quot;</span>:0,<span class="token string">&quot;packets.pingreq.received&quot;</span>:0,<span class="token string">&quot;messages.delayed&quot;</span>:0,<span class="token string">&quot;packets.puback.sent&quot;</span>:0,<span class="token string">&quot;packets.pingresp.sent&quot;</span>:0,<span class="token string">&quot;packets.publish.auth_error&quot;</span>:0,<span class="token string">&quot;client.check_acl&quot;</span>:0,<span class="token string">&quot;delivery.dropped.queue_full&quot;</span>:0,<span class="token string">&quot;packets.publish.error&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.received&quot;</span>:0,<span class="token string">&quot;bytes.sent&quot;</span>:0,<span class="token string">&quot;packets.pubrec.inuse&quot;</span>:0,<span class="token string">&quot;packets.pubrec.missed&quot;</span>:0,<span class="token string">&quot;packets.pubrel.sent&quot;</span>:0,<span class="token string">&quot;delivery.dropped.too_large&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.missed&quot;</span>:0,<span class="token string">&quot;packets.subscribe.error&quot;</span>:0,<span class="token string">&quot;packets.suback.sent&quot;</span>:0,<span class="token string">&quot;messages.qos2.sent&quot;</span>:0,<span class="token string">&quot;messages.qos1.sent&quot;</span>:0,<span class="token string">&quot;packets.pubrel.missed&quot;</span>:0,<span class="token string">&quot;messages.publish&quot;</span>:0,<span class="token string">&quot;messages.forward&quot;</span>:0,<span class="token string">&quot;packets.auth.received&quot;</span>:0,<span class="token string">&quot;delivery.dropped&quot;</span>:0,<span class="token string">&quot;packets.sent&quot;</span>:0,<span class="token string">&quot;packets.puback.inuse&quot;</span>:0,<span class="token string">&quot;delivery.dropped.qos0_msg&quot;</span>:0,<span class="token string">&quot;packets.publish.dropped&quot;</span>:0,<span class="token string">&quot;packets.disconnect.sent&quot;</span>:0,<span class="token string">&quot;packets.auth.sent&quot;</span>:0,<span class="token string">&quot;packets.unsubscribe.received&quot;</span>:0,<span class="token string">&quot;session.takeovered&quot;</span>:0,<span class="token string">&quot;messages.delivered&quot;</span>:0,<span class="token string">&quot;client.auth.anonymous&quot;</span>:0,<span class="token string">&quot;packets.connack.error&quot;</span>:0,<span class="token string">&quot;packets.connack.sent&quot;</span>:0,<span class="token string">&quot;packets.subscribe.auth_error&quot;</span>:0,<span class="token string">&quot;packets.unsuback.sent&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.sent&quot;</span>:0,<span class="token string">&quot;packets.publish.sent&quot;</span>:0,<span class="token string">&quot;client.connack&quot;</span>:0,<span class="token string">&quot;packets.publish.received&quot;</span>:0,<span class="token string">&quot;client.subscribe&quot;</span>:0,<span class="token string">&quot;session.created&quot;</span>:0,<span class="token string">&quot;delivery.dropped.expired&quot;</span>:0,<span class="token string">&quot;client.unsubscribe&quot;</span>:0,<span class="token string">&quot;packets.received&quot;</span>:0,<span class="token string">&quot;packets.pubrel.received&quot;</span>:0,<span class="token string">&quot;packets.unsubscribe.error&quot;</span>:0,<span class="token string">&quot;messages.qos0.sent&quot;</span>:0,<span class="token string">&quot;packets.connack.auth_error&quot;</span>:0,<span class="token string">&quot;session.resumed&quot;</span>:0,<span class="token string">&quot;delivery.dropped.no_local&quot;</span>:0,<span class="token string">&quot;packets.puback.missed&quot;</span>:0,<span class="token string">&quot;packets.pubcomp.inuse&quot;</span>:0,<span class="token string">&quot;packets.pubrec.sent&quot;</span>:0,<span class="token string">&quot;messages.dropped.expired&quot;</span>:0,<span class="token string">&quot;messages.dropped.no_subscribers&quot;</span>:0,<span class="token string">&quot;session.discarded&quot;</span>:0,<span class="token string">&quot;messages.sent&quot;</span>:0,<span class="token string">&quot;messages.received&quot;</span>:0,<span class="token string">&quot;packets.puback.received&quot;</span>:0,<span class="token string">&quot;messages.qos0.received&quot;</span>:0,<span class="token string">&quot;messages.acked&quot;</span>:0,<span class="token string">&quot;client.connect&quot;</span>:0,<span class="token string">&quot;packets.disconnect.received&quot;</span>:0,<span class="token string">&quot;client.disconnected&quot;</span>:0,<span class="token string">&quot;messages.retained&quot;</span>:3,<span class="token string">&quot;session.terminated&quot;</span>:0,<span class="token string">&quot;packets.publish.inuse&quot;</span>:0,<span class="token string">&quot;packets.pubrec.received&quot;</span>:0,<span class="token string">&quot;messages.qos2.received&quot;</span>:0,<span class="token string">&quot;messages.dropped&quot;</span>:0,<span class="token string">&quot;packets.connect.received&quot;</span>:0,<span class="token string">&quot;client.authenticate&quot;</span>:0,<span class="token string">&quot;packets.subscribe.received&quot;</span>:0,<span class="token string">&quot;messages.qos1.received&quot;</span>:0<span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="status"><a href="#status" class="header-anchor">#</a> Status</h3><h4 id="get-api-v4-stats"><a href="#get-api-v4-stats" class="header-anchor">#</a> GET /api/v4/stats</h4><p>Return all status data in the cluster.</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>List of status data on each node</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].stats</td><td>Array</td><td>Status data, see <em>stats</em> below</td></tr></tbody></table><p><strong>stats：</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>connections.count</td><td>Integer</td><td>Number of current connections</td></tr><tr><td>connections.max</td><td>Integer</td><td>Historical maximum number of connections</td></tr><tr><td>channels.count</td><td>Integer</td><td><code>sessions.count</code></td></tr><tr><td>channels.max</td><td>Integer</td><td><code>session.max</code></td></tr><tr><td>sessions.count</td><td>Integer</td><td>Number of current sessions</td></tr><tr><td>sessions.max</td><td>Integer</td><td>Historical maximum number of sessions</td></tr><tr><td>topics.count</td><td>Integer</td><td>Number of current topics</td></tr><tr><td>topics.max</td><td>Integer</td><td>Historical maximum number of topics</td></tr><tr><td>suboptions.count</td><td>Integer</td><td><code>subscriptions.count</code></td></tr><tr><td>suboptions.max</td><td>Integer</td><td><code>subscriptions.max</code></td></tr><tr><td>subscribers.count</td><td>Integer</td><td>Number of current subscribers</td></tr><tr><td>subscribers.max</td><td>Integer</td><td>Historical maximum number of subscribers</td></tr><tr><td>subscriptions.count</td><td>Integer</td><td>Number of current subscriptions, including shared subscriptions</td></tr><tr><td>subscriptions.max</td><td>Integer</td><td>Historical maximum number of subscriptions</td></tr><tr><td>subscriptions.shared.count</td><td>Integer</td><td>Number of current shared subscriptions</td></tr><tr><td>subscriptions.shared.max</td><td>Integer</td><td>Historical maximum number of shared subscriptions</td></tr><tr><td>routes.count</td><td>Integer</td><td>Number of current routes</td></tr><tr><td>routes.max</td><td>Integer</td><td>Historical maximum number of routes</td></tr><tr><td>retained.count</td><td>Integer</td><td>Number of currently retained messages</td></tr><tr><td>retained.max</td><td>Integer</td><td>Historical maximum number of retained messages</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/stats&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;stats&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;topics.max&quot;</span>:0,<span class="token string">&quot;topics.count&quot;</span>:0,<span class="token string">&quot;subscriptions.shared.max&quot;</span>:0,<span class="token string">&quot;subscriptions.shared.count&quot;</span>:0,<span class="token string">&quot;subscriptions.max&quot;</span>:0,<span class="token string">&quot;subscriptions.count&quot;</span>:0,<span class="token string">&quot;subscribers.max&quot;</span>:0,<span class="token string">&quot;subscribers.count&quot;</span>:0,<span class="token string">&quot;suboptions.max&quot;</span>:0,<span class="token string">&quot;suboptions.count&quot;</span>:0,<span class="token string">&quot;sessions.max&quot;</span>:0,<span class="token string">&quot;sessions.count&quot;</span>:0,<span class="token string">&quot;routes.max&quot;</span>:0,<span class="token string">&quot;routes.count&quot;</span>:0,<span class="token string">&quot;retained.max&quot;</span>:3,<span class="token string">&quot;retained.count&quot;</span>:3,<span class="token string">&quot;resources.max&quot;</span>:0,<span class="token string">&quot;resources.count&quot;</span>:0,<span class="token string">&quot;connections.max&quot;</span>:0,<span class="token string">&quot;connections.count&quot;</span>:0,<span class="token string">&quot;channels.max&quot;</span>:0,<span class="token string">&quot;channels.count&quot;</span>:0<span class="token punctuation">}</span>,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-nodes-node-stats"><a href="#get-api-v4-nodes-node-stats" class="header-anchor">#</a> GET /api/v4/nodes/{node}/stats</h4><p>Similar with <a href="#endpoint-get-stats">GET /api/v4/stats</a>, returns status data on the specified node.</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>List of status data on each node, see <a href="#endpoint-get-stats">GET /api/v4/stats</a> for details</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/stats&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;topics.max&quot;</span>:0,<span class="token string">&quot;topics.count&quot;</span>:0,<span class="token string">&quot;subscriptions.shared.max&quot;</span>:0,<span class="token string">&quot;subscriptions.shared.count&quot;</span>:0,<span class="token string">&quot;subscriptions.max&quot;</span>:0,<span class="token string">&quot;subscriptions.count&quot;</span>:0,<span class="token string">&quot;subscribers.max&quot;</span>:0,<span class="token string">&quot;subscribers.count&quot;</span>:0,<span class="token string">&quot;suboptions.max&quot;</span>:0,<span class="token string">&quot;suboptions.count&quot;</span>:0,<span class="token string">&quot;sessions.max&quot;</span>:0,<span class="token string">&quot;sessions.count&quot;</span>:0,<span class="token string">&quot;routes.max&quot;</span>:0,<span class="token string">&quot;routes.count&quot;</span>:0,<span class="token string">&quot;retained.max&quot;</span>:3,<span class="token string">&quot;retained.count&quot;</span>:3,<span class="token string">&quot;resources.max&quot;</span>:0,<span class="token string">&quot;resources.count&quot;</span>:0,<span class="token string">&quot;connections.max&quot;</span>:0,<span class="token string">&quot;connections.count&quot;</span>:0,<span class="token string">&quot;channels.max&quot;</span>:0,<span class="token string">&quot;channels.count&quot;</span>:0<span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="alarm"><a href="#alarm" class="header-anchor">#</a> Alarm</h3><h4 id="get-api-v4-alarms-present"><a href="#get-api-v4-alarms-present" class="header-anchor">#</a> GET /api/v4/alarms/present</h4><p>Return the current alarm information in the cluster.</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Alarm list on each node</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].alarms</td><td>Array of Objects</td><td>Current alarm list</td></tr><tr><td>data[0].alarms[0].id</td><td>String</td><td>Alarm identifier</td></tr><tr><td>data[0].alarms[0].desc</td><td>String</td><td>Detailed description of the alarm</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/alarms/present&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;alarms&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;cpu_high_watermark&quot;</span>,<span class="token string">&quot;desc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;88.30833333333334&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-alarms-present-node"><a href="#get-api-v4-alarms-present-node" class="header-anchor">#</a> GET /api/v4/alarms/present/{node}</h4><p>Returns the current alarm information under the specified node. For interface parameters and returns, see <a href="#endpoint-get-alarms-present">GET /api/v4/stats</a>。</p><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/alarms/present/emqx@127.0.0.1&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;cpu_high_watermark&quot;</span>,<span class="token string">&quot;desc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;91.68333333333332&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-alarms-history"><a href="#get-api-v4-alarms-history" class="header-anchor">#</a> GET /api/v4/alarms/history</h4><p>Returns historical alarm information under the cluster.</p><p><strong>Path Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array of Objects</td><td>Alarm list on each node</td></tr><tr><td>data[0].node</td><td>String</td><td>Node name</td></tr><tr><td>data[0].alarms</td><td>Array of Objects</td><td>List of current alarms</td></tr><tr><td>data[0].alarms[0].id</td><td>String</td><td>Alarm identifier</td></tr><tr><td>data[0].alarms[0].desc</td><td>String</td><td>Detailed description of the alarm</td></tr><tr><td>data[0].alarms[0].clear_at</td><td>String</td><td>Alarm clear time, with the format &quot;YYYY-MM-DD HH:mm:ss&quot;</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/alarms/history&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;alarms&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;cpu_high_watermark&quot;</span>,<span class="token string">&quot;desc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;93.27055293970582&quot;</span>,<span class="token string">&quot;clear_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-21 13:50:10&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="get-api-v4-alarms-history-node"><a href="#get-api-v4-alarms-history-node" class="header-anchor">#</a> GET /api/v4/alarms/history/{node}</h4><p>Returns historical alarm information under the specified node. For interface parameters and returns, see <a href="#endpoint-get-alarms-history">GET /api/v4/alarms/history</a>。</p><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X GET <span class="token string">&quot;http://localhost:8081/api/v4/alarms/history/emqx@127.0.0.1&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;cpu_high_watermark&quot;</span>,<span class="token string">&quot;desc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;93.27055293970582&quot;</span>,<span class="token string">&quot;clear_at&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2020-02-21 13:50:10&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="acl-cache"><a href="#acl-cache" class="header-anchor">#</a> ACL Cache</h3><h4 id="delete-api-v4-acl-cache"><a href="#delete-api-v4-acl-cache" class="header-anchor">#</a> DELETE /api/v4/acl-cache</h4><p>Clean acl cache on all nodes</p><p><strong>Query String Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>message</td><td>String</td><td>Return only when an error occurs to provide more detailed error information</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X DELETE <span class="token string">&quot;http://localhost:8081/api/v4/acl-cache&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="delete-api-v4-node-node-acl-cache"><a href="#delete-api-v4-node-node-acl-cache" class="header-anchor">#</a> DELETE /api/v4/node/{node}/acl-cache</h4><p>Clean acl cache for specific node</p><p><strong>Query String Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>message</td><td>String</td><td>Return only when an error occurs to provide more detailed error information</td></tr></tbody></table><p><strong>Examples:</strong></p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X DELETE <span class="token string">&quot;http://localhost:8081/api/v4/node/emqx@127.0.0.1/acl-cache&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="blacklist"><a href="#blacklist" class="header-anchor">#</a> Blacklist</h3><h4 id="get-api-v4-banned"><a href="#get-api-v4-banned" class="header-anchor">#</a> GET /api/v4/banned</h4><p>Get the blacklist</p><p><strong>Query String Parameters:</strong></p><p>Same as <code>/api/v4/clients</code>。</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Array</td><td>An array of objects with the same fields as the Request Body in the <em>POST</em> method</td></tr><tr><td>meta</td><td>Object</td><td>Same as <code>/api/v4/clients</code></td></tr></tbody></table><p><strong>Examples:</strong></p><p>Get blacklist:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -vX GET <span class="token string">&quot;http://localhost:8081/api/v4/banned&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;meta&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;page&quot;</span>:1,<span class="token string">&quot;limit&quot;</span>:10000,<span class="token string">&quot;count&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;who&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;until&quot;</span>:1582265833,<span class="token string">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;undefined&quot;</span>,<span class="token string">&quot;by&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;user&quot;</span>,<span class="token string">&quot;at&quot;</span>:1582265533,<span class="token string">&quot;as&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;clientid&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="post-api-v4-banned"><a href="#post-api-v4-banned" class="header-anchor">#</a> POST /api/v4/banned</h4><p>Add object to blacklist</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>who</td><td>String</td><td>Required</td><td></td><td>Objects added to the blacklist, which can be client identifiers, usernames, and IP addresses</td></tr><tr><td>as</td><td>String</td><td>Required</td><td></td><td>Used to distinguish the types of blacklist objects, which can be <code>clientid</code>，<code>username</code>，<code>peerhost</code></td></tr><tr><td>reason</td><td>String</td><td>Required</td><td></td><td>Detailed information</td></tr><tr><td>by</td><td>String</td><td>Optional</td><td>user</td><td>Indicate which object was added to the blacklist</td></tr><tr><td>at</td><td>Integer</td><td>Optional</td><td>Current system time</td><td>Time added to blacklist, unit: second</td></tr><tr><td>until</td><td>Integer</td><td>Optional</td><td>Current system time+ 5 minutes</td><td>When to remove from blacklist, unit: second</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Same as incoming Request Body</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Add client to blacklist:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -vX POST <span class="token string">&quot;http://localhost:8081/api/v4/banned&quot;</span> -d <span class="token string">'{&quot;who&quot;:&quot;example&quot;,&quot;as&quot;:&quot;clientid&quot;,&quot;reason&quot;:&quot;example&quot;}'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;who&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;example&quot;</span>,<span class="token string">&quot;as&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;clientid&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="delete-api-v4-banned-as-who"><a href="#delete-api-v4-banned-as-who" class="header-anchor">#</a> DELETE /api/v4/banned/{as}/{who}</h4><p>Delete object from blacklist</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>message</td><td>String</td><td>Return only when an error occurs to provide more detailed error information</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Delete client from blacklist</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -i --basic -u admin:public -X DELETE <span class="token string">&quot;http://localhost:8081/api/v4/banned/clientid/example&quot;</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="rule"><a href="#rule" class="header-anchor">#</a> Rule</h3><p>Query rule engine actions</p><h3 id="get-api-v4-rules"><a href="#get-api-v4-rules" class="header-anchor">#</a> GET /api/v4/rules/</h3><p>Get rule list, supports paging and filter, including the rule's SQL, Topics list, action list, etc. It also returns the value of the statistical index for the current rule and action.</p><p><strong>Query String Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>enable_paging</td><td>Boolean</td><td>False</td><td>Whether to enable paging with page/limit metadata</td></tr><tr><td>enabled</td><td>Boolean</td><td>False</td><td>Filter condition: whether the rule is enabled or not</td></tr><tr><td>for</td><td>String</td><td>False</td><td>return topic exact match rule</td></tr><tr><td>_like_id</td><td>String</td><td>False</td><td>Fuzzy search by id substring</td></tr><tr><td>_like_for</td><td>String</td><td>False</td><td>Fuzzy search by Topic substring</td></tr><tr><td>_match_for</td><td>String</td><td>False</td><td>Matching query based on Topic, e.g.: t/# including t/1, t/2</td></tr><tr><td>_like_description</td><td>String</td><td>False</td><td>Fuzzy search by description substring</td></tr><tr><td>_page</td><td>Integer</td><td>False</td><td>page</td></tr><tr><td>_limit</td><td>Integer</td><td>False</td><td>The number of data displayed per page. If not specified, it is determined by the configuration item <code>max_row_limit</code> of the<code>emqx-management</code> plugin</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>meta</td><td>Object</td><td>Paging information, only return when enable_paging is true</td></tr><tr><td>meta.page</td><td>Integer</td><td>Page number</td></tr><tr><td>meta.limit</td><td>Integer</td><td>Number of data displayed per page</td></tr><tr><td>meta.count</td><td>Integer</td><td>Total number of data</td></tr><tr><td>data</td><td>Array of Objects</td><td>rule detail</td></tr><tr><td>data[0].id</td><td>String</td><td>Rule ID</td></tr><tr><td>data[0].rawsql</td><td>String</td><td>SQL statement, consistent with rawsql in the request</td></tr><tr><td>data[0].for</td><td>String</td><td>Topic list, indicates which topics can be matched by this rule</td></tr><tr><td>data[0].metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr><tr><td>data[0].description</td><td>String</td><td>The description of the rule, consistent with the description in the request</td></tr><tr><td>data[0].created_at</td><td>Integer</td><td>UNIX timestamp in microseconds</td></tr><tr><td>data[0].actions</td><td>Array</td><td>Action list</td></tr><tr><td>data[0].actions[0].id</td><td>String</td><td>Action ID</td></tr><tr><td>data[0].actions[0].params</td><td>Object</td><td>Action parameters, consistent with actions.params in the request</td></tr><tr><td>data[0].actions[0].name</td><td>String</td><td>Action name, consistent with actions.name in the request</td></tr><tr><td>data[0].actions[0].metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr></tbody></table><h4 id="get-api-v4-rules-rule-id"><a href="#get-api-v4-rules-rule-id" class="header-anchor">#</a> GET /api/v4/rules/{rule_id}</h4><p>Get the details of a rule, including the rule's SQL, Topics list, action list, etc. It also returns the value of the statistical index for the current rule and action.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>rule_id</td><td>String</td><td>False</td><td>Optional, Rule ID. If rule_id is not specified then<br>returns all created rules in an array</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Rule object</td></tr><tr><td>- data.id</td><td>String</td><td>Rule ID</td></tr><tr><td>- data.rawsql</td><td>String</td><td>SQL statement, consistent with rawsql in the request</td></tr><tr><td>- data.for</td><td>String</td><td>Topic list, indicates which topics can be matched by this rule</td></tr><tr><td>- data.metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr><tr><td>- data.description</td><td>String</td><td>The description of the rule, consistent with the description in the request</td></tr><tr><td>- data.created_at</td><td>Integer</td><td>UNIX timestamp in microseconds</td></tr><tr><td>- data.actions</td><td>Array</td><td>Action list</td></tr><tr><td>- data.actions[0].id</td><td>String</td><td>Action ID</td></tr><tr><td>- data.actions[0].params</td><td>Object</td><td>Action parameters, consistent with actions.params in the request</td></tr><tr><td>- data.actions[0].name</td><td>String</td><td>Action name, consistent with actions.name in the request</td></tr><tr><td>- data.actions[0].metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr></tbody></table><h4 id="post-api-v4-rules"><a href="#post-api-v4-rules" class="header-anchor">#</a> POST /api/v4/rules</h4><p>Create a rule and return the rule ID.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>rawsql</td><td>String</td><td>True</td><td>SQL statements of rules</td></tr><tr><td>actions</td><td>Array</td><td>True</td><td>Action list</td></tr><tr><td>- actions[0].name</td><td>String</td><td>True</td><td>Action name</td></tr><tr><td>- actions[0].params</td><td>Object</td><td>True</td><td>Action parameters, that is expressed in key-value form.<br>For details, please refer to the example of adding rules</td></tr><tr><td>description</td><td>String</td><td>False</td><td>Optional, rule description</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Successfully created rule object with Rule ID</td></tr><tr><td>- data.id</td><td>String</td><td>Rule ID</td></tr><tr><td>- data.rawsql</td><td>String</td><td>SQL statement, consistent with rawsql in the request</td></tr><tr><td>- data.for</td><td>String</td><td>Topic list, indicates which topics can be matched by this rule</td></tr><tr><td>- data.metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr><tr><td>- data.description</td><td>String</td><td>The description of the rule, consistent with the description in the request</td></tr><tr><td>- data.created_at</td><td>Integer</td><td>UNIX timestamp in microseconds</td></tr><tr><td>- data.actions</td><td>Array</td><td>Action list, and each action is an Object</td></tr><tr><td>- data.actions[0].id</td><td>String</td><td>Action ID</td></tr><tr><td>- data.actions[0].params</td><td>Object</td><td>Action parameters, consistent with actions.params in the request</td></tr><tr><td>- data.actions[0].name</td><td>String</td><td>Action name, consistent with actions.name in the request</td></tr><tr><td>- data.actions[0].metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr></tbody></table><h4 id="put-api-v4-rules-rule-id"><a href="#put-api-v4-rules-rule-id" class="header-anchor">#</a> PUT /api/v4/rules/{rule_id}</h4><p>Update the rule and return the rule ID.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>rawsql</td><td>String</td><td>True</td><td>Optional, SQL statement of the rule</td></tr><tr><td>actions</td><td>Array</td><td>True</td><td>Optional, action list</td></tr><tr><td>- actions[0].name</td><td>String</td><td>True</td><td>Optional, action name</td></tr><tr><td>- actions[0].params</td><td>Object</td><td>True</td><td>Optional, action parameters, that is expressed in key-value form.<br>For details, please refer to the example of adding rules</td></tr><tr><td>description</td><td>String</td><td>False</td><td>Optional, rule description</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Successfully created rule object with Rule ID</td></tr><tr><td>- data.id</td><td>String</td><td>Rule ID</td></tr><tr><td>- data.rawsql</td><td>String</td><td>SQL statement, consistent with rawsql in the request</td></tr><tr><td>- data.for</td><td>String</td><td>Topic list, indicates which topics can be matched by this rule</td></tr><tr><td>- data.metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr><tr><td>- data.description</td><td>String</td><td>The description of the rule, consistent with the description in the request</td></tr><tr><td>- data.created_at</td><td>Integer</td><td>UNIX timestamp in microseconds</td></tr><tr><td>- data.actions</td><td>Array</td><td>Action list, and each action is an Object</td></tr><tr><td>- data.actions[0].id</td><td>String</td><td>Action ID</td></tr><tr><td>- data.actions[0].params</td><td>Object</td><td>Action parameters, consistent with actions.params in the request</td></tr><tr><td>- data.actions[0].name</td><td>String</td><td>Action name, consistent with actions.name in the request</td></tr><tr><td>- data.actions[0].metrics</td><td>Array</td><td>Metrics, see Rule Metrics on Dashboard for details</td></tr></tbody></table><h4 id="delete-api-v4-rules-rule-id"><a href="#delete-api-v4-rules-rule-id" class="header-anchor">#</a> DELETE /api/v4/rules/{rule_id}</h4><p>Delete the rule</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Add a rule to print the rule running parameters for all messages matching the topic &quot;t/a&quot;.</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -XPOST -d <span class="token string">'{
  &quot;rawsql&quot;: &quot;select * from \&quot;t/a\&quot;&quot;,
  &quot;actions&quot;: [{
      &quot;name&quot;: &quot;inspect&quot;,
      &quot;params&quot;: {
          &quot;a&quot;: 1
      }
  }],
  &quot;description&quot;: &quot;test-rule&quot;
}'</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/rules'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;rawsql&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;select * from <span class="token entity" title="\&quot;">\&quot;</span>t/a<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;speed_max&quot;</span>:0,<span class="token string">&quot;speed_last5m&quot;</span>:0.0,<span class="token string">&quot;speed&quot;</span>:0.0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;matched&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;rule:7fdb2c9e&quot;</span>,<span class="token string">&quot;for&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;t/a&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;enabled&quot;</span>:true,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test-rule&quot;</span>,<span class="token string">&quot;actions&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;success&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;failed&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect_1582434715354188116&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Use the rule ID to get the details of the rule just created:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;rawsql&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;select * from <span class="token entity" title="\&quot;">\&quot;</span>t/a<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;speed_max&quot;</span>:0,<span class="token string">&quot;speed_last5m&quot;</span>:0.0,<span class="token string">&quot;speed&quot;</span>:0.0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;matched&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;rule:7fdb2c9e&quot;</span>,<span class="token string">&quot;for&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;t/a&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;enabled&quot;</span>:true,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test-rule&quot;</span>,<span class="token string">&quot;actions&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;success&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;failed&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect_1582434715354188116&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Get all the rules. Note that the data in the returned value is an array of rule objects::</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/rules'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;rawsql&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;select * from <span class="token entity" title="\&quot;">\&quot;</span>t/a<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;speed_max&quot;</span>:0,<span class="token string">&quot;speed_last5m&quot;</span>:0.0,<span class="token string">&quot;speed&quot;</span>:0.0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;matched&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;rule:7fdb2c9e&quot;</span>,<span class="token string">&quot;for&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;t/a&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;enabled&quot;</span>:true,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test-rule&quot;</span>,<span class="token string">&quot;actions&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;success&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;failed&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect_1582434715354188116&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Update the SQL statement of the rule to <code>select * from &quot;t/b&quot;</code>:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -XPUT --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'</span> -d <span class="token string">'{&quot;rawsql&quot;:&quot;select * from \&quot;t/b\&quot;&quot;}'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;rawsql&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;select * from <span class="token entity" title="\&quot;">\&quot;</span>t/b<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;speed_max&quot;</span>:0,<span class="token string">&quot;speed_last5m&quot;</span>:0.0,<span class="token string">&quot;speed&quot;</span>:0.0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;matched&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;rule:7fdb2c9e&quot;</span>,<span class="token string">&quot;for&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;t/a&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;enabled&quot;</span>:true,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test-rule&quot;</span>,<span class="token string">&quot;actions&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;success&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;failed&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect_1582434715354188116&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Disable the rule:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -XPUT --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'</span> -d <span class="token string">'{&quot;enabled&quot;: false}'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;rawsql&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;select * from <span class="token entity" title="\&quot;">\&quot;</span>t/b<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;speed_max&quot;</span>:0,<span class="token string">&quot;speed_last5m&quot;</span>:0.0,<span class="token string">&quot;speed&quot;</span>:0.0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;matched&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;rule:7fdb2c9e&quot;</span>,<span class="token string">&quot;for&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;t/a&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;enabled&quot;</span>:false,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;test-rule&quot;</span>,<span class="token string">&quot;actions&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span>:1<span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;metrics&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;success&quot;</span>:0,<span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;failed&quot;</span>:0<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect_1582434715354188116&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Delete the rule:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -XDELETE --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="actions"><a href="#actions" class="header-anchor">#</a> Actions</h3><p>Query the actions of the rule engine. Note that actions can only be provided by emqx and cannot be added.</p><h4 id="get-api-v4-actions-action-name"><a href="#get-api-v4-actions-action-name" class="header-anchor">#</a> GET api/v4/actions/{action_name}</h4><p>Get the details of an action, including the action name, parameter list, etc.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>action_name</td><td>String</td><td>False</td><td>Optional, the action name. If you do not specify action_name then<br>return all currently supported actions in an array.</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Rule object</td></tr><tr><td>- data.types</td><td>String</td><td>Indicate which resource types the current action belongs to</td></tr><tr><td>- data.title</td><td>Object</td><td>A brief description of the action, in both English and Chinese.</td></tr><tr><td>- data.params</td><td>Object</td><td>A list of parameters for the action that are expressed in key-value form.<br>For details, please refer to the following examples</td></tr><tr><td>- data.description</td><td>Object</td><td>A brief description of the action, in both English and Chinese.</td></tr><tr><td>- data.app</td><td>String</td><td>Action Provider</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Query the details of the inspect action:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/actions/inspect'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;types&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;检查 (调试)&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Inspect (debug)&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;inspect&quot;</span>,<span class="token string">&quot;for&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;<span class="token variable">$any</span>&quot;</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;检查动作参数 (用以调试)&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Inspect the details of action params for debug purpose&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;app&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx_rule_engine&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Query all current actions:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/actions'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;types&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;空动作 (调试)&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Do Nothing (debug)&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;do_nothing&quot;</span>,<span class="token string">&quot;for&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;<span class="token variable">$any</span>&quot;</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;此动作什么都不做，并且不会失败 (用以调试)&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;This action does nothing and never fails. It's for debug purpose&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;app&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx_rule_engine&quot;</span><span class="token punctuation">}</span>, <span class="token punctuation">..</span>.<span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="resource-type"><a href="#resource-type" class="header-anchor">#</a> Resource Type</h3><p>Query the rule engine's resource type. Note that resource types can only be provided by emqx and cannot be added</p><h4 id="get-api-v4-resource-types-resource-type-name"><a href="#get-api-v4-resource-types-resource-type-name" class="header-anchor">#</a> GET api/v4/resource_types/{resource_type_name}</h4><p>Get the details of an action, including the action name, parameter list, etc.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>resource_type_name</td><td>String</td><td>False</td><td>Optional, the resource type name. If not specified then<br>returns all the currently supported resource types in an array.</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Rule object</td></tr><tr><td>- data.title</td><td>Object</td><td>A brief description of resource types, in both English and Chinese.</td></tr><tr><td>- data.params</td><td>Object</td><td>A list of parameters for the resource type expressed in key-value form.<br>For details, please refer to the following examples</td></tr><tr><td>- data.description</td><td>Object</td><td>A brief description of resource types, in both English and Chinese.</td></tr><tr><td>- data.provider</td><td>String</td><td>Provider of resource type</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Query details for the web_hook resource type:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/resource_types/web_hook'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;provider&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx_web_hook&quot;</span>,<span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;string&quot;</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求 URL&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request URL&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;required&quot;</span>:true,<span class="token string">&quot;format&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;url&quot;</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求 URL&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request URL&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;method&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;string&quot;</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求方法&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Method&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;enum&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;PUT&quot;</span>,<span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求方法&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Method&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;default&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;headers&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;object&quot;</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求头&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Header&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;schema&quot;</span>:<span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求头&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Header&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;default&quot;</span>:<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web_hook&quot;</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Query all current resource types:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/resource_types'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;provider&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx_web_hook&quot;</span>,<span class="token string">&quot;params&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;string&quot;</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求 URL&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request URL&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;required&quot;</span>:true,<span class="token string">&quot;format&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;url&quot;</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求 URL&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request URL&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;method&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;string&quot;</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求方法&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Method&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;enum&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;PUT&quot;</span>,<span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求方法&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Method&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;default&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;headers&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;object&quot;</span>,<span class="token string">&quot;title&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求头&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Header&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;schema&quot;</span>:<span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;请求头&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;Request Header&quot;</span><span class="token punctuation">}</span>,<span class="token string">&quot;default&quot;</span>:<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web_hook&quot;</span>,<span class="token string">&quot;description&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;zh&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span>,<span class="token string">&quot;en&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;WebHook&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>, <span class="token punctuation">..</span>.<span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="resource"><a href="#resource" class="header-anchor">#</a> Resource</h3><p>Manage the resources of the rules engine. A resource is an instance of a resource type and is used to maintain related resources such as database connections.</p><h4 id="get-api-v4-resources-resource-id"><a href="#get-api-v4-resources-resource-id" class="header-anchor">#</a> GET api/v4/resources/{resource_id}</h4><p>Gets the details of the specified resource.</p><p><strong>Path Parameters:</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>resource_id</td><td>String</td><td>False</td><td>Optional, the resource ID. If not specified then<br>returns all the currently supported resource in an array.</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Rule object</td></tr><tr><td>- data.id</td><td>String</td><td>Rule ID</td></tr><tr><td>- data.type</td><td>String</td><td>The name of the resource type to which the resource belongs</td></tr><tr><td>- data.config</td><td>Object</td><td>Configuration of resources, and parameters are expressed in key-value form.<br>For details, please refer to the following examples</td></tr><tr><td>- data.status</td><td>Array</td><td>Status information for the resource. See the status of resources on the Dashboard for details.</td></tr><tr><td>- data.description</td><td>Object</td><td>A description of the resource, in both English and Chinese.</td></tr></tbody></table><h4 id="post-api-v4-resources"><a href="#post-api-v4-resources" class="header-anchor">#</a> POST /api/v4/resources</h4><p>Create a rule and return the resource ID.</p><p><strong>Parameters (json):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>True</td><td>Resource type name that specify which resource type to use to create the resource。</td></tr><tr><td>config</td><td>Object</td><td>True</td><td>Resource parameters that should conform to the format specified in the params of the corresponding resource type.</td></tr><tr><td>description</td><td>String</td><td>False</td><td>Optional, resource description</td></tr></tbody></table><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr><tr><td>data</td><td>Object</td><td>Rule object</td></tr><tr><td>- data.id</td><td>String</td><td>Resource ID</td></tr><tr><td>- data.type</td><td>String</td><td>The name of the resource type to which the resource belongs</td></tr><tr><td>- data.config</td><td>Object</td><td>Configuration of resources, and parameters are expressed in key-value form.<br>For details, please refer to the following examples</td></tr><tr><td>- data.description</td><td>Object</td><td>A description of the resource, in both English and Chinese.。</td></tr></tbody></table><h4 id="delete-api-v4-resources-resource-id"><a href="#delete-api-v4-resources-resource-id" class="header-anchor">#</a> DELETE /api/v4/resources/{resource_id}</h4><p>Delete the resource</p><p><strong>Parameters:</strong> None</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Create a webhook resource with the URL of the webserver http://127.0.0.1:9910 ：</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -XPOST -d <span class="token string">'{
  &quot;type&quot;: &quot;web_hook&quot;,
  &quot;config&quot;: {
      &quot;url&quot;: &quot;http://127.0.0.1:9910&quot;,
      &quot;headers&quot;: {&quot;token&quot;:&quot;axfw34y235wrq234t4ersgw4t&quot;},
      &quot;method&quot;: &quot;POST&quot;
  },
  &quot;description&quot;: &quot;web hook resource-1&quot;
}'</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/resources'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web_hook&quot;</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;resource:b12d3e44&quot;</span>,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web hook resource-1&quot;</span>,<span class="token string">&quot;config&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http://127.0.0.1:9910&quot;</span>,<span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;POST&quot;</span>,<span class="token string">&quot;headers&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;axfw34y235wrq234t4ersgw4t&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Query the resource you just created using the resource ID:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/resources/resource:b12d3e44'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web_hook&quot;</span>,<span class="token string">&quot;status&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;emqx@127.0.0.1&quot;</span>,<span class="token string">&quot;is_alive&quot;</span>:false<span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;resource:b12d3e44&quot;</span>,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web hook resource-1&quot;</span>,<span class="token string">&quot;config&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http://127.0.0.1:9910&quot;</span>,<span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;POST&quot;</span>,<span class="token string">&quot;headers&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;axfw34y235wrq234t4ersgw4t&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Query all resources that was currently created:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/resources'</span>

<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web_hook&quot;</span>,<span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;resource:b12d3e44&quot;</span>,<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;web hook resource-1&quot;</span>,<span class="token string">&quot;config&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;http://127.0.0.1:9910&quot;</span>,<span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;POST&quot;</span>,<span class="token string">&quot;headers&quot;</span>:<span class="token punctuation">{</span><span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;axfw34y235wrq234t4ersgw4t&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span>,<span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Delete the resources:</p><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -XDELETE --basic -u admin:public <span class="token string">'http://localhost:8081/api/v4/resources/resource:b12d3e44'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="license"><a href="#license" class="header-anchor">#</a> License</h3><p>Facilities for managing the EMQX license.</p><h4 id="post-api-v4-license-upload"><a href="#post-api-v4-license-upload" class="header-anchor">#</a> POST /api/v4/license/upload</h4><p>Uploads a new license file to the cluster. The license is validated, then it is copied to all nodes in the cluster and reloaded. The new contents are written to the same file path configured in the node, and the old license contents are backed up to a file in the same base directory as the configured license path, suffixed by the timestamp when the change occurred.</p><p><strong>Body (bytes)</strong></p><p>The license contents to be uploaded.</p><p><strong>Success Response Body (JSON):</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>code</td><td>Integer</td><td>0</td></tr></tbody></table><p><strong>Examples:</strong></p><p>Upload a license file:</p><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> -XPOST --basic -u admin:public -d @<span class="token operator">&lt;</span><span class="token punctuation">(</span>jq -sR <span class="token string">'{license: .}'</span> <span class="token operator">&lt;</span> path/to/new.license<span class="token punctuation">)</span> <span class="token string">'http://localhost:8081/api/v4/license/upload'</span>

<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span>:0<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><div class="page-nav reset-width"><p class="inner"><span class="prev">← <a href="/en/enterprise/latest/tutorial/benchmark.html" class="prev">Benchmark </a></span><span class="next"><a href="/en/enterprise/latest/configuration/configuration.html">Configuration </a>→</span></p></div></main></div><div class="right-column"><section class="doc-toc"><div class="title">What’s on this page</div><div class="toc-content"><ul><li><a href="/en/enterprise/latest/advanced/http-api.html#interface-security">Interface security</a></li><li><a href="/en/enterprise/latest/advanced/http-api.html#response-code">Response code</a></li><li><a href="/en/enterprise/latest/advanced/http-api.html#api-endpoints">API Endpoints</a></li></ul></div></section></div></div><footer class="main-footer-box has-text-centered-mobile"><div class="container"><div class="columns is-vcentered"><div class="column is-5"><h2 class="m-0 p-0 is-size-3">Subscribe to Our Newsletters</h2></div><div id="form-mail" class="column is-6 is-offset-1 form-mail"><div class="is-flex"><input id="inputEmail" type="email" required="required" name="inputEmail" placeholder="Email" value="" class="form-control mr-4"> <button class="button is-gradient px-5 m-0">Subscribe →</button><p class="sub-tips m-0"></p></div></div></div><hr><div class="columns"><div class="column is-flex-grow-3 is-flex-shrink-0"><div class="is-flex is-flex-direction-column is-justify-content-space-between" style="height:100%"><div class="mb-5"><a href="https://www.emqx.com/en" target="_blank" rel="noopener"><img src="/docs-assets/img/logo.2f824ccf.png" alt="EMQ LOGO" class="logo"></a></div><div><div class="follow-us"><a href="https://github.com/emqx/emqx" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-github"></use></svg></a><a href="https://twitter.com/EMQTech" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-twitter"></use></svg></a><a href="https://www.youtube.com/channel/UC5FjR77ErAxvZENEWzQaO5Q" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-youtube"></use></svg></a><a href="https://www.linkedin.com/company/emqtech" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-linkedin"></use></svg></a></div></div></div></div><ul class="column is-narrow m-0 is-flex-grow-1"><li><h5 class="mt-0 mb-3">Learn</h5></li><li><a href="https://www.emqx.com/en/blog" target="_blank" rel="noopener">Blog</a></li><li><a href="https://www.emqx.com/en/events" target="_blank" rel="noopener">Events</a></li><li><a href="https://www.emqx.com/en/community" target="_blank" rel="noopener">Community</a></li><li><a href="https://www.emqx.com/en/resources" target="_blank" rel="noopener">Resources</a></li></ul><ul class="column is-narrow m-0 is-flex-grow-1"><li><h5 class="mt-0 mb-3">MQTT</h5></li><li><a href="https://www.emqx.com/en/mqtt" target="_blank" rel="noopener">MQTT</a></li><li><a href="https://www.emqx.com/en/mqtt/mqtt5" target="_blank" rel="noopener">MQTT 5</a></li><li><a href="https://www.emqx.com/en/products/mqttx" target="_blank" rel="noopener">MQTT X</a></li><li><a href="https://www.emqx.com/en/mqtt/public-mqtt5-broker" target="_blank" rel="noopener">Public MQTT 5 Broker</a></li><li><a href="https://www.emqx.com/en/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener">MQTT Websocket Toolkit</a></li></ul></div><div class="record-information columns is-gapless is-vcentered is-centered"><div class="column is-narrow"><p class="m-0">© 2022 <a href="https://www.emqx.com/en">EMQ </a>Technologies Inc. All rights reserved</p></div></div></div></footer></section><div id="page-feedback" data-v-5905af3e><div class="feedback-button is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-useful" data-v-5905af3e></use></svg></div><div class="feedback-form" style="display:none" data-v-5905af3e data-v-5905af3e><div class="feedback-header pl-4 is-flex is-align-items-center is-justify-content-space-between" data-v-5905af3e>Was this page useful?<div class="icon-close p-4" style="cursor:pointer" data-v-5905af3e>x</div></div><div class="feedback-body p-4" data-v-5905af3e><div class="is-flex" data-v-5905af3e data-v-67fd37ab data-v-5905af3e><div class="feedback-button like mr-5 is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-useful" data-v-5905af3e></use></svg></div><div class="feedback-button dislike is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-a-notuseful" data-v-5905af3e></use></svg></div></div></div></div></div></div><div class="global-ui"></div></div><script src="/docs-assets/js/app.b7cd69d3.js" defer="defer"></script><script src="/docs-assets/js/3.c47ef470.js" defer="defer"></script><script src="/docs-assets/js/231.a4a7bd32.js" defer="defer"></script></body></html>