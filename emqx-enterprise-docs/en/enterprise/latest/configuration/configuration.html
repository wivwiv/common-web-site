<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Configuration | EMQX Enterprise Documentation</title><meta name="generator" content="VuePress 1.9.5"><link rel="shortcut icon" type="image/x-icon" href="/docs-images/favicon.ico"><script charset="utf-8" src="/iconfont/iconfont.js"></script><script>(function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2990978,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><link rel="canonical" href="https://docs.emqx.com/en/enterprise/latest/configuration/configuration.html"><meta name="docsearch:language" content="en"><meta name="docsearch:product" content="enterprise"><meta name="docsearch:version" content="latest"><meta name="description" content=""><meta property="article:published_time" content="2020-03-03T10:18:36.000Z"><meta property="og:site_name" content="EMQ Documentation"><meta property="og:title" content="Configuration"><meta property="og:type" content="website"><meta property="og:url" content="https://docs.emqx.com/en/enterprise/latest/configuration/configuration.html"><meta name="twitter:title" content="Configuration"><meta name="twitter:url" content="https://docs.emqx.com/en/enterprise/latest/configuration/configuration.html"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@EMQTech"><meta name="twitter:creator" content="@EMQTech"><meta name="twitter:image" content="https://www.emqx.com/images/logo_512.png"><meta name="twitter:image:alt" content="EMQ LOGO"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta property="og:image" content="https://www.emqx.com/images/logo_512.png"><link rel="preload" href="/docs-assets/css/0.styles.30944fa5.css" as="style"><link rel="preload" href="/docs-assets/js/app.b7cd69d3.js" as="script"><link rel="preload" href="/docs-assets/js/3.c47ef470.js" as="script"><link rel="preload" href="/docs-assets/js/265.9b5495c2.js" as="script"><link rel="prefetch" href="/docs-assets/js/10.f29dcc50.js"><link rel="prefetch" href="/docs-assets/js/100.dd92377e.js"><link rel="prefetch" href="/docs-assets/js/101.78f9bf06.js"><link rel="prefetch" href="/docs-assets/js/102.da58783f.js"><link rel="prefetch" href="/docs-assets/js/103.67a9f630.js"><link rel="prefetch" href="/docs-assets/js/104.7ae47f4c.js"><link rel="prefetch" href="/docs-assets/js/105.585f69dd.js"><link rel="prefetch" href="/docs-assets/js/106.4f8743a7.js"><link rel="prefetch" href="/docs-assets/js/107.fdb81ce0.js"><link rel="prefetch" href="/docs-assets/js/108.558f79eb.js"><link rel="prefetch" href="/docs-assets/js/109.92ec90f3.js"><link rel="prefetch" href="/docs-assets/js/11.083a4a72.js"><link rel="prefetch" href="/docs-assets/js/110.12497c8c.js"><link rel="prefetch" href="/docs-assets/js/111.da4e0d0f.js"><link rel="prefetch" href="/docs-assets/js/112.3baa2211.js"><link rel="prefetch" href="/docs-assets/js/113.1930bc2f.js"><link rel="prefetch" href="/docs-assets/js/114.fa7d5a17.js"><link rel="prefetch" href="/docs-assets/js/115.efdd3556.js"><link rel="prefetch" href="/docs-assets/js/116.acc50eaa.js"><link rel="prefetch" href="/docs-assets/js/117.be3006ad.js"><link rel="prefetch" href="/docs-assets/js/118.0e83888a.js"><link rel="prefetch" href="/docs-assets/js/119.9397114a.js"><link rel="prefetch" href="/docs-assets/js/12.26a38211.js"><link rel="prefetch" href="/docs-assets/js/120.63b3749f.js"><link rel="prefetch" href="/docs-assets/js/121.2a407f9c.js"><link rel="prefetch" href="/docs-assets/js/122.586f2a64.js"><link rel="prefetch" href="/docs-assets/js/123.1311da6e.js"><link rel="prefetch" href="/docs-assets/js/124.0c9e0192.js"><link rel="prefetch" href="/docs-assets/js/125.32b010bd.js"><link rel="prefetch" href="/docs-assets/js/126.52283988.js"><link rel="prefetch" href="/docs-assets/js/127.ee1bc25a.js"><link rel="prefetch" href="/docs-assets/js/128.a5357be3.js"><link rel="prefetch" href="/docs-assets/js/129.e00317a6.js"><link rel="prefetch" href="/docs-assets/js/13.67a3210f.js"><link rel="prefetch" href="/docs-assets/js/130.594772f8.js"><link rel="prefetch" href="/docs-assets/js/131.84acbc82.js"><link rel="prefetch" href="/docs-assets/js/132.52786b4f.js"><link rel="prefetch" href="/docs-assets/js/133.13489431.js"><link rel="prefetch" href="/docs-assets/js/134.07f54db1.js"><link rel="prefetch" href="/docs-assets/js/135.b66135b0.js"><link rel="prefetch" href="/docs-assets/js/136.63cc897d.js"><link rel="prefetch" href="/docs-assets/js/137.f4a7dfb5.js"><link rel="prefetch" href="/docs-assets/js/138.be3bce65.js"><link rel="prefetch" href="/docs-assets/js/139.1e1aa551.js"><link rel="prefetch" href="/docs-assets/js/14.e55026e6.js"><link rel="prefetch" href="/docs-assets/js/140.e5495a15.js"><link rel="prefetch" href="/docs-assets/js/141.36451d38.js"><link rel="prefetch" href="/docs-assets/js/142.a458abf0.js"><link rel="prefetch" href="/docs-assets/js/143.7fba9b1f.js"><link rel="prefetch" href="/docs-assets/js/144.7f31b83b.js"><link rel="prefetch" href="/docs-assets/js/145.13d03034.js"><link rel="prefetch" href="/docs-assets/js/146.ae05364a.js"><link rel="prefetch" href="/docs-assets/js/147.680be9e1.js"><link rel="prefetch" href="/docs-assets/js/148.ce47f123.js"><link rel="prefetch" href="/docs-assets/js/149.d0a6cbee.js"><link rel="prefetch" href="/docs-assets/js/15.b43872d6.js"><link rel="prefetch" href="/docs-assets/js/150.77a52459.js"><link rel="prefetch" href="/docs-assets/js/151.9a55ba76.js"><link rel="prefetch" href="/docs-assets/js/152.4f9d25bd.js"><link rel="prefetch" href="/docs-assets/js/153.09850384.js"><link rel="prefetch" href="/docs-assets/js/154.1dc45a79.js"><link rel="prefetch" href="/docs-assets/js/155.9a359e42.js"><link rel="prefetch" href="/docs-assets/js/156.7ba55f53.js"><link rel="prefetch" href="/docs-assets/js/157.e500b8f1.js"><link rel="prefetch" href="/docs-assets/js/158.bcd425a4.js"><link rel="prefetch" href="/docs-assets/js/159.6368dfe6.js"><link rel="prefetch" href="/docs-assets/js/16.4d03b0a1.js"><link rel="prefetch" href="/docs-assets/js/160.9e48a572.js"><link rel="prefetch" href="/docs-assets/js/161.f3dcccdd.js"><link rel="prefetch" href="/docs-assets/js/162.a1b92f78.js"><link rel="prefetch" href="/docs-assets/js/163.30810611.js"><link rel="prefetch" href="/docs-assets/js/164.92cf62a0.js"><link rel="prefetch" href="/docs-assets/js/165.b109198f.js"><link rel="prefetch" href="/docs-assets/js/166.c1c56c9c.js"><link rel="prefetch" href="/docs-assets/js/167.2b9fcf6b.js"><link rel="prefetch" href="/docs-assets/js/168.438de5ea.js"><link rel="prefetch" href="/docs-assets/js/169.17eca1f9.js"><link rel="prefetch" href="/docs-assets/js/17.03930327.js"><link rel="prefetch" href="/docs-assets/js/170.9c2b8948.js"><link rel="prefetch" href="/docs-assets/js/171.1da77852.js"><link rel="prefetch" href="/docs-assets/js/172.bbbed780.js"><link rel="prefetch" href="/docs-assets/js/173.4b52ceac.js"><link rel="prefetch" href="/docs-assets/js/174.ba851c2b.js"><link rel="prefetch" href="/docs-assets/js/175.bd0753e3.js"><link rel="prefetch" href="/docs-assets/js/176.9f9a531c.js"><link rel="prefetch" href="/docs-assets/js/177.54749349.js"><link rel="prefetch" href="/docs-assets/js/178.7cf859ad.js"><link rel="prefetch" href="/docs-assets/js/179.23420125.js"><link rel="prefetch" href="/docs-assets/js/18.f0220ae4.js"><link rel="prefetch" href="/docs-assets/js/180.40667bcc.js"><link rel="prefetch" href="/docs-assets/js/181.02e71c69.js"><link rel="prefetch" href="/docs-assets/js/182.9bafc9d4.js"><link rel="prefetch" href="/docs-assets/js/183.27654d6f.js"><link rel="prefetch" href="/docs-assets/js/184.97970dca.js"><link rel="prefetch" href="/docs-assets/js/185.3dc227ac.js"><link rel="prefetch" href="/docs-assets/js/186.8cdd4af3.js"><link rel="prefetch" href="/docs-assets/js/187.28fce18a.js"><link rel="prefetch" href="/docs-assets/js/188.aa7ddb18.js"><link rel="prefetch" href="/docs-assets/js/189.4f2922e4.js"><link rel="prefetch" href="/docs-assets/js/19.39913ede.js"><link rel="prefetch" href="/docs-assets/js/190.34eb1d55.js"><link rel="prefetch" href="/docs-assets/js/191.e03a425e.js"><link rel="prefetch" href="/docs-assets/js/192.bd1acf00.js"><link rel="prefetch" href="/docs-assets/js/193.e14d3047.js"><link rel="prefetch" href="/docs-assets/js/194.7a3e2b42.js"><link rel="prefetch" href="/docs-assets/js/195.9d89248e.js"><link rel="prefetch" href="/docs-assets/js/196.27533146.js"><link rel="prefetch" href="/docs-assets/js/197.1053cd54.js"><link rel="prefetch" href="/docs-assets/js/198.7ad276db.js"><link rel="prefetch" href="/docs-assets/js/199.f0f1e866.js"><link rel="prefetch" href="/docs-assets/js/20.ef31760a.js"><link rel="prefetch" href="/docs-assets/js/200.ce70b113.js"><link rel="prefetch" href="/docs-assets/js/201.8a77459b.js"><link rel="prefetch" href="/docs-assets/js/202.2d04aea2.js"><link rel="prefetch" href="/docs-assets/js/203.a66483ec.js"><link rel="prefetch" href="/docs-assets/js/204.85007508.js"><link rel="prefetch" href="/docs-assets/js/205.e0be02e9.js"><link rel="prefetch" href="/docs-assets/js/206.37f4ce0b.js"><link rel="prefetch" href="/docs-assets/js/207.72ad87ee.js"><link rel="prefetch" href="/docs-assets/js/208.5256ee05.js"><link rel="prefetch" href="/docs-assets/js/209.85ec5717.js"><link rel="prefetch" href="/docs-assets/js/21.00ea2b19.js"><link rel="prefetch" href="/docs-assets/js/210.ced1c111.js"><link rel="prefetch" href="/docs-assets/js/211.a4c0c6e9.js"><link rel="prefetch" href="/docs-assets/js/212.a8a13a61.js"><link rel="prefetch" href="/docs-assets/js/213.45f15a16.js"><link rel="prefetch" href="/docs-assets/js/214.0f5ff96a.js"><link rel="prefetch" href="/docs-assets/js/215.0697a4d3.js"><link rel="prefetch" href="/docs-assets/js/216.82e22dd2.js"><link rel="prefetch" href="/docs-assets/js/217.c29f2bed.js"><link rel="prefetch" href="/docs-assets/js/218.9e396e7e.js"><link rel="prefetch" href="/docs-assets/js/219.4ac9567c.js"><link rel="prefetch" href="/docs-assets/js/22.e05ef252.js"><link rel="prefetch" href="/docs-assets/js/220.86603c72.js"><link rel="prefetch" href="/docs-assets/js/221.f1c0fda9.js"><link rel="prefetch" href="/docs-assets/js/222.b6b66b71.js"><link rel="prefetch" href="/docs-assets/js/223.671b3424.js"><link rel="prefetch" href="/docs-assets/js/224.e05f5dc7.js"><link rel="prefetch" href="/docs-assets/js/225.affa812b.js"><link rel="prefetch" href="/docs-assets/js/226.1e077ce4.js"><link rel="prefetch" href="/docs-assets/js/227.0a09d92c.js"><link rel="prefetch" href="/docs-assets/js/228.46bcc2b0.js"><link rel="prefetch" href="/docs-assets/js/229.aca259b7.js"><link rel="prefetch" href="/docs-assets/js/23.b970ad64.js"><link rel="prefetch" href="/docs-assets/js/230.ff6dbb9d.js"><link rel="prefetch" href="/docs-assets/js/231.a4a7bd32.js"><link rel="prefetch" href="/docs-assets/js/232.b6c5133e.js"><link rel="prefetch" href="/docs-assets/js/233.3a8e1d11.js"><link rel="prefetch" href="/docs-assets/js/234.de1007c8.js"><link rel="prefetch" href="/docs-assets/js/235.7edb49aa.js"><link rel="prefetch" href="/docs-assets/js/236.2f5ffe6d.js"><link rel="prefetch" href="/docs-assets/js/237.3c3a4015.js"><link rel="prefetch" href="/docs-assets/js/238.c71e6dab.js"><link rel="prefetch" href="/docs-assets/js/239.bb0ad5b4.js"><link rel="prefetch" href="/docs-assets/js/24.02c167f7.js"><link rel="prefetch" href="/docs-assets/js/240.0abf517a.js"><link rel="prefetch" href="/docs-assets/js/241.bc4c0d21.js"><link rel="prefetch" href="/docs-assets/js/242.bc1e8adc.js"><link rel="prefetch" href="/docs-assets/js/243.6bce5fb4.js"><link rel="prefetch" href="/docs-assets/js/244.2df022e5.js"><link rel="prefetch" href="/docs-assets/js/245.3ea32d2d.js"><link rel="prefetch" href="/docs-assets/js/246.11e84e89.js"><link rel="prefetch" href="/docs-assets/js/247.df6099af.js"><link rel="prefetch" href="/docs-assets/js/248.8260b85a.js"><link rel="prefetch" href="/docs-assets/js/249.e890cfe3.js"><link rel="prefetch" href="/docs-assets/js/25.b3fcd6ca.js"><link rel="prefetch" href="/docs-assets/js/250.facd3fa7.js"><link rel="prefetch" href="/docs-assets/js/251.e36e3399.js"><link rel="prefetch" href="/docs-assets/js/252.8a625b39.js"><link rel="prefetch" href="/docs-assets/js/253.007f05e9.js"><link rel="prefetch" href="/docs-assets/js/254.2cb6f7a2.js"><link rel="prefetch" href="/docs-assets/js/255.b4f3813e.js"><link rel="prefetch" href="/docs-assets/js/256.fffd7209.js"><link rel="prefetch" href="/docs-assets/js/257.d9ac57f4.js"><link rel="prefetch" href="/docs-assets/js/258.0700a557.js"><link rel="prefetch" href="/docs-assets/js/259.8a5858a6.js"><link rel="prefetch" href="/docs-assets/js/26.0f75e19a.js"><link rel="prefetch" href="/docs-assets/js/260.a809aed3.js"><link rel="prefetch" href="/docs-assets/js/261.d21b6b81.js"><link rel="prefetch" href="/docs-assets/js/262.2062a4e9.js"><link rel="prefetch" href="/docs-assets/js/263.1018d506.js"><link rel="prefetch" href="/docs-assets/js/264.36d57f69.js"><link rel="prefetch" href="/docs-assets/js/266.2c079d26.js"><link rel="prefetch" href="/docs-assets/js/267.6f36646a.js"><link rel="prefetch" href="/docs-assets/js/268.3f03dce5.js"><link rel="prefetch" href="/docs-assets/js/269.7dbdae40.js"><link rel="prefetch" href="/docs-assets/js/27.bebc426d.js"><link rel="prefetch" href="/docs-assets/js/270.1b0a2a2c.js"><link rel="prefetch" href="/docs-assets/js/271.0656f13c.js"><link rel="prefetch" href="/docs-assets/js/272.c0edf60a.js"><link rel="prefetch" href="/docs-assets/js/273.3f27696c.js"><link rel="prefetch" href="/docs-assets/js/274.3a4f3e48.js"><link rel="prefetch" href="/docs-assets/js/275.89c1492c.js"><link rel="prefetch" href="/docs-assets/js/276.58983e8f.js"><link rel="prefetch" href="/docs-assets/js/277.0e090c7c.js"><link rel="prefetch" href="/docs-assets/js/278.199b778e.js"><link rel="prefetch" href="/docs-assets/js/279.809596de.js"><link rel="prefetch" href="/docs-assets/js/28.1316cd4e.js"><link rel="prefetch" href="/docs-assets/js/280.d99f4249.js"><link rel="prefetch" href="/docs-assets/js/281.e024c926.js"><link rel="prefetch" href="/docs-assets/js/282.0f1eaab2.js"><link rel="prefetch" href="/docs-assets/js/283.97a2d0ed.js"><link rel="prefetch" href="/docs-assets/js/284.84a935fe.js"><link rel="prefetch" href="/docs-assets/js/285.122d36dd.js"><link rel="prefetch" href="/docs-assets/js/286.db56a688.js"><link rel="prefetch" href="/docs-assets/js/287.76e2ce08.js"><link rel="prefetch" href="/docs-assets/js/288.ec414008.js"><link rel="prefetch" href="/docs-assets/js/289.68639c80.js"><link rel="prefetch" href="/docs-assets/js/29.e6dcffb4.js"><link rel="prefetch" href="/docs-assets/js/290.f49b8cb4.js"><link rel="prefetch" href="/docs-assets/js/291.676417fb.js"><link rel="prefetch" href="/docs-assets/js/292.24c6f690.js"><link rel="prefetch" href="/docs-assets/js/293.c06e0ff8.js"><link rel="prefetch" href="/docs-assets/js/294.170a69da.js"><link rel="prefetch" href="/docs-assets/js/295.9ddbea1e.js"><link rel="prefetch" href="/docs-assets/js/296.24631c70.js"><link rel="prefetch" href="/docs-assets/js/297.b9fa8707.js"><link rel="prefetch" href="/docs-assets/js/298.c9c8fffb.js"><link rel="prefetch" href="/docs-assets/js/299.b716ee66.js"><link rel="prefetch" href="/docs-assets/js/30.c338ac22.js"><link rel="prefetch" href="/docs-assets/js/300.a6f08c7d.js"><link rel="prefetch" href="/docs-assets/js/301.dee917bb.js"><link rel="prefetch" href="/docs-assets/js/302.d877ec00.js"><link rel="prefetch" href="/docs-assets/js/303.14c8d664.js"><link rel="prefetch" href="/docs-assets/js/304.0cb77bd1.js"><link rel="prefetch" href="/docs-assets/js/305.c167fc56.js"><link rel="prefetch" href="/docs-assets/js/306.878256db.js"><link rel="prefetch" href="/docs-assets/js/307.3986064d.js"><link rel="prefetch" href="/docs-assets/js/308.07c2c6e6.js"><link rel="prefetch" href="/docs-assets/js/309.2537f38b.js"><link rel="prefetch" href="/docs-assets/js/31.01d6777f.js"><link rel="prefetch" href="/docs-assets/js/310.2267e9e6.js"><link rel="prefetch" href="/docs-assets/js/311.3e2f8bbd.js"><link rel="prefetch" href="/docs-assets/js/312.d1343933.js"><link rel="prefetch" href="/docs-assets/js/313.93dd5b8e.js"><link rel="prefetch" href="/docs-assets/js/314.e4b2a890.js"><link rel="prefetch" href="/docs-assets/js/315.0fc668b4.js"><link rel="prefetch" href="/docs-assets/js/316.aadfb9cb.js"><link rel="prefetch" href="/docs-assets/js/317.b089a4c1.js"><link rel="prefetch" href="/docs-assets/js/318.fd94a0bf.js"><link rel="prefetch" href="/docs-assets/js/319.cde27122.js"><link rel="prefetch" href="/docs-assets/js/32.9edae42d.js"><link rel="prefetch" href="/docs-assets/js/320.64753f43.js"><link rel="prefetch" href="/docs-assets/js/321.0b4fe303.js"><link rel="prefetch" href="/docs-assets/js/322.0fedd97a.js"><link rel="prefetch" href="/docs-assets/js/323.bf5a8ac4.js"><link rel="prefetch" href="/docs-assets/js/324.48dff3ae.js"><link rel="prefetch" href="/docs-assets/js/325.583fb8f8.js"><link rel="prefetch" href="/docs-assets/js/326.61a5b107.js"><link rel="prefetch" href="/docs-assets/js/327.ec4c95b8.js"><link rel="prefetch" href="/docs-assets/js/328.f0056afc.js"><link rel="prefetch" href="/docs-assets/js/329.88f423a1.js"><link rel="prefetch" href="/docs-assets/js/33.eacf3cf6.js"><link rel="prefetch" href="/docs-assets/js/330.81cdfccb.js"><link rel="prefetch" href="/docs-assets/js/331.1681668a.js"><link rel="prefetch" href="/docs-assets/js/332.3c60599b.js"><link rel="prefetch" href="/docs-assets/js/333.fd6d1c99.js"><link rel="prefetch" href="/docs-assets/js/334.90792fb5.js"><link rel="prefetch" href="/docs-assets/js/335.6fca3dfd.js"><link rel="prefetch" href="/docs-assets/js/336.81429528.js"><link rel="prefetch" href="/docs-assets/js/337.b67fae0f.js"><link rel="prefetch" href="/docs-assets/js/338.58245c79.js"><link rel="prefetch" href="/docs-assets/js/339.c007c6d3.js"><link rel="prefetch" href="/docs-assets/js/34.31f57889.js"><link rel="prefetch" href="/docs-assets/js/340.1116c6cd.js"><link rel="prefetch" href="/docs-assets/js/341.37f67dfa.js"><link rel="prefetch" href="/docs-assets/js/342.7fc36b6b.js"><link rel="prefetch" href="/docs-assets/js/343.74a4d89b.js"><link rel="prefetch" href="/docs-assets/js/344.d074b240.js"><link rel="prefetch" href="/docs-assets/js/345.5f0932b2.js"><link rel="prefetch" href="/docs-assets/js/346.061ef3f1.js"><link rel="prefetch" href="/docs-assets/js/347.9ac1ec3c.js"><link rel="prefetch" href="/docs-assets/js/348.3ee40dc5.js"><link rel="prefetch" href="/docs-assets/js/349.8c68cde1.js"><link rel="prefetch" href="/docs-assets/js/35.0d03d0be.js"><link rel="prefetch" href="/docs-assets/js/350.8f48f6ac.js"><link rel="prefetch" href="/docs-assets/js/351.fa0625bf.js"><link rel="prefetch" href="/docs-assets/js/352.4a703890.js"><link rel="prefetch" href="/docs-assets/js/353.5648c15e.js"><link rel="prefetch" href="/docs-assets/js/354.03eab3a6.js"><link rel="prefetch" href="/docs-assets/js/355.b07eb924.js"><link rel="prefetch" href="/docs-assets/js/356.81e4e0e2.js"><link rel="prefetch" href="/docs-assets/js/357.b85b42cc.js"><link rel="prefetch" href="/docs-assets/js/358.f1cd6481.js"><link rel="prefetch" href="/docs-assets/js/359.8f878573.js"><link rel="prefetch" href="/docs-assets/js/36.59740493.js"><link rel="prefetch" href="/docs-assets/js/360.ee7d63e5.js"><link rel="prefetch" href="/docs-assets/js/361.ad18a784.js"><link rel="prefetch" href="/docs-assets/js/362.29af9ba0.js"><link rel="prefetch" href="/docs-assets/js/363.57c6d6ba.js"><link rel="prefetch" href="/docs-assets/js/364.deddb5f2.js"><link rel="prefetch" href="/docs-assets/js/365.fd90695b.js"><link rel="prefetch" href="/docs-assets/js/366.8a53ab25.js"><link rel="prefetch" href="/docs-assets/js/367.b556b183.js"><link rel="prefetch" href="/docs-assets/js/368.47e932a8.js"><link rel="prefetch" href="/docs-assets/js/369.358ea7c2.js"><link rel="prefetch" href="/docs-assets/js/37.e09d11ea.js"><link rel="prefetch" href="/docs-assets/js/370.8ea32d4d.js"><link rel="prefetch" href="/docs-assets/js/371.ecf2fd00.js"><link rel="prefetch" href="/docs-assets/js/372.a4e4d233.js"><link rel="prefetch" href="/docs-assets/js/373.c656b9aa.js"><link rel="prefetch" href="/docs-assets/js/374.5473cf7b.js"><link rel="prefetch" href="/docs-assets/js/375.346dacd3.js"><link rel="prefetch" href="/docs-assets/js/376.61ee0bd6.js"><link rel="prefetch" href="/docs-assets/js/377.21b57da3.js"><link rel="prefetch" href="/docs-assets/js/378.9d56e7fb.js"><link rel="prefetch" href="/docs-assets/js/379.bbd5b5f5.js"><link rel="prefetch" href="/docs-assets/js/38.088dc592.js"><link rel="prefetch" href="/docs-assets/js/380.1e3dc360.js"><link rel="prefetch" href="/docs-assets/js/381.d56e1306.js"><link rel="prefetch" href="/docs-assets/js/382.ad1d7295.js"><link rel="prefetch" href="/docs-assets/js/383.e00cda22.js"><link rel="prefetch" href="/docs-assets/js/384.2a8f70fb.js"><link rel="prefetch" href="/docs-assets/js/385.6977ff59.js"><link rel="prefetch" href="/docs-assets/js/386.fbfe7af2.js"><link rel="prefetch" href="/docs-assets/js/387.3f273551.js"><link rel="prefetch" href="/docs-assets/js/388.f74ee3fd.js"><link rel="prefetch" href="/docs-assets/js/389.99b5aa92.js"><link rel="prefetch" href="/docs-assets/js/39.fd3bb8e6.js"><link rel="prefetch" href="/docs-assets/js/390.51dcaf05.js"><link rel="prefetch" href="/docs-assets/js/391.5ee7808b.js"><link rel="prefetch" href="/docs-assets/js/392.dec95fa3.js"><link rel="prefetch" href="/docs-assets/js/393.b8eed71c.js"><link rel="prefetch" href="/docs-assets/js/394.1a060866.js"><link rel="prefetch" href="/docs-assets/js/395.f48e4dd6.js"><link rel="prefetch" href="/docs-assets/js/396.c524e7c6.js"><link rel="prefetch" href="/docs-assets/js/4.a1e74be4.js"><link rel="prefetch" href="/docs-assets/js/40.7b386dbc.js"><link rel="prefetch" href="/docs-assets/js/41.86deacd2.js"><link rel="prefetch" href="/docs-assets/js/42.fb9f4c36.js"><link rel="prefetch" href="/docs-assets/js/43.c1bed7b3.js"><link rel="prefetch" href="/docs-assets/js/44.a1893887.js"><link rel="prefetch" href="/docs-assets/js/45.79b33f50.js"><link rel="prefetch" href="/docs-assets/js/46.40696e48.js"><link rel="prefetch" href="/docs-assets/js/47.f30af45e.js"><link rel="prefetch" href="/docs-assets/js/48.d05e3936.js"><link rel="prefetch" href="/docs-assets/js/49.afe70461.js"><link rel="prefetch" href="/docs-assets/js/5.f0952d74.js"><link rel="prefetch" href="/docs-assets/js/50.9a541881.js"><link rel="prefetch" href="/docs-assets/js/51.6b58bbfc.js"><link rel="prefetch" href="/docs-assets/js/52.40384b24.js"><link rel="prefetch" href="/docs-assets/js/53.5212e36a.js"><link rel="prefetch" href="/docs-assets/js/54.28869319.js"><link rel="prefetch" href="/docs-assets/js/55.ecbb97bd.js"><link rel="prefetch" href="/docs-assets/js/56.c4231b6e.js"><link rel="prefetch" href="/docs-assets/js/57.384e1869.js"><link rel="prefetch" href="/docs-assets/js/58.991a7a71.js"><link rel="prefetch" href="/docs-assets/js/59.ee063ac4.js"><link rel="prefetch" href="/docs-assets/js/6.4bc70364.js"><link rel="prefetch" href="/docs-assets/js/60.169b2312.js"><link rel="prefetch" href="/docs-assets/js/61.d27d1edb.js"><link rel="prefetch" href="/docs-assets/js/62.61447363.js"><link rel="prefetch" href="/docs-assets/js/63.215b79aa.js"><link rel="prefetch" href="/docs-assets/js/64.5de7dff1.js"><link rel="prefetch" href="/docs-assets/js/65.7b9e5721.js"><link rel="prefetch" href="/docs-assets/js/66.e8970081.js"><link rel="prefetch" href="/docs-assets/js/67.e10a1714.js"><link rel="prefetch" href="/docs-assets/js/68.058f817d.js"><link rel="prefetch" href="/docs-assets/js/69.a5831684.js"><link rel="prefetch" href="/docs-assets/js/7.b1bc1fcb.js"><link rel="prefetch" href="/docs-assets/js/70.d31144da.js"><link rel="prefetch" href="/docs-assets/js/71.4cb7fb4e.js"><link rel="prefetch" href="/docs-assets/js/72.1f442e2f.js"><link rel="prefetch" href="/docs-assets/js/73.369cecf9.js"><link rel="prefetch" href="/docs-assets/js/74.6ed49d5f.js"><link rel="prefetch" href="/docs-assets/js/75.311ab350.js"><link rel="prefetch" href="/docs-assets/js/76.5259b1cd.js"><link rel="prefetch" href="/docs-assets/js/77.c9132725.js"><link rel="prefetch" href="/docs-assets/js/78.831cee1c.js"><link rel="prefetch" href="/docs-assets/js/79.7bb5bf5f.js"><link rel="prefetch" href="/docs-assets/js/8.fdbf461c.js"><link rel="prefetch" href="/docs-assets/js/80.12208427.js"><link rel="prefetch" href="/docs-assets/js/81.3ce772a8.js"><link rel="prefetch" href="/docs-assets/js/82.1cbb4427.js"><link rel="prefetch" href="/docs-assets/js/83.688291d6.js"><link rel="prefetch" href="/docs-assets/js/84.1be74fbf.js"><link rel="prefetch" href="/docs-assets/js/85.61c71caa.js"><link rel="prefetch" href="/docs-assets/js/86.61fc591c.js"><link rel="prefetch" href="/docs-assets/js/87.11fd30b6.js"><link rel="prefetch" href="/docs-assets/js/88.14dc901b.js"><link rel="prefetch" href="/docs-assets/js/89.e9a88dd8.js"><link rel="prefetch" href="/docs-assets/js/9.51dd7e81.js"><link rel="prefetch" href="/docs-assets/js/90.1a3451d4.js"><link rel="prefetch" href="/docs-assets/js/91.fea72d57.js"><link rel="prefetch" href="/docs-assets/js/92.101bd0bc.js"><link rel="prefetch" href="/docs-assets/js/93.cbbe6d67.js"><link rel="prefetch" href="/docs-assets/js/94.58a5efb3.js"><link rel="prefetch" href="/docs-assets/js/95.bb44c04a.js"><link rel="prefetch" href="/docs-assets/js/96.ea5a4fb3.js"><link rel="prefetch" href="/docs-assets/js/97.021cdaf5.js"><link rel="prefetch" href="/docs-assets/js/98.63fdd87e.js"><link rel="prefetch" href="/docs-assets/js/99.950ba3fb.js"><link rel="prefetch" href="/docs-assets/js/vendors~docsearch.92b608d1.js"><link rel="stylesheet" href="/docs-assets/css/0.styles.30944fa5.css"></head><body><div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><div class="navbar-left"><a href="/en/" class="home-link"><img src="/docs-images/logo.png" alt="IoT MQTT Broker Documentations" class="logo"> <span class="site-name can-hide">Docs</span></a><div class="lang-change"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">English </span><span class="arrow down"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="router-link-active nav-link active">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link">中文</a></li></ul></div></div></div><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="navbar-algolia-input" class="search-query"></form><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.emqx.com/en/events" target="_blank" rel="noopener noreferrer" class="nav-link external">Events</a></div><div class="nav-item"><a href="https://www.emqx.com/en/community" target="_blank" rel="noopener noreferrer" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn" class="dropdown-title"><span class="title">Learn</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn" class="mobile-dropdown-title"><span class="title">Learn</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">Blog</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=videos" target="_blank" rel="noopener noreferrer" class="nav-link external">Videos</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=ebooks" target="_blank" rel="noopener noreferrer" class="nav-link external">eBooks</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=reports" target="_blank" rel="noopener noreferrer" class="nav-link external">Reports</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=white-papers" target="_blank" rel="noopener noreferrer" class="nav-link external">White Papers</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQTT" class="dropdown-title"><span class="title">MQTT</span> <span class="arrow down"></span></button> <button type="button" aria-label="MQTT" class="mobile-dropdown-title"><span class="title">MQTT</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt5" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT 5</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/products/mqttx" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT X</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/public-mqtt5-broker" target="_blank" rel="noopener noreferrer" class="nav-link external">Public MQTT 5 Broker</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT Websocket Toolkit</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link">中文</a></li></ul></div></div><div class="btns"><a href="https://www.emqx.com/en/contact?product=emqx" target="_blank" rel="noopener" class="contact-us nav-item">Contact Us </a><a href="https://www.emqx.com/en/try?product=enterprise" target="_blank" rel="noopener" class="downloads nav-item">Try Free</a></div></nav></div></header><div class="sidebar-mask"></div><section class="main-box"><div class="columns is-mobile"><aside class="left-column sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.emqx.com/en/events" target="_blank" rel="noopener noreferrer" class="nav-link external">Events</a></div><div class="nav-item"><a href="https://www.emqx.com/en/community" target="_blank" rel="noopener noreferrer" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn" class="dropdown-title"><span class="title">Learn</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn" class="mobile-dropdown-title"><span class="title">Learn</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">Blog</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=videos" target="_blank" rel="noopener noreferrer" class="nav-link external">Videos</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=ebooks" target="_blank" rel="noopener noreferrer" class="nav-link external">eBooks</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=reports" target="_blank" rel="noopener noreferrer" class="nav-link external">Reports</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/resources?type=white-papers" target="_blank" rel="noopener noreferrer" class="nav-link external">White Papers</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQTT" class="dropdown-title"><span class="title">MQTT</span> <span class="arrow down"></span></button> <button type="button" aria-label="MQTT" class="mobile-dropdown-title"><span class="title">MQTT</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt5" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT 5</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/products/mqttx" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT X</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/public-mqtt5-broker" target="_blank" rel="noopener noreferrer" class="nav-link external">Public MQTT 5 Broker</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener noreferrer" class="nav-link external">MQTT Websocket Toolkit</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/en/enterprise/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/zh/enterprise/latest/" class="nav-link">中文</a></li></ul></div></div><div class="btns"><a href="https://www.emqx.com/en/contact?product=emqx" target="_blank" rel="noopener" class="contact-us nav-item">Contact Us </a><a href="https://www.emqx.com/en/try?product=enterprise" target="_blank" rel="noopener" class="downloads nav-item">Try Free</a></div></nav><div class="version-pick"><a href="/en/enterprise/latest" class="home-link router-link-active"><h2 class="title p-0 is-flex is-align-items-center"><svg aria-hidden="true" class="icon mr-2"><use xlink:href="#icon-enterprise"></use></svg> EMQX Enterprise</h2></a><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">latest </span><span class="arrow down"></span></button></div></div><ul class="sidebar-links"><li><a href="/en/enterprise/latest/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Get Started</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>User Guide</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rule Engine</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p></section></li><li><a href="/en/enterprise/latest/advanced/http-api.html" class="sidebar-link">HTTP API</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html" aria-current="page" class="active sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#cluster" class="sidebar-link">Cluster</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#authacl" class="sidebar-link">authacl</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#broker-perf-route-lock-type-key" class="sidebar-link">broker.perf.routelocktype = key</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#broker-perf-trie-compaction-true" class="sidebar-link">broker.perf.trie_compaction = true</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#monitor" class="sidebar-link">monitor</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-http" class="sidebar-link">Plugin emqx_auth_http</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-jwt" class="sidebar-link">Plugin emqx_auth_jwt</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-ldap" class="sidebar-link">Plugin emqx_auth_ldap</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-mongo" class="sidebar-link">Plugin emqx_auth_mongo</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-mysql" class="sidebar-link">Plugin emqx_auth_mysql</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-pgsql" class="sidebar-link">Plugin emqx_auth_pgsql</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-redis" class="sidebar-link">Plugin emqx_auth_redis</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-bridge-mqtt" class="sidebar-link">Plugin emqx_bridge_mqtt</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-coap" class="sidebar-link">Plugin emqx_coap</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-dashboard" class="sidebar-link">Plugin emqx_dashboard</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-lwm2m" class="sidebar-link">Plugin emqx_lwm2m</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-management" class="sidebar-link">Plugin emqx_management</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-retainer" class="sidebar-link">Plugin emqx_retainer</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-rule-engine" class="sidebar-link">Plugin emqx_rule_engine</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-sn" class="sidebar-link">Plugin emqx_sn</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-statsd" class="sidebar-link">Plugin emqx_statsd</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-stomp" class="sidebar-link">Plugin emqx_stomp</a></li><li class="sidebar-sub-header"><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-web-hook" class="sidebar-link">Plugin emqx_web_hook</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Command</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SDK &amp; Tools</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Changes</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resource</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Protocol Introduction</span> <span class="arrow right"></span></p></section></li></ul></aside><div class="column col-page"><main class="page"><div id="loader-wrapper" style="display:none" data-v-78d8edea><div class="loader" data-v-78d8edea><div class="ball-spin-fade-loader" data-v-78d8edea><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div></div></div></div><div class="theme-default-content reset-width content__default"><h1 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h1><h2 id="cluster"><a href="#cluster" class="header-anchor">#</a> Cluster</h2><h3 id="cluster-name"><a href="#cluster-name" class="header-anchor">#</a> cluster.name</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>emqxcl</code></td></tr></tbody></table><h4 id="description"><a href="#description" class="header-anchor">#</a> Description</h4><p>Cluster name.</p><h3 id="cluster-proto-dist"><a href="#cluster-proto-dist" class="header-anchor">#</a> cluster.proto_dist</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>inet_tcp</code>, <code>inet6_tcp</code>, <code>inet_tls</code></td><td><code>inet_tcp</code></td></tr></tbody></table><h4 id="description-2"><a href="#description-2" class="header-anchor">#</a> Description</h4><p>Distributed Erlang cluster protocol type. Available values are:</p><ul><li><code>inet_tcp</code>: using IPv4</li><li><code>inet6_tcp</code>: using IPv6</li><li><code>inet_tls</code>: using TLS, required to be used with <code>node.ssl_dist_optfile</code> configuration</li></ul><h3 id="cluster-discovery"><a href="#cluster-discovery" class="header-anchor">#</a> cluster.discovery</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>manual</code>, <code>static</code>, <code>mcast</code>, <code>dns</code>, <code>etcd</code>, <code>k8s</code></td><td><code>manual</code></td></tr></tbody></table><h4 id="description-3"><a href="#description-3" class="header-anchor">#</a> Description</h4><p>Cluster node discovery method. Available values are:</p><ul><li><code>manual</code>: join the cluster manually</li><li><code>static</code>: Configure static nodes. Configure several fixed nodes, and the new node joins the cluster by connecting one of the fixed nodes.</li><li><code>mcast</code>: Use UDP multicast to discover nodes.</li><li><code>dns</code>: Use DNS A records to discover nodes.</li><li><code>etcd</code>: Use etcd to discover nodes.</li><li><code>k8s</code>: Use Kubernetes to discover nodes.</li></ul><h3 id="cluster-autoheal"><a href="#cluster-autoheal" class="header-anchor">#</a> cluster.autoheal</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-4"><a href="#description-4" class="header-anchor">#</a> Description</h4><p>Enable or disable the automatic recovery mechanism of cluster brain splitting.</p><h3 id="cluster-autoclean"><a href="#cluster-autoclean" class="header-anchor">#</a> cluster.autoclean</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5m</code></td></tr></tbody></table><h4 id="description-5"><a href="#description-5" class="header-anchor">#</a> Description</h4><p>Specify how long to delete offline nodes from the cluster.</p><h3 id="cluster-static-seeds"><a href="#cluster-static-seeds" class="header-anchor">#</a> cluster.static.seeds</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>emqx1@192.168.0.100,emqx2@192.168.0.101</code></td></tr></tbody></table><h4 id="description-6"><a href="#description-6" class="header-anchor">#</a> Description</h4><p>When using static clustering, specify a fixed list of nodes, separated by commas <code>,</code> between multiple nodes.</p><h3 id="cluster-mcast-addr"><a href="#cluster-mcast-addr" class="header-anchor">#</a> cluster.mcast.addr</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>ipaddr</td><td><code>239.192.0.1</code></td></tr></tbody></table><h4 id="description-7"><a href="#description-7" class="header-anchor">#</a> Description</h4><p>When using the mcast cluster, specify the multicast address.</p><h3 id="cluster-mcast-ports"><a href="#cluster-mcast-ports" class="header-anchor">#</a> cluster.mcast.ports</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>4369</code></td></tr></tbody></table><h4 id="description-8"><a href="#description-8" class="header-anchor">#</a> Description</h4><p>When using the mcast cluster, specify the multicast port. If there are multiple ports, separate them with commas <code>,</code>.</p><h3 id="cluster-mcast-iface"><a href="#cluster-mcast-iface" class="header-anchor">#</a> cluster.mcast.iface</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>ipaddr</td><td><code>0.0.0.0</code></td></tr></tbody></table><h4 id="description-9"><a href="#description-9" class="header-anchor">#</a> Description</h4><p>When using mcast cluster, specify which local IP address the node discovery service needs to bind to.</p><h3 id="cluster-mcast-ttl"><a href="#cluster-mcast-ttl" class="header-anchor">#</a> cluster.mcast.ttl</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>255</td></tr></tbody></table><h4 id="description-10"><a href="#description-10" class="header-anchor">#</a> Description</h4><p>When using mcast cluster, specify the Time-To-Live value of multicast.</p><h3 id="cluster-mcast-loop"><a href="#cluster-mcast-loop" class="header-anchor">#</a> cluster.mcast.loop</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-11"><a href="#description-11" class="header-anchor">#</a> Description</h4><p>When using mcast clustering, set whether multicast packets are delivered to the local loopback address.</p><h3 id="cluster-dns-name"><a href="#cluster-dns-name" class="header-anchor">#</a> cluster.dns.name</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>mycluster.com</code></td></tr></tbody></table><h4 id="description-12"><a href="#description-12" class="header-anchor">#</a> Description</h4><p>When using the dns cluster, specify the name of the DNS A record. emqx will access the DNS A record to obtain a list of IP addresses, and then splice the APP name specified in <code>cluster.dns.app</code> to get a list of all nodes in the cluster.</p><h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4><p>Set <code>cluster.dns.app = emqx</code>, and configure a DNS: <code>mycluster.com</code>, which points to 3 IP addresses:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>192.168.0.100
192.168.0.101
192.168.0.102
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then get the list of cluster nodes as follows:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>emqx@192.168.0.100
emqx@192.168.0.101
emqx@192.168.0.102
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="cluster-dns-app"><a href="#cluster-dns-app" class="header-anchor">#</a> cluster.dns.app</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>emqx</code></td></tr></tbody></table><h4 id="description-13"><a href="#description-13" class="header-anchor">#</a> Description</h4><p>When using dns cluster, it is used to splice the IP list obtained from <code>cluster.dns.name</code> to get a list of node names.</p><h3 id="cluster-etcd-server"><a href="#cluster-etcd-server" class="header-anchor">#</a> cluster.etcd.server</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>http://127.0.0.1:2379</code></td></tr></tbody></table><h4 id="description-14"><a href="#description-14" class="header-anchor">#</a> Description</h4><p>When using etcd cluster, specify the address of etcd service. If there are multiple services, use commas to separate them.</p><h3 id="cluster-etcd-prefix"><a href="#cluster-etcd-prefix" class="header-anchor">#</a> cluster.etcd.prefix</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>emqxcl</code></td></tr></tbody></table><h4 id="description-15"><a href="#description-15" class="header-anchor">#</a> Description</h4><p>When using etcd cluster, specify the prefix of etcd path. Each node creates a path in etcd:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>v2/keys/&lt;prefix&gt;/&lt;cluster.name&gt;/&lt;node.name&gt;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="cluster-etcd-node-ttl"><a href="#cluster-etcd-node-ttl" class="header-anchor">#</a> cluster.etcd.node_ttl</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>duration</td><td>-</td><td><code>1m</code></td></tr></tbody></table><h4 id="description-16"><a href="#description-16" class="header-anchor">#</a> Description</h4><p>When using etcd cluster, specify the expiration time of the node path in etcd.</p><h3 id="cluster-etcd-ssl-keyfile"><a href="#cluster-etcd-ssl-keyfile" class="header-anchor">#</a> cluster.etcd.ssl.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>etc/certs/client-key.pem</code></td></tr></tbody></table><h4 id="description-17"><a href="#description-17" class="header-anchor">#</a> Description</h4><p>When using SSL to connect to etcd, specify the client's private key file.</p><h3 id="cluster-etcd-ssl-certfile"><a href="#cluster-etcd-ssl-certfile" class="header-anchor">#</a> cluster.etcd.ssl.certfile</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>etc/certs/client.pem</code></td></tr></tbody></table><h4 id="description-18"><a href="#description-18" class="header-anchor">#</a> Description</h4><p>When using SSL to connect to etcd, specify the SSL client certificate file.</p><h3 id="cluster-etcd-ssl-cacertfile"><a href="#cluster-etcd-ssl-cacertfile" class="header-anchor">#</a> cluster.etcd.ssl.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>etc/certs/ca.pem</code></td></tr></tbody></table><h4 id="description-19"><a href="#description-19" class="header-anchor">#</a> Description</h4><p>When using SSL to connect to etcd, specify the CA certificate file for SSL.</p><h3 id="cluster-k8s-apiserver"><a href="#cluster-k8s-apiserver" class="header-anchor">#</a> cluster.k8s.apiserver</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>http://10.110.111.204:8080</code></td></tr></tbody></table><h4 id="description-20"><a href="#description-20" class="header-anchor">#</a> Description</h4><p>When using the k8s cluster, specify the Kubernetes API Server. If there are multiple Servers, separate them with commas <code>,</code>.</p><h3 id="cluster-k8s-service-name"><a href="#cluster-k8s-service-name" class="header-anchor">#</a> cluster.k8s.service_name</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>emqx</code></td></tr></tbody></table><h4 id="description-21"><a href="#description-21" class="header-anchor">#</a> Description</h4><p>When using k8s cluster, specify the service name of EMQX Broker in Kubernetes.</p><h3 id="cluster-k8s-address-type"><a href="#cluster-k8s-address-type" class="header-anchor">#</a> cluster.k8s.address_type</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ip</code>, <code>dns</code>, <code>hostname</code></td><td><code>ip</code></td></tr></tbody></table><h4 id="description-22"><a href="#description-22" class="header-anchor">#</a> Description</h4><p>When using k8s cluster, address_type is used to obtain the host list from the response of the Kubernetes interface.</p><h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4><p>Specifying <code>cluster.k8s.address_type</code> as <code>ip</code>, it will get the list of IP addresses of emqx services from the Kubernetes interface:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>172.16.122.31
172.16.122.32
172.16.122.33
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then splice with the app name specified by <code>cluster.k8s.app_name</code> configuration to get a list of emqx nodes:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>emqx@172.16.122.31
emqx@172.16.122.32
emqx@172.16.122.33
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="cluster-k8s-app-name"><a href="#cluster-k8s-app-name" class="header-anchor">#</a> cluster.k8s.app_name</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>emqx</code></td></tr></tbody></table><h4 id="description-23"><a href="#description-23" class="header-anchor">#</a> Description</h4><p>When using k8s clustering, app_name is used to splice with the obtained Host list to get the node list.</p><h3 id="cluster-k8s-suffix"><a href="#cluster-k8s-suffix" class="header-anchor">#</a> cluster.k8s.suffix</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>pod.cluster.local</code></td></tr></tbody></table><h4 id="description-24"><a href="#description-24" class="header-anchor">#</a> Description</h4><p>When using the k8s method and specifying <code>cluster.k8s.address_type</code> as the dns type, you can set the suffix of the emqx node name, and splice with <code>cluster.k8s.namespace</code> to get a list of node names.</p><h3 id="cluster-k8s-namespace"><a href="#cluster-k8s-namespace" class="header-anchor">#</a> cluster.k8s.namespace</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>string</td><td>-</td><td><code>default</code></td></tr></tbody></table><h4 id="description-25"><a href="#description-25" class="header-anchor">#</a> Description</h4><p>When using the k8s method and specifying <code>cluster.k8s.address_type</code> as the dns type, you can set the namespace of the emqx node name, and splice with <code>cluster.k8s.suffix</code> to get a list of node names.</p><h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example</h4><p>Setting <code>cluster.k8s.address_type</code> to <code>dns</code>, you will get the dns list of emqx service from the Kubernetes interface:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>172-16-122-31
172-16-122-32
172-16-122-33
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then splice with <code>cluster.k8s.app_name = emqx</code>，<code>cluster.k8s.suffix = pod.cluster.local</code>，<code>cluster.k8s.namespace = default</code> to get a list of emqx node names in the form of dns:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>emqx@172-16-122-31.default.pod.cluster.local
emqx@172-16-122-32.default.pod.cluster.local
emqx@172-16-122-33.default.pod.cluster.local
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="node-name"><a href="#node-name" class="header-anchor">#</a> node.name</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>emqx@127.0.0.1</code></td></tr></tbody></table><h4 id="description-26"><a href="#description-26" class="header-anchor">#</a> Description</h4><p>The node name. The format is <code>&lt;name&gt; @ &lt;host&gt;</code>. Where <code>&lt;host&gt;</code> can be an IP address or FQDN. See <a href="http://erlang.org/doc/reference_manual/distributed.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/reference_manual/distributed.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details</p><h3 id="node-cookie"><a href="#node-cookie" class="header-anchor">#</a> node.cookie</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>emqxsecretcookie</code></td></tr></tbody></table><h4 id="description-27"><a href="#description-27" class="header-anchor">#</a> Description</h4><p>The cookie value used by the distributed Erlang cluster.</p><h3 id="node-data-dir"><a href="#node-data-dir" class="header-anchor">#</a> node.data_dir</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>folder</td><td><code>./data</code></td></tr></tbody></table><h4 id="description-28"><a href="#description-28" class="header-anchor">#</a> Description</h4><p>The node's data directory, which is used to store Mnesia data files.</p><h3 id="node-heartbeat"><a href="#node-heartbeat" class="header-anchor">#</a> node.heartbeat</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-29"><a href="#description-29" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>-heart</code> parameter in the <code>vm.args</code> file.</p><p>Enable or disable Erlang runtime detection mechanism, and restart automatically when the runtime terminates. Use with care to avoid restarting the monitored process when emqx is closed manually.</p><h3 id="node-async-threads"><a href="#node-async-threads" class="header-anchor">#</a> node.async_threads</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0 - 1024</td><td>4</td></tr></tbody></table><h4 id="description-30"><a href="#description-30" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>+A</code> parameter in the <code>vm.args</code> file.</p><p>Set the number of threads in the asynchronous thread pool in Erlang runtime, see <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p><h3 id="node-process-limit"><a href="#node-process-limit" class="header-anchor">#</a> node.process_limit</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024 - 134217727</td><td>2097152</td></tr></tbody></table><h4 id="description-31"><a href="#description-31" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>+P</code> parameter in the <code>vm.args</code> file.</p><p>Set the maximum number of processes allowed by Erlang, which will affect the number of connections that emqx nodes can process. See <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p><h3 id="node-max-ports"><a href="#node-max-ports" class="header-anchor">#</a> node.max_ports</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024 - 134217727</td><td>1048576</td></tr></tbody></table><h4 id="description-32"><a href="#description-32" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>+Q</code> parameter in the <code>vm.args</code> file.</p><p>Set the maximum number of ports allowed by Erlang. See <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p><h3 id="node-dist-buffer-size"><a href="#node-dist-buffer-size" class="header-anchor">#</a> node.dist_buffer_size</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>1KB - 2GB</td><td><code>8MB</code></td></tr></tbody></table><h4 id="description-33"><a href="#description-33" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>+zdbbl</code> parameter in the <code>vm.args</code> file.</p><p>Set the maximum cache size used by Erlang distributed communication. See <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p><h3 id="node-max-ets-tables"><a href="#node-max-ets-tables" class="header-anchor">#</a> node.max_ets_tables</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>262144</td></tr></tbody></table><h4 id="description-34"><a href="#description-34" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>+e</code> parameter in the <code>vm.args</code> file.</p><p>Set the maximum number of ETS tables allowed in Erlang runtime. See <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p><h3 id="node-global-gc-interval"><a href="#node-global-gc-interval" class="header-anchor">#</a> node.global_gc_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15m</code></td></tr></tbody></table><h4 id="description-35"><a href="#description-35" class="header-anchor">#</a> Description</h4><p>System tuning parameters, which set how often Erlang runs to force a global garbage collection.</p><h3 id="node-fullsweep-after"><a href="#node-fullsweep-after" class="header-anchor">#</a> node.fullsweep_after</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0 - 65535</td><td>1000</td></tr></tbody></table><h4 id="description-36"><a href="#description-36" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>-env ERL_FULLSWEEP_AFTER</code> parameter in the <code>vm.args</code> file.</p><p>Set how many times the generational GC will run before Erlang runs a fullsweep GC. For details, see <a href="http://erlang.org/doc/man/erlang.html#spawn_opt-4" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erlang.html#spawn_opt-4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="node-crash-dump"><a href="#node-crash-dump" class="header-anchor">#</a> node.crash_dump</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>log/crash.dump</code></td></tr></tbody></table><h4 id="description-37"><a href="#description-37" class="header-anchor">#</a> Description</h4><p>Set the storage path and file name of the Erlang crash_dump file.</p><h3 id="node-ssl-dist-optfile"><a href="#node-ssl-dist-optfile" class="header-anchor">#</a> node.ssl_dist_optfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/ssl_dist.conf</code></td></tr></tbody></table><h4 id="description-38"><a href="#description-38" class="header-anchor">#</a> Description</h4><p>This configuration will override the <code>-ssl_dist_optfile</code> parameter in the <code>vm.args</code> file.</p><p>If you use SSL to establish an emqx cluster, you need to specify the SSL distributed protocol configuration file. It needs to be used with <code>cluster.proto_dist = inet_tls</code>.</p><h3 id="node-dist-net-ticktime"><a href="#node-dist-net-ticktime" class="header-anchor">#</a> node.dist_net_ticktime</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>120</td></tr></tbody></table><h4 id="description-39"><a href="#description-39" class="header-anchor">#</a> Description</h4><p>System tuning parameters. This configuration will override the <code>-kernel net_ticktime</code> parameter in the <code>vm.args</code> file.</p><p>Specifying how long time when a node has been unresponsive, it is considered to be down and disconnected. For details, see <a href="http://www.erlang.org/doc/man/kernel_app.html#net_ticktime" target="_blank" rel="noopener noreferrer">http://www.erlang.org/doc/man/kernel_app.html#net_ticktime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="node-dist-use-interface"><a href="#node-dist-use-interface" class="header-anchor">#</a> node.dist_use_interface</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>ipaddr</td><td>0.0.0.0</td></tr></tbody></table><h4 id="description-40"><a href="#description-40" class="header-anchor">#</a> Description</h4><p>The default is to use <code>0.0.0.0</code> to specify all network-interfaces to listen to, or to specify the IP of the network-interface to listen to.</p><h3 id="node-dist-listen-min"><a href="#node-dist-listen-min" class="header-anchor">#</a> node.dist_listen_min</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024 - 65535</td><td>6369</td></tr></tbody></table><h4 id="description-41"><a href="#description-41" class="header-anchor">#</a> Description</h4><p>Set a TCP port range together with <code>node.dist_listen_max</code>. This port ranget is used for distribution to distributed Erlang as a listening port for distributed channels. Note that if a firewall is set between nodes, this port range needs to be placed into the firewall's whitelist.</p><h3 id="node-dist-listen-max"><a href="#node-dist-listen-max" class="header-anchor">#</a> node.dist_listen_max</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024 - 65535</td><td>6369</td></tr></tbody></table><h4 id="description-42"><a href="#description-42" class="header-anchor">#</a> Description</h4><p>Set a TCP port range together with <code>node.dist_listen_min</code>. This port range is used for distribution to distributed Erlang as a listening port for distributed channels. Note that if a firewall is set up between nodes, this port rangeneeds to be put in The firewall's whitelist.</p><h3 id="rpc-mode"><a href="#rpc-mode" class="header-anchor">#</a> rpc.mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>sync</code>, <code>async</code></td><td><code>async</code></td></tr></tbody></table><h4 id="description-43"><a href="#description-43" class="header-anchor">#</a> Description</h4><p>RPC mode. Synchronous or asynchronous mode is optional.</p><h3 id="rpc-async-batch-size"><a href="#rpc-async-batch-size" class="header-anchor">#</a> rpc.async_batch_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>256</td></tr></tbody></table><h4 id="description-44"><a href="#description-44" class="header-anchor">#</a> Description</h4><p>The maximum number of batch messages sent in asynchronous mode. Note that this configuration does not work in synchronous mode.</p><h3 id="rpc-port-discovery"><a href="#rpc-port-discovery" class="header-anchor">#</a> rpc.port_discovery</h3><table><thead><tr><th>Type</th><th>Optional Value Default</th></tr></thead><tbody><tr><td>enum</td><td><code>manual</code>, <code>stateless</code></td></tr></tbody></table><h4 id="description-45"><a href="#description-45" class="header-anchor">#</a> Description</h4><p><code>manual</code>: discover ports by <code>tcp_server_port</code> and <code>tcp_client_port</code>. <code>stateless</code>: discover ports in a stateless manner. If node name is <code>emqx&lt;N&gt;@127.0.0.1</code>, where the <code>&lt;N&gt;</code> is an integer, then the listening port will be <code>5370 + &lt;N&gt;</code></p><p>Default is <code>manual</code> when started from docker (environment variable override from docker-entrypoint) otherwise <code>stateless</code>.</p><h3 id="rpc-tcp-server-ip"><a href="#rpc-tcp-server-ip" class="header-anchor">#</a> rpc.tcp_server_ip</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>ipaddr</td><td>[0-255].[0-255].[0-255].[0-255]</td><td>0.0.0.0</td></tr></tbody></table><h4 id="description-46"><a href="#description-46" class="header-anchor">#</a> Description</h4><p>Set the listening network-interface used by RPC local service. Use <code>0.0.0.0</code> to listen to all network-interfaces. NOTE: this config only takes effect when <code>rpc.port_discovery</code> is set to <code>manual</code></p><h3 id="rpc-tcp-server-port"><a href="#rpc-tcp-server-port" class="header-anchor">#</a> rpc.tcp_server_port</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024 - 65535</td><td>5369</td></tr></tbody></table><h4 id="description-47"><a href="#description-47" class="header-anchor">#</a> Description</h4><p>Set the listening port used by RPC local service NOTE: this config only takes effect when <code>rpc.port_discovery</code> is set to <code>manual</code></p><h3 id="rpc-tcp-client-num"><a href="#rpc-tcp-client-num" class="header-anchor">#</a> rpc.tcp_client_num</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1 - 256</td><td>CPU core number / 2</td></tr></tbody></table><h4 id="description-48"><a href="#description-48" class="header-anchor">#</a> Description</h4><p>Set the number of RPC communication channels initiated by this node to each remote node. Set to 1 to ensure the order of messages. Keep the default value (half the number of CPU cores) to improve RPC throughput.</p><h3 id="rpc-connect-timeout"><a href="#rpc-connect-timeout" class="header-anchor">#</a> rpc.connect_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-49"><a href="#description-49" class="header-anchor">#</a> Description</h4><p>Timeout for establishing an RPC connection. It means how long will it give up after trying if the remote node does not respond when establishing a connection, .</p><h3 id="rpc-send-timeout"><a href="#rpc-send-timeout" class="header-anchor">#</a> rpc.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-50"><a href="#description-50" class="header-anchor">#</a> Description</h4><p>Timeout for sending, which means how long to give up after sending the message.</p><h3 id="rpc-authentication-timeout"><a href="#rpc-authentication-timeout" class="header-anchor">#</a> rpc.authentication_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-51"><a href="#description-51" class="header-anchor">#</a> Description</h4><p>RPC authentication timeout. It means how long it will give up if the remote node does not respond, .</p><h3 id="rpc-call-receive-timeout"><a href="#rpc-call-receive-timeout" class="header-anchor">#</a> rpc.call_receive_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-52"><a href="#description-52" class="header-anchor">#</a> Description</h4><p>The timeout period of RPC synchronous mode. It means how long it will take before giving up if the RPC synchronous call fails to receive a reply.</p><h3 id="rpc-socket-keepalive-idle"><a href="#rpc-socket-keepalive-idle" class="header-anchor">#</a> rpc.socket_keepalive_idle</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>900s</code></td></tr></tbody></table><h4 id="description-53"><a href="#description-53" class="header-anchor">#</a> Description</h4><p>It means how long after the last packet was sent, keepalive probe packets are sent.</p><h3 id="rpc-socket-keepalive-interval"><a href="#rpc-socket-keepalive-interval" class="header-anchor">#</a> rpc.socket_keepalive_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>75s</code></td></tr></tbody></table><h4 id="description-54"><a href="#description-54" class="header-anchor">#</a> Description</h4><p>The interval between keepalive detection messages.</p><h3 id="rpc-socket-keepalive-count"><a href="#rpc-socket-keepalive-count" class="header-anchor">#</a> rpc.socket_keepalive_count</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>9</td></tr></tbody></table><h4 id="description-55"><a href="#description-55" class="header-anchor">#</a> Description</h4><p>For how many times if the keepalive probe message fails to receive a reply, the RPC connection is considered lost.</p><h3 id="rpc-socket-sndbuf"><a href="#rpc-socket-sndbuf" class="header-anchor">#</a> rpc.socket_sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1MB</code></td></tr></tbody></table><h4 id="description-56"><a href="#description-56" class="header-anchor">#</a> Description</h4><p>TCP tuning parameters. TCP sending buffer size.</p><h3 id="rpc-socket-recbuf"><a href="#rpc-socket-recbuf" class="header-anchor">#</a> rpc.socket_recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1MB</code></td></tr></tbody></table><h4 id="description-57"><a href="#description-57" class="header-anchor">#</a> Description</h4><p>TCP tuning parameters. TCP receiving buffer size.</p><h3 id="rpc-socket-buffer"><a href="#rpc-socket-buffer" class="header-anchor">#</a> rpc.socket_buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1MB</code></td></tr></tbody></table><h4 id="description-58"><a href="#description-58" class="header-anchor">#</a> Description</h4><p>TCP tuning parameters. Socket buffer size in user mode.</p><h3 id="log-to"><a href="#log-to" class="header-anchor">#</a> log.to</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>off</code>, <code>file</code>, <code>console</code>, <code>both</code></td><td><code>file</code></td></tr></tbody></table><h4 id="description-59"><a href="#description-59" class="header-anchor">#</a> Description</h4><p>Where to output the log. The optional values are:</p><ul><li><strong>off:</strong> Disable logging completely</li><li><strong>file:</strong> Only output log to file</li><li><strong>console:</strong> Only output logs to standard output (emqx console)</li><li><strong>both:</strong> output log to file and standard output at the same time (emqx console)</li></ul><h3 id="log-level"><a href="#log-level" class="header-anchor">#</a> log.level</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>debug</code>, <code>info</code>, <code>notice</code>, <code>warning</code><br><code>error</code>, <code>critical</code>, <code>alert</code>, <code>emergency</code></td><td><code>warning</code></td></tr></tbody></table><h4 id="description-60"><a href="#description-60" class="header-anchor">#</a> Description</h4><p>Global log level. This includes the primary log level and all log handlers. For details, see <a href="/en/enterprise/latest/getting-started/log.html#log-level-and-log-handlers">log level and log handlers</a>.</p><h3 id="log-dir"><a href="#log-dir" class="header-anchor">#</a> log.dir</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>dir</td><td><code>./log</code></td></tr></tbody></table><h4 id="description-61"><a href="#description-61" class="header-anchor">#</a> Description</h4><p>Log file directory.</p><h3 id="log-file"><a href="#log-file" class="header-anchor">#</a> log.file</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>emqx.log</code></td></tr></tbody></table><h4 id="description-62"><a href="#description-62" class="header-anchor">#</a> Description</h4><p>The prefix of the log file. For example, if you use the default value (<code>log.file = emqx.log</code>), the log file name will be <code>emqx.log.1</code>, <code>emqx.log.2</code>, ...</p><h3 id="log-chars-limit"><a href="#log-chars-limit" class="header-anchor">#</a> log.chars_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-1</td></tr></tbody></table><h4 id="description-63"><a href="#description-63" class="header-anchor">#</a> Description</h4><p>Set the maximum length of a single log message. If this length is exceeded, the log message will be truncated. <code>-1</code> means no limit.</p><h3 id="log-max-depth"><a href="#log-max-depth" class="header-anchor">#</a> log.max_depth</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>union(integer, 'unlimited')</td><td>20</td></tr></tbody></table><h4 id="description-64"><a href="#description-64" class="header-anchor">#</a> Description</h4><p>Maximum depth for Erlang term log formatting and Erlang process message queue inspection. Set 'unlimited' (without quotes) to print Erlang terms without depth limit.</p><h3 id="log-rotation-size"><a href="#log-rotation-size" class="header-anchor">#</a> log.rotation.size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>10MB</code></td></tr></tbody></table><h4 id="description-65"><a href="#description-65" class="header-anchor">#</a> Description</h4><p>Set the size of a single log file. If it exceeds this size, the log file will be rolled to create a new log file.</p><h3 id="log-rotation-count"><a href="#log-rotation-count" class="header-anchor">#</a> log.rotation.count</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>5</td></tr></tbody></table><h4 id="description-66"><a href="#description-66" class="header-anchor">#</a> Description</h4><p>Set the total number of log files. If this number is exceeded, the next log file will overwrite the first file.</p><h3 id="log-level-file"><a href="#log-level-file" class="header-anchor">#</a> log.&lt;level&gt;.file</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-67"><a href="#description-67" class="header-anchor">#</a> Description</h4><p>Set a separate log file for a certain log level.</p><h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example</h4><p>Separately output info and above logs to <code>info.log.N</code> file:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>log.info.file = info.log
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Output error and error logs separately to the <code>error.log.N</code> file</p><div class="language- line-numbers-mode"><pre class="language-text"><code>log.error.file = error.log
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="log-max-depth-2"><a href="#log-max-depth-2" class="header-anchor">#</a> log.max_depth</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>20</td></tr></tbody></table><h4 id="description-68"><a href="#description-68" class="header-anchor">#</a> Description</h4><p>Max depth when printing large data blob to log. Exceeding parts will be logge as '...'.</p><h3 id="log-single-line"><a href="#log-single-line" class="header-anchor">#</a> log.single_line</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>boolean</td><td>true</td></tr></tbody></table><h4 id="description-69"><a href="#description-69" class="header-anchor">#</a> Description</h4><p>Print logs in a single line if set to <code>true</code>. If set to <code>false</code>, information like stacktraces in crash logs may span multiple lines.</p><h3 id="log-formatter"><a href="#log-formatter" class="header-anchor">#</a> log.formatter</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>text</code>, <code>json</code></td><td><code>text</code></td></tr></tbody></table><h4 id="description-70"><a href="#description-70" class="header-anchor">#</a> Description</h4><p>Choose log format. <code>text</code> for free text, and <code>json</code> for structured logging.</p><h3 id="log-formatter-text-date-format"><a href="#log-formatter-text-date-format" class="header-anchor">#</a> log.formatter.text.date.format</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>rfc3339</code></td><td>FORMAT</td></tr></tbody></table><p>NOTE: This config is available start from EMQX Opensource 4.3.15, 4.4.4 and EMQX Enterprise 4.3.10, 4.4.4.</p><h4 id="description-71"><a href="#description-71" class="header-anchor">#</a> Description</h4><p>The timestamp format for the <code>text</code> logger. Can be one of <code>rfc3339</code> or a FORMAT string.</p><p>Supported specifiers in the FORMAT string are:</p><table><thead><tr><th>Specifiers</th><th>Annotation</th><th>Format Example</th></tr></thead><tbody><tr><td>%Y</td><td>year</td><td>2022</td></tr><tr><td>%m</td><td>month (01..12)</td><td>11</td></tr><tr><td>%d</td><td>day of month</td><td>01</td></tr><tr><td>%H</td><td>hour (00..23)</td><td>06</td></tr><tr><td>%M</td><td>minute (00..59)</td><td>43</td></tr><tr><td>%S</td><td>second (00..60)</td><td>31</td></tr><tr><td>%N</td><td>nanoseconds (000000000..999999999)</td><td>019085000</td></tr><tr><td>%6N</td><td>microseconds (00000..999999)</td><td>019085</td></tr><tr><td>%3N</td><td>milliseconds (000..999)</td><td>019</td></tr><tr><td>%z</td><td>+HHMM numeric time zone</td><td>-0400</td></tr><tr><td>%:z</td><td>+HH:MM numeric time zone</td><td>-04:00</td></tr><tr><td>%::z</td><td>+HH:MM:SS numeric time zone</td><td>-04:00:00</td></tr></tbody></table><p>Examples:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>## 2022-06-02T14:23:09.230000 +08:00
log.formatter.text.date.format = %Y-%m-%dT%H:%M:%S.%6N %:z

## To make the timestamp look the same as that of version 4.2.x (2022-06-02 14:24:36.124):
log.formatter.text.date.format = %Y-%m-%d %H:%M:%S.%3N
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="authacl"><a href="#authacl" class="header-anchor">#</a> authacl</h2><h3 id="allow-anonymous"><a href="#allow-anonymous" class="header-anchor">#</a> allow_anonymous</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-72"><a href="#description-72" class="header-anchor">#</a> Description</h4><p>Whether to allow anonymous users to log in to the system.</p><div class="custom-block tip"><p class="custom-block-title">Tip</p><p>It is recommended to disable this option in the production environment.</p></div><h3 id="acl-nomatch"><a href="#acl-nomatch" class="header-anchor">#</a> acl_nomatch</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>allow</code>, <code>deny</code></td><td><code>allow</code></td></tr></tbody></table><h4 id="description-73"><a href="#description-73" class="header-anchor">#</a> Description</h4><p>When the ACL is not hit, allow or deny the publish/subscribe operation.</p><h3 id="acl-file"><a href="#acl-file" class="header-anchor">#</a> acl_file</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/acl.conf</code></td></tr></tbody></table><h4 id="description-74"><a href="#description-74" class="header-anchor">#</a> Description</h4><p>The default path of ACL file.</p><h3 id="enable-acl-cache"><a href="#enable-acl-cache" class="header-anchor">#</a> enable_acl_cache</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-75"><a href="#description-75" class="header-anchor">#</a> Description</h4><p>Whether to enable ACL caching.</p><h3 id="acl-cache-max-size"><a href="#acl-cache-max-size" class="header-anchor">#</a> acl_cache_max_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>32</td></tr></tbody></table><h4 id="description-76"><a href="#description-76" class="header-anchor">#</a> Description</h4><p>Maximum cache number of ACL rule.</p><h3 id="acl-cache-ttl"><a href="#acl-cache-ttl" class="header-anchor">#</a> acl_cache_ttl</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>1m</code></td></tr></tbody></table><h4 id="description-77"><a href="#description-77" class="header-anchor">#</a> Description</h4><p>Maximum cache time of ACL rule.</p><h3 id="acl-deny-action"><a href="#acl-deny-action" class="header-anchor">#</a> acl_deny_action</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ignore</code>, <code>disconnect</code></td><td><code>ignore</code></td></tr></tbody></table><h4 id="description-78"><a href="#description-78" class="header-anchor">#</a> Description</h4><p>What to do after the ACL check fails.</p><ul><li><code>ignore</code>：No operation</li><li><code>disconnect</code>：disconnect.</li></ul><h3 id="flapping-detect-policy"><a href="#flapping-detect-policy" class="header-anchor">#</a> flapping_detect_policy</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>30, 1m, 5m</code></td></tr></tbody></table><h4 id="description-79"><a href="#description-79" class="header-anchor">#</a> Description</h4><p>Specify the <code>Flapping</code> inspection strategy.</p><p>Format: <code>&lt;threshold&gt;,&lt;duration&gt;,&lt;banned&gt;</code>.</p><p>For example, <code>30, 1m, 5m</code>, it means that if the client disconnects 30 times within 1 minute, then login is prohibited for the next 5 minutes</p><h3 id="mqtt-max-packet-size"><a href="#mqtt-max-packet-size" class="header-anchor">#</a> mqtt.max_packet_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1MB</code></td></tr></tbody></table><h4 id="description-80"><a href="#description-80" class="header-anchor">#</a> Description</h4><p>The maximum allowed length of MQTT messages.</p><h3 id="mqtt-max-clientid-len"><a href="#mqtt-max-clientid-len" class="header-anchor">#</a> mqtt.max_clientid_len</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>65535</td></tr></tbody></table><h4 id="description-81"><a href="#description-81" class="header-anchor">#</a> Description</h4><p>The maximum allowed length of Client ID string.</p><h3 id="mqtt-max-topic-levels"><a href="#mqtt-max-topic-levels" class="header-anchor">#</a> mqtt.max_topic_levels</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>128</td></tr></tbody></table><h4 id="description-82"><a href="#description-82" class="header-anchor">#</a> Description</h4><p>The maximum allowed level of topics for client subscription. 0 means no limit.</p><div class="custom-block warning"><p class="custom-block-title">Warning</p><p>Too many topic levels may cause performance problems during subscription.</p></div><h3 id="mqtt-max-qos-allowed"><a href="#mqtt-max-qos-allowed" class="header-anchor">#</a> mqtt.max_qos_allowed</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>0</code>, <code>1</code>, <code>2</code></td><td><code>2</code></td></tr></tbody></table><h4 id="description-83"><a href="#description-83" class="header-anchor">#</a> Description</h4><p>The maximum allowed QoS level for client to publish.</p><h3 id="mqtt-max-topic-alias"><a href="#mqtt-max-topic-alias" class="header-anchor">#</a> mqtt.max_topic_alias</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>65535</td></tr></tbody></table><h4 id="description-84"><a href="#description-84" class="header-anchor">#</a> Description</h4><p>The maximum allowed number of topic aliases. 0 means that topic aliases are not supported.</p><h3 id="mqtt-retain-available"><a href="#mqtt-retain-available" class="header-anchor">#</a> mqtt.retain_available</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-85"><a href="#description-85" class="header-anchor">#</a> Description</h4><p>Whether to support Retain message.</p><h3 id="mqtt-wildcard-subscription"><a href="#mqtt-wildcard-subscription" class="header-anchor">#</a> mqtt.wildcard_subscription</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-86"><a href="#description-86" class="header-anchor">#</a> Description</h4><p>Whether to support subscribing to wildcard topics.</p><h3 id="mqtt-shared-subscription"><a href="#mqtt-shared-subscription" class="header-anchor">#</a> mqtt.shared_subscription</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-87"><a href="#description-87" class="header-anchor">#</a> Description</h4><p>Whether to support shared subscriptions.</p><h3 id="mqtt-ignore-loop-deliver"><a href="#mqtt-ignore-loop-deliver" class="header-anchor">#</a> mqtt.ignore_loop_deliver</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-88"><a href="#description-88" class="header-anchor">#</a> Description</h4><p>Whether to ignore the message sent by itself. If it is ignored, it means that EMQX Broker will not deliver this message to the sender of the message.</p><h3 id="mqtt-strict-mode"><a href="#mqtt-strict-mode" class="header-anchor">#</a> mqtt.strict_mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-89"><a href="#description-89" class="header-anchor">#</a> Description</h4><p>Whether to enable the strict check mode. The strict check mode will check the correctness of the MQTT message in more detail.</p><h3 id="zone-external-idle-timeout"><a href="#zone-external-idle-timeout" class="header-anchor">#</a> zone.external.idle_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-90"><a href="#description-90" class="header-anchor">#</a> Description</h4><p>The daze time after the TCP connection is established. If no packets are received within this time, the connection will be shutdown.</p><h3 id="zone-external-enable-acl"><a href="#zone-external-enable-acl" class="header-anchor">#</a> zone.external.enable_acl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-91"><a href="#description-91" class="header-anchor">#</a> Description</h4><p>Whether to enable ACL check.</p><h3 id="zone-external-enable-ban"><a href="#zone-external-enable-ban" class="header-anchor">#</a> zone.external.enable_ban</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-92"><a href="#description-92" class="header-anchor">#</a> Description</h4><p>Whether to enable blacklist.</p><h3 id="zone-external-enable-stats"><a href="#zone-external-enable-stats" class="header-anchor">#</a> zone.external.enable_stats</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-93"><a href="#description-93" class="header-anchor">#</a> Description</h4><p>Whether to enable client status statistics.</p><h3 id="zone-external-acl-deny-action"><a href="#zone-external-acl-deny-action" class="header-anchor">#</a> zone.external.acl_deny_action</h3><p>| Type | Optional Value | Default | | ---- | -------------------- - | -------- | | enum | <code>ignore</code>, <code>disconnect</code> | <code>ignore</code> |</p><h4 id="description-94"><a href="#description-94" class="header-anchor">#</a> Description</h4><p>What to do after the ACL check fails.</p><ul><li><code>ignore</code>：No any operation.</li><li><code>disconnect</code>：disconnect.</li></ul><h3 id="zone-external-force-gc-policy"><a href="#zone-external-force-gc-policy" class="header-anchor">#</a> zone.external.force_gc_policy</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>16000|16MB</code></td></tr></tbody></table><h4 id="description-95"><a href="#description-95" class="header-anchor">#</a> Description</h4><p>When a certain number of messages, or bytes, are received, a garbage collection is forced.</p><p>Format: <code>&lt;Number&gt; | &lt;Bytes&gt;</code>.</p><p>For example, <code>16000|16MB</code> means that when <code>16000</code> messages are received, or a byte of <code>16MB</code> flows in, a garbage collection is forced.</p><h3 id="zone-external-force-shutdown-policy"><a href="#zone-external-force-shutdown-policy" class="header-anchor">#</a> zone.external.force_shutdown_policy</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-96"><a href="#description-96" class="header-anchor">#</a> Description</h4><p>When the process message queue length, or the memory bytes reaches a certain value, the process is forced to close.</p><p>The &quot;message queue&quot; here refers to the &quot;message mailbox&quot; of the Erlang process, not the &quot;mqueue&quot; of QoS 1 and QoS 2.</p><p>Format: <code>&lt;Number&gt; | &lt;Bytes&gt;</code>.</p><p>For example, <code>32000|32MB</code> means that when the process accumulates <code>32000</code> messages, or the process occupies memory up to <code>32MB</code>, the process is closed.</p><h3 id="zone-external-max-packet-size"><a href="#zone-external-max-packet-size" class="header-anchor">#</a> zone.external.max_packet_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-97"><a href="#description-97" class="header-anchor">#</a> Description</h4><p>The maximum allowed length of MQTT packet.</p><h3 id="zone-external-max-clientid-len"><a href="#zone-external-max-clientid-len" class="header-anchor">#</a> zone.external.max_clientid_len</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-</td></tr></tbody></table><h4 id="description-98"><a href="#description-98" class="header-anchor">#</a> Description</h4><p>The maximum length of Client ID string.</p><h3 id="zone-external-max-topic-levels"><a href="#zone-external-max-topic-levels" class="header-anchor">#</a> zone.external.max_topic_levels</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-</td></tr></tbody></table><h4 id="description-99"><a href="#description-99" class="header-anchor">#</a> Description</h4><p>The maximum allowed level of topics for client subscription. 0 means no limit.</p><div class="custom-block warning"><p class="custom-block-title">Warning</p><p>Too many topic levels may cause performance problems during subscription.</p></div><h3 id="zone-external-max-qos-allowed"><a href="#zone-external-max-qos-allowed" class="header-anchor">#</a> zone.external.max_qos_allowed</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>0</code>, <code>1</code>, <code>2</code></td><td>-</td></tr></tbody></table><h4 id="description-100"><a href="#description-100" class="header-anchor">#</a> Description</h4><p>The maximum QoS level allowed for the client to publish.</p><h3 id="zone-external-max-topic-alias"><a href="#zone-external-max-topic-alias" class="header-anchor">#</a> zone.external.max_topic_alias</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-</td></tr></tbody></table><h4 id="description-101"><a href="#description-101" class="header-anchor">#</a> Description</h4><p>The maximum number of topic aliases. 0 means that topic aliases are not supported.</p><h3 id="zone-external-retain-available"><a href="#zone-external-retain-available" class="header-anchor">#</a> zone.external.retain_available</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td>-</td></tr></tbody></table><h4 id="description-102"><a href="#description-102" class="header-anchor">#</a> Description</h4><p>Whether to support Retain message.</p><h3 id="zone-external-wildcard-subscription"><a href="#zone-external-wildcard-subscription" class="header-anchor">#</a> zone.external.wildcard_subscription</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td>-</td></tr></tbody></table><h4 id="description-103"><a href="#description-103" class="header-anchor">#</a> Description</h4><p>Whether to support subscribing to wildcard topics.</p><h3 id="zone-external-shared-subscription"><a href="#zone-external-shared-subscription" class="header-anchor">#</a> zone.external.shared_subscription</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td>-</td></tr></tbody></table><h4 id="description-104"><a href="#description-104" class="header-anchor">#</a> Description</h4><p>Whether to support shared subscriptions.</p><h3 id="zone-external-server-keepalive"><a href="#zone-external-server-keepalive" class="header-anchor">#</a> zone.external.server_keepalive</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-</td></tr></tbody></table><h4 id="description-105"><a href="#description-105" class="header-anchor">#</a> Description</h4><p>Keepalive time specified by the server, used for MQTT v5.0 CONNACK messages</p><h3 id="zone-external-keepalive-backoff"><a href="#zone-external-keepalive-backoff" class="header-anchor">#</a> zone.external.keepalive_backoff</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>float</td><td>&gt; 0.5</td><td>0.75</td></tr></tbody></table><h4 id="description-106"><a href="#description-106" class="header-anchor">#</a> Description</h4><p>Keepalive backoff index. If no data packet is received from the client within the time of <code>Keepalive * backoff * 2</code>, it is considered that the client has heartbeat timeout.</p><h3 id="zone-external-max-subscriptions"><a href="#zone-external-max-subscriptions" class="header-anchor">#</a> zone.external.max_subscriptions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0</td></tr></tbody></table><h4 id="description-107"><a href="#description-107" class="header-anchor">#</a> Description</h4><p>The maximum number of topics that a single client is allowed to subscribe to. <code>0</code> means no limit.</p><h3 id="zone-external-upgrade-qos"><a href="#zone-external-upgrade-qos" class="header-anchor">#</a> zone.external.upgrade_qos</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-108"><a href="#description-108" class="header-anchor">#</a> Description</h4><p>Allow EMQX Broker to force the QoS level of the message upgrading to the subscribed QoS level when publishing the message.</p><h3 id="zone-external-max-inflight"><a href="#zone-external-max-inflight" class="header-anchor">#</a> zone.external.max_inflight</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>32</td></tr></tbody></table><h4 id="description-109"><a href="#description-109" class="header-anchor">#</a> Description</h4><p>Inflight window size: The inflight window is used to store unacknowledged QoS 1 and QoS 2 messages.</p><h3 id="zone-external-retry-interval"><a href="#zone-external-retry-interval" class="header-anchor">#</a> zone.external.retry_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>30s</code></td></tr></tbody></table><h4 id="description-110"><a href="#description-110" class="header-anchor">#</a> Description</h4><p>Message retransmission interval: EMQX Broker checks whether message retransmission is required at each interval.</p><h3 id="zone-external-max-awaiting-rel"><a href="#zone-external-max-awaiting-rel" class="header-anchor">#</a> zone.external.max_awaiting_rel</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>100</td></tr></tbody></table><h4 id="description-111"><a href="#description-111" class="header-anchor">#</a> Description</h4><p>The maximum receiving window for QoS 2 messages, which configures how many QoS 2 messages from the client can be processed by EMQX Broker simultaneously. <code>0</code> means no limit.</p><h3 id="zone-external-await-rel-timeout"><a href="#zone-external-await-rel-timeout" class="header-anchor">#</a> zone.external.await_rel_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>300s</code></td></tr></tbody></table><h4 id="description-112"><a href="#description-112" class="header-anchor">#</a> Description</h4><p>Time for QoS 2 message processing timeout. If the QoS PUBREL message has not been received after the timeout, the message is dropped from the receiving window.</p><h3 id="zone-external-session-expiry-interval"><a href="#zone-external-session-expiry-interval" class="header-anchor">#</a> zone.external.session_expiry_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>2h</code></td></tr></tbody></table><h4 id="description-113"><a href="#description-113" class="header-anchor">#</a> Description</h4><p>The default timeout period of the session, which is mainly used for MQTT v3.1 and v3.1.1 protocols. In MQTT v5.0, this value is usually carried in the client's connection message.</p><h3 id="zone-external-max-mqueue-len"><a href="#zone-external-max-mqueue-len" class="header-anchor">#</a> zone.external.max_mqueue_len</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-114"><a href="#description-114" class="header-anchor">#</a> Description</h4><p>The maximum length of the message queue. When the flight window is full, or the client is offline, the message will be stored in the queue. 0 means no limit.</p><h3 id="zone-external-mqueue-priorities"><a href="#zone-external-mqueue-priorities" class="header-anchor">#</a> zone.external.mqueue_priorities</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>none</code>, <code>&lt;Spec&gt;</code></td><td><code>none</code></td></tr></tbody></table><h4 id="description-115"><a href="#description-115" class="header-anchor">#</a> Description</h4><p>Queue message priority configuration:</p><ul><li><code>none</code>：no prioritization.</li><li><code>&lt;Spec&gt;</code>：A message priority table, which configures the priority of messages under a certain topic. For example:<ul><li><code>topic/1=10</code>: indicates that the message priority of the topic <code>topic/1</code> is <code>10</code>.</li><li><code>topic/1=10,topic/2=8</code>: indicates that the priority of two topics is configured, which are <code>10</code> and <code>8</code> respectively.</li><li>Among them, the higher the priority value, the higher the priority level.</li></ul></li></ul><p>When the length of the message queue is limited, low priority messages will be dropped first.</p><h3 id="zone-external-mqueue-default-priority"><a href="#zone-external-mqueue-default-priority" class="header-anchor">#</a> zone.external.mqueue_default_priority</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>highest</code>, <code>lowest</code></td><td><code>highest</code></td></tr></tbody></table><h4 id="description-116"><a href="#description-116" class="header-anchor">#</a> Description</h4><p>The default priority level of the message.</p><h3 id="zone-external-mqueue-store-qos0"><a href="#zone-external-mqueue-store-qos0" class="header-anchor">#</a> zone.external.mqueue_store_qos0</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-117"><a href="#description-117" class="header-anchor">#</a> Description</h4><p>Whether the message queue stores QoS 0 messages.</p><h3 id="zone-external-enable-flapping-detect"><a href="#zone-external-enable-flapping-detect" class="header-anchor">#</a> zone.external.enable_flapping_detect</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-118"><a href="#description-118" class="header-anchor">#</a> Description</h4><p>Whether to enable <code>Flapping</code> check.</p><h3 id="zone-external-mountpoint"><a href="#zone-external-mountpoint" class="header-anchor">#</a> zone.external.mountpoint</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-119"><a href="#description-119" class="header-anchor">#</a> Description</h4><p>After topic mount point is configured, all subscribed and published topics will be prefixed by EMQX Broker.</p><p>The available placeholders are:</p><ul><li><code>%c</code>：Client ID.</li><li><code>%u</code>：Username.</li></ul><p>For example, if the mount point is set to <code>user/%c/</code>. , when the client with client ID <code>tom</code> publishes the topic <code>open</code> message, the topic actually routed in EMQX Broker is <code>user/tom/open</code>.</p><h3 id="zone-external-use-username-as-clientid"><a href="#zone-external-use-username-as-clientid" class="header-anchor">#</a> zone.external.use_username_as_clientid</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-120"><a href="#description-120" class="header-anchor">#</a> Description</h4><p>Whether to use the client's Username as its Client ID.</p><h3 id="zone-external-ignore-loop-deliver"><a href="#zone-external-ignore-loop-deliver" class="header-anchor">#</a> zone.external.ignore_loop_deliver</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-121"><a href="#description-121" class="header-anchor">#</a> Description</h4><p>Whether to ignore the message sent by yourself. If ignored, it means that EMQX Broker will not deliver this message to the sender of the message.</p><h3 id="zone-external-strict-mode"><a href="#zone-external-strict-mode" class="header-anchor">#</a> zone.external.strict_mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-122"><a href="#description-122" class="header-anchor">#</a> Description</h4><p>Whether to enable the strict check mode. The strict check mode will check the correctness of the MQTT message in more detail.</p><h3 id="zone-internal-allow-anonymous"><a href="#zone-internal-allow-anonymous" class="header-anchor">#</a> zone.internal.allow_anonymous</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-123"><a href="#description-123" class="header-anchor">#</a> Description</h4><p>Whether to allow anonymous users to log in to the system.</p><h3 id="zone-internal-enable-stats"><a href="#zone-internal-enable-stats" class="header-anchor">#</a> zone.internal.enable_stats</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-124"><a href="#description-124" class="header-anchor">#</a> Description</h4><p>Whether to enable client status statistics.</p><h3 id="zone-internal-enable-acl"><a href="#zone-internal-enable-acl" class="header-anchor">#</a> zone.internal.enable_acl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-125"><a href="#description-125" class="header-anchor">#</a> Description</h4><p>Whether to enable ACL check.</p><h3 id="zone-internal-acl-deny-action"><a href="#zone-internal-acl-deny-action" class="header-anchor">#</a> zone.internal.acl_deny_action</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ignore</code>, <code>disconnect</code></td><td><code>ignore</code></td></tr></tbody></table><h4 id="description-126"><a href="#description-126" class="header-anchor">#</a> Description</h4><p>What to do after the ACL check fails.</p><ul><li><code>ignore</code>：No operation.</li><li><code>disconnect</code>：Disconnect.</li></ul><h3 id="zone-internal-force-gc-policy"><a href="#zone-internal-force-gc-policy" class="header-anchor">#</a> zone.internal.force_gc_policy</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-127"><a href="#description-127" class="header-anchor">#</a> Description</h4><p>When a certain number of messages, or bytes, are received, a garbage collection is forced.</p><p>Format: <code>&lt;Number&gt; | &lt;Bytes&gt;</code>.</p><p>For example, <code>16000|16MB</code> means that when <code>16000</code> messages are received, or a byte of <code>16MB</code> flows in, a garbage collection is forced.</p><h3 id="zone-internal-wildcard-subscription"><a href="#zone-internal-wildcard-subscription" class="header-anchor">#</a> zone.internal.wildcard_subscription</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td>-</td></tr></tbody></table><h4 id="description-128"><a href="#description-128" class="header-anchor">#</a> Description</h4><p>Whether to support subscribing to wildcard topics.</p><h3 id="zone-internal-shared-subscription"><a href="#zone-internal-shared-subscription" class="header-anchor">#</a> zone.internal.shared_subscription</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td>-</td></tr></tbody></table><h4 id="description-129"><a href="#description-129" class="header-anchor">#</a> Description</h4><p>Whether to support shared subscriptions.</p><h3 id="zone-internal-max-subscriptions"><a href="#zone-internal-max-subscriptions" class="header-anchor">#</a> zone.internal.max_subscriptions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0</td></tr></tbody></table><h4 id="description-130"><a href="#description-130" class="header-anchor">#</a> Description</h4><p>The maximum number of topics that a single client is allowed to subscribe to. <code>0</code> means no limit.</p><h3 id="zone-internal-max-inflight"><a href="#zone-internal-max-inflight" class="header-anchor">#</a> zone.internal.max_inflight</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>128</td></tr></tbody></table><h4 id="description-131"><a href="#description-131" class="header-anchor">#</a> Description</h4><p>Inflight window size: The flight window is used to store unanswered QoS 1 and QoS 2 messages.</p><h3 id="zone-internal-max-awaiting-rel"><a href="#zone-internal-max-awaiting-rel" class="header-anchor">#</a> zone.internal.max_awaiting_rel</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-132"><a href="#description-132" class="header-anchor">#</a> Description</h4><p>The maximum receiving window for QoS 2 messages, that configures how many QoS 2 messages from the client can be processed by EMQX Broker simultaneously. <code>0</code> means no limit.</p><h3 id="zone-internal-max-mqueue-len"><a href="#zone-internal-max-mqueue-len" class="header-anchor">#</a> zone.internal.max_mqueue_len</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>10000</td></tr></tbody></table><h4 id="description-133"><a href="#description-133" class="header-anchor">#</a> Description</h4><p>The maximum length of the message queue. When the flight window is full, or the client is offline, the message will be stored in the queue. <code>0</code> means no limit.</p><h3 id="zone-internal-mqueue-store-qos0"><a href="#zone-internal-mqueue-store-qos0" class="header-anchor">#</a> zone.internal.mqueue_store_qos0</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-134"><a href="#description-134" class="header-anchor">#</a> Description</h4><p>Whether the message queue stores QoS 0 messages.</p><h3 id="zone-internal-enable-flapping-detect"><a href="#zone-internal-enable-flapping-detect" class="header-anchor">#</a> zone.internal.enable_flapping_detect</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-135"><a href="#description-135" class="header-anchor">#</a> Description</h4><p>Whether to enable <code>Flapping</code> check.</p><h3 id="zone-internal-force-shutdown-policy"><a href="#zone-internal-force-shutdown-policy" class="header-anchor">#</a> zone.internal.force_shutdown_policy</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-136"><a href="#description-136" class="header-anchor">#</a> Description</h4><p>When the process message queue length, or the memory bytes reaches a certain value, the process is forced to close.</p><p>The &quot;message queue&quot; here refers to the &quot;message mailbox&quot; of the Erlang process, not the &quot;mqueue&quot; of QoS 1 and QoS 2.</p><p>Format: <code>&lt;Number&gt; | &lt;Bytes&gt;</code>.</p><p>For example, <code>32000|32MB</code> means that when the process accumulates <code>32000</code> messages, or the process occupies memory up to <code>32MB</code>, the process is closed.</p><h3 id="zone-internal-mountpoint"><a href="#zone-internal-mountpoint" class="header-anchor">#</a> zone.internal.mountpoint</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-137"><a href="#description-137" class="header-anchor">#</a> Description</h4><p>After topic mount point is configured, all subscribed and published topics will be prefixed by EMQX Broker.</p><p>The available placeholders are:</p><ul><li><code>%c</code>：Client ID.</li><li><code>%u</code>：Username.</li></ul><p>For example, if the mount point is set to <code>user/%c/</code>. , when the client with client ID <code>tom</code> publishes the topic <code>open</code> message, the topic actually routed in EMQX Broker is <code>user/tom/open</code>.</p><h3 id="zone-internal-ignore-loop-deliver"><a href="#zone-internal-ignore-loop-deliver" class="header-anchor">#</a> zone.internal.ignore_loop_deliver</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-138"><a href="#description-138" class="header-anchor">#</a> Description</h4><p>Whether to ignore the message sent by itself. If ignored, it means that EMQX Broker will not deliver this message to the sender of the message.</p><h3 id="zone-internal-strict-mode"><a href="#zone-internal-strict-mode" class="header-anchor">#</a> zone.internal.strict_mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-139"><a href="#description-139" class="header-anchor">#</a> Description</h4><p>Whether to enable the strict check mode. The strict check mode will check the correctness of the MQTT message in more detail.</p><h3 id="zone-internal-bypass-auth-plugins"><a href="#zone-internal-bypass-auth-plugins" class="header-anchor">#</a> zone.internal.bypass_auth_plugins</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-140"><a href="#description-140" class="header-anchor">#</a> Description</h4><p>Whether to allow clients under this zone to bypass the authentication step of the authentication plugin.</p><h3 id="listener-tcp-external"><a href="#listener-tcp-external" class="header-anchor">#</a> listener.tcp.external</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>0.0.0.0:1883</code></td></tr></tbody></table><h4 id="description-141"><a href="#description-141" class="header-anchor">#</a> Description</h4><p>Configure the listening address of the MQTT / TCP listener named <code>external</code>.</p><h4 id="example-5"><a href="#example-5" class="header-anchor">#</a> Example</h4><p><code>1883</code>: monitors IPv4 <code>0.0.0.0: 1883</code>. <code>127.0.0.1: 1883</code>: monitor address is <code>1883</code> port on the <code>127.0.0.1</code> network card. <code>:: 1: 1883</code>: monitors the IPv6 address as <code>1883</code> port on the <code>:: 1</code> network card.</p><h3 id="listener-tcp-external-acceptors"><a href="#listener-tcp-external-acceptors" class="header-anchor">#</a> listener.tcp.external.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8</td></tr></tbody></table><h4 id="description-142"><a href="#description-142" class="header-anchor">#</a> Description</h4><p>The size of the listener's receiving pool.</p><h3 id="listener-tcp-external-max-connections"><a href="#listener-tcp-external-max-connections" class="header-anchor">#</a> listener.tcp.external.max_connections</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024000</td></tr></tbody></table><h4 id="description-143"><a href="#description-143" class="header-anchor">#</a> Description</h4><p>The maximum number of concurrent connections allowed by the listener.</p><h3 id="listener-tcp-external-max-conn-rate"><a href="#listener-tcp-external-max-conn-rate" class="header-anchor">#</a> listener.tcp.external.max_conn_rate</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-144"><a href="#description-144" class="header-anchor">#</a> Description</h4><p>The maximum access rate allowed by the listener. Unit: pcs / sec</p><h3 id="listener-tcp-external-active-n"><a href="#listener-tcp-external-active-n" class="header-anchor">#</a> listener.tcp.external.active_n</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>100</td></tr></tbody></table><h4 id="description-145"><a href="#description-145" class="header-anchor">#</a> Description</h4><p>The number of times the listener continues to receive TCP packets.</p><h3 id="listener-tcp-external-zone"><a href="#listener-tcp-external-zone" class="header-anchor">#</a> listener.tcp.external.zone</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>external</code></td></tr></tbody></table><h4 id="description-146"><a href="#description-146" class="header-anchor">#</a> Description</h4><p>The configuration zone to which the listener belongs.</p><h3 id="listener-tcp-external-rate-limit"><a href="#listener-tcp-external-rate-limit" class="header-anchor">#</a> listener.tcp.external.rate_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-147"><a href="#description-147" class="header-anchor">#</a> Description</h4><p>The rate limit of the listener. The format is <code>&lt;limit&gt;,&lt;duration&gt;</code>.</p><h4 id="example-6"><a href="#example-6" class="header-anchor">#</a> Example</h4><p><code>100KB,10s</code>：Limit the number of incoming bytes within 10 seconds not to exceed 100 KB.</p><h3 id="listener-tcp-external-access-1"><a href="#listener-tcp-external-access-1" class="header-anchor">#</a> listener.tcp.external.access.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>allow all</code></td></tr></tbody></table><h4 id="description-148"><a href="#description-148" class="header-anchor">#</a> Description</h4><p>List of ACL rules of the listener. It is used to set the white/black list of the connection layer.</p><h4 id="example-7"><a href="#example-7" class="header-anchor">#</a> Example</h4><p><code>allow all</code>：Allow all TCP connections. <code>allow 192.168.0.0/24</code>：Allow TCP connection with network address <code>192.168.0.0/24</code>.</p><p>At the same time, this configuration can configure multiple rules:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>listener.tcp.external.access.1 = deny 192.168.0.1
listener.tcp.external.access.2 = allow all
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>It means that all TCP connections except <code>192.168.0.1</code> are allowed.</p><h3 id="listener-tcp-external-proxy-protocol"><a href="#listener-tcp-external-proxy-protocol" class="header-anchor">#</a> listener.tcp.external.proxy_protocol</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-149"><a href="#description-149" class="header-anchor">#</a> Description</h4><p>Whether the listener enables <code>Proxy Protocol</code> support.</p><p>If the EMQX cluster is deployed behind HAProxy or Nginx, and you need to get the client's real source IP address and port, you need to enable this configuration.</p><p><code>Proxy Protcol</code> : <a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-tcp-external-proxy-protocol-timeout"><a href="#listener-tcp-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.tcp.external.proxy_protocol_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td>-</td></tr></tbody></table><h4 id="description-150"><a href="#description-150" class="header-anchor">#</a> Description</h4><p>Set the timeout for Proxy Protocol parsing. If no Proxy Protocol packet is received within this time, EMQX Broker will close its connection.</p><h3 id="listener-tcp-external-peer-cert-as-username"><a href="#listener-tcp-external-peer-cert-as-username" class="header-anchor">#</a> listener.tcp.external.peer_cert_as_username</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-151"><a href="#description-151" class="header-anchor">#</a> Description</h4><p>Use the client certificate to override the value of the Username field. The optional values are:</p><ul><li>cn: the Common Name of the client certificate</li><li>dn: the Subject Name of the client certificate</li><li>crt: the DER-encoded binary of the client certificate</li><li>pem: base64 encoded string based on the DER-encoded binary</li><li>md5: MD5 hash of the DER-encoded binary</li></ul><p>Note: Under TCP listener, this configuration is only available if the load balancing server terminates the SSL deployment; and the load balancing server needs to be configured to send the content of the certificate domain to EMQX. For example, for HAProxy, see <a href="http://cbonte.github.io/haproxy-dconv/1.7/configuration.html#5.2-send-proxy-v2-ssl" target="_blank" rel="noopener noreferrer">send-proxy-v2-ssl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p><br><h3 id="listener-tcp-external-peer-cert-as-clientid"><a href="#listener-tcp-external-peer-cert-as-clientid" class="header-anchor">#</a> listener.tcp.external.peer_cert_as_clientid</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-152"><a href="#description-152" class="header-anchor">#</a> Description</h4><p>Use the client certificate to override the value of the ClientID field. The meaning of the optional values is the same as above.</p><h3 id="listener-tcp-external-backlog"><a href="#listener-tcp-external-backlog" class="header-anchor">#</a> listener.tcp.external.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024</td></tr></tbody></table><h4 id="description-153"><a href="#description-153" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="listener-tcp-external-send-timeout"><a href="#listener-tcp-external-send-timeout" class="header-anchor">#</a> listener.tcp.external.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-154"><a href="#description-154" class="header-anchor">#</a> Description</h4><p>Timeout for sending TCP packets.</p><h3 id="listener-tcp-external-send-timeout-close"><a href="#listener-tcp-external-send-timeout-close" class="header-anchor">#</a> listener.tcp.external.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-155"><a href="#description-155" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after TCP packet sending timeout.</p><h3 id="listener-tcp-external-recbuf"><a href="#listener-tcp-external-recbuf" class="header-anchor">#</a> listener.tcp.external.recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-156"><a href="#description-156" class="header-anchor">#</a> Description</h4><p>TCP receiving buffer size (operating system kernel parameter)</p><p>Reference: http://erlang.org/doc/man/inet.html</p><h3 id="listener-tcp-external-sndbuf"><a href="#listener-tcp-external-sndbuf" class="header-anchor">#</a> listener.tcp.external.sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-157"><a href="#description-157" class="header-anchor">#</a> Description</h4><p>TCP sending buffer size (operating system kernel parameter).</p><p>Reference:<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-tcp-external-buffer"><a href="#listener-tcp-external-buffer" class="header-anchor">#</a> listener.tcp.external.buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-158"><a href="#description-158" class="header-anchor">#</a> Description</h4><p>TCP buffer size (user level).</p><p>This value is recommended to be greater than or equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code> to avoid some performance problems. Without configuration, it equals to the maximum value of sndbuff and recbuff by default.</p><p>Reference: <a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-tcp-external-tune-buffer"><a href="#listener-tcp-external-tune-buffer" class="header-anchor">#</a> listener.tcp.external.tune_buffer</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-159"><a href="#description-159" class="header-anchor">#</a> Description</h4><p>If this configuration is enabled, please set the value equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code>.</p><h3 id="listener-tcp-external-nodelay"><a href="#listener-tcp-external-nodelay" class="header-anchor">#</a> listener.tcp.external.nodelay</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-160"><a href="#description-160" class="header-anchor">#</a> Description</h4><p>This is the <code>TCP_NODELAY</code> parameter. Enabling this option allows small TCP data packets to be sent immediately.</p><h3 id="listener-tcp-external-reuseaddr"><a href="#listener-tcp-external-reuseaddr" class="header-anchor">#</a> listener.tcp.external.reuseaddr</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-161"><a href="#description-161" class="header-anchor">#</a> Description</h4><p>This is the <code>SO_REUSEADDR</code> parameter. Enabling this option allows the local port to be reused without waiting for the end of the <code>TIME_WAIT</code> state.</p><h3 id="listener-tcp-internal"><a href="#listener-tcp-internal" class="header-anchor">#</a> listener.tcp.internal</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>127.0.0.1:11883</code></td></tr></tbody></table><h4 id="description-162"><a href="#description-162" class="header-anchor">#</a> Description</h4><p>Configure the listening address of the MQTT / TCP listener named <code>internal</code>.</p><h4 id="example-8"><a href="#example-8" class="header-anchor">#</a> Example</h4><p><code>11883</code>: listen to <code>0.0.0.0: 11883</code> of IPv4. <code>127.0.0.1:11883</code>: listening address is<code>11883</code> port on the <code>127.0.0.1</code> network card. <code>:: 1: 11883</code>: listen to the <code>11883</code> port on the <code>:: 1</code> network card of IPv6 address.</p><h3 id="listener-tcp-internal-acceptors"><a href="#listener-tcp-internal-acceptors" class="header-anchor">#</a> listener.tcp.internal.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>4</td></tr></tbody></table><h4 id="description-163"><a href="#description-163" class="header-anchor">#</a> Description</h4><p>The size of the listener's receiving pool.</p><h3 id="listener-tcp-internal-max-connections"><a href="#listener-tcp-internal-max-connections" class="header-anchor">#</a> listener.tcp.internal.max_connections</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024000</td></tr></tbody></table><h4 id="description-164"><a href="#description-164" class="header-anchor">#</a> Description</h4><p>The maximum number of concurrent connections allowed by the listener.</p><h3 id="listener-tcp-internal-max-conn-rate"><a href="#listener-tcp-internal-max-conn-rate" class="header-anchor">#</a> listener.tcp.internal.max_conn_rate</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-165"><a href="#description-165" class="header-anchor">#</a> Description</h4><p>The maximum access rate allowed by the listener. Unit: pcs / sec</p><h3 id="listener-tcp-internal-active-n"><a href="#listener-tcp-internal-active-n" class="header-anchor">#</a> listener.tcp.internal.active_n</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-166"><a href="#description-166" class="header-anchor">#</a> Description</h4><p>The number of times the listener continues to receive TCP packets.</p><h3 id="listener-tcp-internal-zone"><a href="#listener-tcp-internal-zone" class="header-anchor">#</a> listener.tcp.internal.zone</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>internal</code></td></tr></tbody></table><h4 id="description-167"><a href="#description-167" class="header-anchor">#</a> Description</h4><p>The configuration zone to which the listener belongs.</p><h3 id="listener-tcp-internal-rate-limit"><a href="#listener-tcp-internal-rate-limit" class="header-anchor">#</a> listener.tcp.internal.rate_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-168"><a href="#description-168" class="header-anchor">#</a> Description</h4><p>The rate limit of the listener. The format is <code>&lt;limit&gt;,&lt;duration&gt;</code>.</p><h4 id="example-9"><a href="#example-9" class="header-anchor">#</a> Example</h4><p><code>100KB,10s</code>：Limit the number of incoming bytes within 10 seconds no tot exceed 100 KB.</p><h3 id="listener-tcp-internal-backlog"><a href="#listener-tcp-internal-backlog" class="header-anchor">#</a> listener.tcp.internal.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-169"><a href="#description-169" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="listener-tcp-internal-send-timeout"><a href="#listener-tcp-internal-send-timeout" class="header-anchor">#</a> listener.tcp.internal.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-170"><a href="#description-170" class="header-anchor">#</a> Description</h4><p>Timeout for sending TCP packets.</p><h3 id="listener-tcp-internal-send-timeout-close"><a href="#listener-tcp-internal-send-timeout-close" class="header-anchor">#</a> listener.tcp.internal.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-171"><a href="#description-171" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after TCP packet sending timeout.</p><h3 id="listener-tcp-internal-recbuf"><a href="#listener-tcp-internal-recbuf" class="header-anchor">#</a> listener.tcp.internal.recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>64KB</code></td></tr></tbody></table><h4 id="description-172"><a href="#description-172" class="header-anchor">#</a> Description</h4><p>TCP receiving buffer size (operating system kernel parameter)</p><h3 id="listener-tcp-internal-sndbuf"><a href="#listener-tcp-internal-sndbuf" class="header-anchor">#</a> listener.tcp.internal.sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>64KB</code></td></tr></tbody></table><h4 id="description-173"><a href="#description-173" class="header-anchor">#</a> Description</h4><p>TCP sending buffer size (operating system kernel parameter)</p><h3 id="listener-tcp-internal-buffer"><a href="#listener-tcp-internal-buffer" class="header-anchor">#</a> listener.tcp.internal.buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-174"><a href="#description-174" class="header-anchor">#</a> Description</h4><p>TCP buffer size (user level).</p><h3 id="listener-tcp-internal-tune-buffer"><a href="#listener-tcp-internal-tune-buffer" class="header-anchor">#</a> listener.tcp.internal.tune_buffer</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-175"><a href="#description-175" class="header-anchor">#</a> Description</h4><p>If this configuration is enabled, please set the value equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code>.</p><h3 id="listener-tcp-internal-nodelay"><a href="#listener-tcp-internal-nodelay" class="header-anchor">#</a> listener.tcp.internal.nodelay</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-176"><a href="#description-176" class="header-anchor">#</a> Description</h4><p>This is the <code>TCP_NODELAY</code> parameter. Enabling this option allows small TCP data packets to be sent immediately.</p><h3 id="listener-tcp-internal-reuseaddr"><a href="#listener-tcp-internal-reuseaddr" class="header-anchor">#</a> listener.tcp.internal.reuseaddr</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-177"><a href="#description-177" class="header-anchor">#</a> Description</h4><p>This is the <code>SO_REUSEADDR</code> parameter. Enabling this option allows the local port to be reused without waiting for the end of the <code>TIME_WAIT</code> state.</p><h3 id="listener-ssl-external"><a href="#listener-ssl-external" class="header-anchor">#</a> listener.ssl.external</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>0.0.0.0:8883</code></td></tr></tbody></table><h4 id="description-178"><a href="#description-178" class="header-anchor">#</a> Description</h4><p>Configure an SSL listener named <code>external</code>.</p><h3 id="listener-ssl-external-acceptors"><a href="#listener-ssl-external-acceptors" class="header-anchor">#</a> listener.ssl.external.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>16</td></tr></tbody></table><h4 id="description-179"><a href="#description-179" class="header-anchor">#</a> Description</h4><p>The size of the listener's receiving pool.</p><h3 id="listener-ssl-external-max-connections"><a href="#listener-ssl-external-max-connections" class="header-anchor">#</a> listener.ssl.external.max_connections</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>102400</td></tr></tbody></table><h4 id="description-180"><a href="#description-180" class="header-anchor">#</a> Description</h4><p>The maximum number of concurrent connections allowed by the listener.</p><h3 id="listener-ssl-external-max-conn-rate"><a href="#listener-ssl-external-max-conn-rate" class="header-anchor">#</a> listener.ssl.external.max_conn_rate</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>500</td></tr></tbody></table><h4 id="description-181"><a href="#description-181" class="header-anchor">#</a> Description</h4><p>The maximum access rate allowed by the listener. Unit: pcs / sec.</p><h3 id="listener-ssl-external-active-n"><a href="#listener-ssl-external-active-n" class="header-anchor">#</a> listener.ssl.external.active_n</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>100</td></tr></tbody></table><h4 id="description-182"><a href="#description-182" class="header-anchor">#</a> Description</h4><p>The number of times the listener continues to receive TCP packets.</p><h3 id="listener-ssl-external-zone"><a href="#listener-ssl-external-zone" class="header-anchor">#</a> listener.ssl.external.zone</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>external</code></td></tr></tbody></table><h4 id="description-183"><a href="#description-183" class="header-anchor">#</a> Description</h4><p>The configuration group to which the listener belongs.</p><h3 id="listener-ssl-external-access-1"><a href="#listener-ssl-external-access-1" class="header-anchor">#</a> listener.ssl.external.access.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>allow all</code></td></tr></tbody></table><h4 id="description-184"><a href="#description-184" class="header-anchor">#</a> Description</h4><p>List of ACL rules of the listener. It is used to set the white/black list of the connection layer.</p><p>For example:</p><p><code>allow all</code>：Allow all TCP connections. <code>allow 192.168.0.0/24</code>：Allow TCP connection with network address <code>192.168.0.0/24</code> to access.</p><p>At the same time, the configuration can configure multiple rules:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>listener.ssl.external.access.1 = deny 192.168.0.1
listener.ssl.external.access.2 = allow all
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="listener-ssl-external-rate-limit"><a href="#listener-ssl-external-rate-limit" class="header-anchor">#</a> listener.ssl.external.rate_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-185"><a href="#description-185" class="header-anchor">#</a> Description</h4><p>Listener rate limit, with the format of <code>&lt;limit&gt;,&lt;duration&gt;</code>.</p><h3 id="listener-ssl-external-proxy-protocol"><a href="#listener-ssl-external-proxy-protocol" class="header-anchor">#</a> listener.ssl.external.proxy_protocol</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-186"><a href="#description-186" class="header-anchor">#</a> Description</h4><p>Whether the listener enables <code>Proxy Protocol</code> support.</p><p>If the EMQX cluster is deployed behind HAProxy or Nginx, and it is required to get the client's real source IP address and port, you need to enable this configuration.</p><p><code>Proxy Protcol</code> reference: <a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ssl-external-proxy-protocol-timeout"><a href="#listener-ssl-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.ssl.external.proxy_protocol_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td>-</td></tr></tbody></table><h4 id="description-187"><a href="#description-187" class="header-anchor">#</a> Description</h4><p>Set the timeout for Proxy Protocol parsing. If no Proxy Protocol packet is received within this time, EMQX Broker will close its connection.</p><h3 id="listener-ssl-external-tls-versions"><a href="#listener-ssl-external-tls-versions" class="header-anchor">#</a> listener.ssl.external.tls_versions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>tlsv1.3,tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table><h4 id="description-188"><a href="#description-188" class="header-anchor">#</a> Description</h4><p>Specify the SSL version list supported by the server. For details, see <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ssl-external-handshake-timeout"><a href="#listener-ssl-external-handshake-timeout" class="header-anchor">#</a> listener.ssl.external.handshake_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-189"><a href="#description-189" class="header-anchor">#</a> Description</h4><p>Specify the timeout period for the SSL handshake process.</p><h3 id="listener-ssl-external-depth"><a href="#listener-ssl-external-depth" class="header-anchor">#</a> listener.ssl.external.depth</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>number</td><td><code>10</code></td></tr></tbody></table><h4 id="description-190"><a href="#description-190" class="header-anchor">#</a> Description</h4><p>Maximum number of non-self-issued intermediate certificates that can follow the peer certificate in a valid certification path.</p><h3 id="listener-ssl-external-key-password"><a href="#listener-ssl-external-key-password" class="header-anchor">#</a> listener.ssl.external.key_password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-191"><a href="#description-191" class="header-anchor">#</a> Description</h4><p>String containing the user's password. Only used if the private keyfile is password-protected.</p><h3 id="listener-ssl-external-keyfile"><a href="#listener-ssl-external-keyfile" class="header-anchor">#</a> listener.ssl.external.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-192"><a href="#description-192" class="header-anchor">#</a> Description</h4><p>File path to the server's private key.</p><h3 id="listener-ssl-external-certfile"><a href="#listener-ssl-external-certfile" class="header-anchor">#</a> listener.ssl.external.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-193"><a href="#description-193" class="header-anchor">#</a> Description</h4><p>File path to the server's certificate.</p><h3 id="listener-ssl-external-cacertfile"><a href="#listener-ssl-external-cacertfile" class="header-anchor">#</a> listener.ssl.external.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-194"><a href="#description-194" class="header-anchor">#</a> Description</h4><p>File path to the CA certificates. It should include all intermediate CA certificates and root CA certificate of the server certificate. It should also include trusted CAs to validate client certificates when <code>verify</code> configuration is set to <code>verify_peer</code>.</p><h3 id="listener-ssl-external-dhfile"><a href="#listener-ssl-external-dhfile" class="header-anchor">#</a> listener.ssl.external.dhfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table><h4 id="description-195"><a href="#description-195" class="header-anchor">#</a> Description</h4><p>If using the Ephemeral Diffie-Hellman algorithm, specify the key file used by the algorithm.</p><h3 id="listener-ssl-external-verify"><a href="#listener-ssl-external-verify" class="header-anchor">#</a> listener.ssl.external.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td><code>verify_peer</code></td></tr></tbody></table><h4 id="description-196"><a href="#description-196" class="header-anchor">#</a> Description</h4><p>Specifies whether to verify the client during the handshake.</p><h3 id="listener-ssl-external-fail-if-no-peer-cert"><a href="#listener-ssl-external-fail-if-no-peer-cert" class="header-anchor">#</a> listener.ssl.external.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-197"><a href="#description-197" class="header-anchor">#</a> Description</h4><p>If the client does not have a certificate during the SSL handshake, it determines whether to let the handshake fail.</p><h3 id="listener-ssl-external-ciphers"><a href="#listener-ssl-external-ciphers" class="header-anchor">#</a> listener.ssl.external.ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table><h4 id="description-198"><a href="#description-198" class="header-anchor">#</a> Description</h4><p>Specify the cipher suite supported by the server.</p><h3 id="listener-ssl-external-psk-ciphers"><a href="#listener-ssl-external-psk-ciphers" class="header-anchor">#</a> listener.ssl.external.psk_ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA</code></td></tr></tbody></table><h4 id="description-199"><a href="#description-199" class="header-anchor">#</a> Description</h4><p>If using the PSK algorithm, specify the PSK Cipher list supported by the server. Note that only one of 'listener.ssl.external.ciphers' and 'listener.ssl.external.psk_ciphers' can be configured.</p><h3 id="listener-ssl-external-secure-renegotiate"><a href="#listener-ssl-external-secure-renegotiate" class="header-anchor">#</a> listener.ssl.external.secure_renegotiate</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-200"><a href="#description-200" class="header-anchor">#</a> Description</h4><p>Specifies whether to reject renegotiation requests if the client does not follow RFC 5746</p><h3 id="listener-ssl-external-reuse-sessions"><a href="#listener-ssl-external-reuse-sessions" class="header-anchor">#</a> listener.ssl.external.reuse_sessions</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-201"><a href="#description-201" class="header-anchor">#</a> Description</h4><p>Specify whether to support SSL session reuse. For details, see<a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ssl-external-honor-cipher-order"><a href="#listener-ssl-external-honor-cipher-order" class="header-anchor">#</a> listener.ssl.external.honor_cipher_order</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-202"><a href="#description-202" class="header-anchor">#</a> Description</h4><p>Specify whether to use the server's preferences to select Ciphers.</p><h3 id="listener-ssl-external-peer-cert-as-username"><a href="#listener-ssl-external-peer-cert-as-username" class="header-anchor">#</a> listener.ssl.external.peer_cert_as_username</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-203"><a href="#description-203" class="header-anchor">#</a> Description</h4><p>Use the client certificate to override the value of the Username field. The optional values are:</p><ul><li>cn: the Common Name of the client certificate</li><li>dn: the Subject Name of the client certificate</li><li>crt: the DER-encoded binary of the client certificate</li><li>pem: base64 encoded string based on the DER-encoded binary</li><li>md5: MD5 hash of the DER-encoded binary</li></ul><p>Note that <code>listener.ssl.external.verify</code> should be set to <code>verify_peer</code>.</p><h3 id="listener-tcp-external-peer-cert-as-clientid-2"><a href="#listener-tcp-external-peer-cert-as-clientid-2" class="header-anchor">#</a> listener.tcp.external.peer_cert_as_clientid</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-204"><a href="#description-204" class="header-anchor">#</a> Description</h4><p>Use the client certificate to override the value of the ClientID field. The meaning of the optional values is the same as above.</p><h3 id="listener-ssl-external-backlog"><a href="#listener-ssl-external-backlog" class="header-anchor">#</a> listener.ssl.external.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024</td></tr></tbody></table><h4 id="description-205"><a href="#description-205" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="listener-ssl-external-send-timeout"><a href="#listener-ssl-external-send-timeout" class="header-anchor">#</a> listener.ssl.external.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-206"><a href="#description-206" class="header-anchor">#</a> Description</h4><p>Timeout for sending TCP packets.</p><h3 id="listener-ssl-external-send-timeout-close"><a href="#listener-ssl-external-send-timeout-close" class="header-anchor">#</a> listener.ssl.external.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-207"><a href="#description-207" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after TCP packet sending timeout.</p><h3 id="listener-ssl-external-recbuf"><a href="#listener-ssl-external-recbuf" class="header-anchor">#</a> listener.ssl.external.recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-208"><a href="#description-208" class="header-anchor">#</a> Description</h4><p>TCP receiving buffer size (operating system kernel level parameter).</p><p>Reference:<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ssl-external-sndbuf"><a href="#listener-ssl-external-sndbuf" class="header-anchor">#</a> listener.ssl.external.sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-209"><a href="#description-209" class="header-anchor">#</a> Description</h4><p>TCP sending buffer size (operating system kernel level parameter).</p><p>Reference:<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ssl-external-buffer"><a href="#listener-ssl-external-buffer" class="header-anchor">#</a> listener.ssl.external.buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-210"><a href="#description-210" class="header-anchor">#</a> Description</h4><p>CP buffer size (user level).</p><p>This value is recommended to be greater than or equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code> to avoid some performance problems. Without configuration, it equals to the maximum value of sndbuff and recbuff by default.</p><p>Reference:<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ssl-external-tune-buffer"><a href="#listener-ssl-external-tune-buffer" class="header-anchor">#</a> listener.ssl.external.tune_buffer</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-211"><a href="#description-211" class="header-anchor">#</a> Description</h4><p>If this configuration is enabled, please set the value equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code>.</p><h3 id="listener-ssl-external-nodelay"><a href="#listener-ssl-external-nodelay" class="header-anchor">#</a> listener.ssl.external.nodelay</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-212"><a href="#description-212" class="header-anchor">#</a> Description</h4><p>This is the <code>TCP_NODELAY</code> parameter. Enabling this option means that the Nagle algorithm is disabled and small packets will be sent immediately.</p><h3 id="listener-ssl-external-reuseaddr"><a href="#listener-ssl-external-reuseaddr" class="header-anchor">#</a> listener.ssl.external.reuseaddr</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-213"><a href="#description-213" class="header-anchor">#</a> Description</h4><p>This is the <code>SO_REUSEADDR</code> parameter. Enabling this option allows the local port to be reused without waiting for the end of the <code>TIME_WAIT</code> state.</p><h3 id="listener-ws-external"><a href="#listener-ws-external" class="header-anchor">#</a> listener.ws.external</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>8083</code></td></tr></tbody></table><h4 id="description-214"><a href="#description-214" class="header-anchor">#</a> Description</h4><p>Configure the listening address of the MQTT/WS listener named <code>external</code>.</p><h4 id="example-10"><a href="#example-10" class="header-anchor">#</a> Example</h4><p><code>8083</code>: Listen s to <code>0.0.0.0: 8083</code> of IPv4. <code>127.0.0.1:8083</code>: Listening address is <code>8083</code> port on the <code>127.0.0.1</code> network card. <code>:: 1: 8083</code>: Listen to the <code>8083</code> port on the network card <code>:: 1</code> of IPv6 address.</p><h3 id="listener-ws-external-mqtt-path"><a href="#listener-ws-external-mqtt-path" class="header-anchor">#</a> listener.ws.external.mqtt_path</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>/mqtt</code></td></tr></tbody></table><h4 id="description-215"><a href="#description-215" class="header-anchor">#</a> Description</h4><p>WebSocket's MQTT protocol path. So the address of EMQX Broker's WebSocket is: <code>ws://{ip}:{port}/mqtt</code>.</p><h3 id="listener-ws-external-acceptors"><a href="#listener-ws-external-acceptors" class="header-anchor">#</a> listener.ws.external.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>4</td></tr></tbody></table><h4 id="description-216"><a href="#description-216" class="header-anchor">#</a> Description</h4><p>The size of the listener's receiving pool.</p><h3 id="listener-ws-external-max-connections"><a href="#listener-ws-external-max-connections" class="header-anchor">#</a> listener.ws.external.max_connections</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>102400</td></tr></tbody></table><h4 id="description-217"><a href="#description-217" class="header-anchor">#</a> Description</h4><p>The maximum number of concurrent connections allowed by the listener.</p><h3 id="listener-ws-external-max-conn-rate"><a href="#listener-ws-external-max-conn-rate" class="header-anchor">#</a> listener.ws.external.max_conn_rate</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-218"><a href="#description-218" class="header-anchor">#</a> Description</h4><p>The maximum access rate allowed by the listener. Unit: pcs/sec</p><h3 id="listener-ws-external-active-n"><a href="#listener-ws-external-active-n" class="header-anchor">#</a> listener.ws.external.active_n</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>100</td></tr></tbody></table><h4 id="description-219"><a href="#description-219" class="header-anchor">#</a> Description</h4><p>The number of times the listener continues to receive TCP packets.</p><h3 id="listener-ws-external-rate-limit"><a href="#listener-ws-external-rate-limit" class="header-anchor">#</a> listener.ws.external.rate_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>100KB,10s</code></td></tr></tbody></table><h4 id="description-220"><a href="#description-220" class="header-anchor">#</a> Description</h4><p>The rate limit of the listener. The format is <code>&lt;limit&gt;,&lt;duration&gt;</code>.</p><h4 id="example-11"><a href="#example-11" class="header-anchor">#</a> Example</h4><p><code>100KB,10s</code>： Limit the number of incoming bytes within 10 seconds to not exceed 100 KB.</p><h3 id="listener-ws-external-zone"><a href="#listener-ws-external-zone" class="header-anchor">#</a> listener.ws.external.zone</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>external</code></td></tr></tbody></table><h4 id="description-221"><a href="#description-221" class="header-anchor">#</a> Description</h4><p>The configuration zone to which the listener belongs.</p><h3 id="listener-ws-external-access-1"><a href="#listener-ws-external-access-1" class="header-anchor">#</a> listener.ws.external.access.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>allow all</code></td></tr></tbody></table><h4 id="description-222"><a href="#description-222" class="header-anchor">#</a> Description</h4><p>List of ACL rules of the listener. It is used to set the white/black list of the connection layer.</p><h3 id="listener-ws-external-verify-protocol-header"><a href="#listener-ws-external-verify-protocol-header" class="header-anchor">#</a> listener.ws.external.verify_protocol_header</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-223"><a href="#description-223" class="header-anchor">#</a> Description</h4><p>Whether to verify that the HTTP header carried by WebSocket is correct. <strong>WeChat applet needs to disable this verification.</strong></p><h3 id="listener-ws-external-fail-if-no-subprotocol"><a href="#listener-ws-external-fail-if-no-subprotocol" class="header-anchor">#</a> listener.ws.external.fail_if_no_subprotocol</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-224"><a href="#description-224" class="header-anchor">#</a> Description</h4><p>If set to true, the server will return an error when the client does not carry the Sec-WebSocket-Protocol field. <strong>WeChat applet needs to disable this verification.</strong></p><h3 id="listener-ws-external-supported-subprotocols"><a href="#listener-ws-external-supported-subprotocols" class="header-anchor">#</a> listener.ws.external.supported_subprotocols</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt, mqtt-v3, mqtt-v3.1.1, mqtt-v5</code></td></tr></tbody></table><h4 id="description-225"><a href="#description-225" class="header-anchor">#</a> Description</h4><p>Specify the supported subprotocols, separated by commas.</p><h3 id="listener-ws-external-proxy-address-header"><a href="#listener-ws-external-proxy-address-header" class="header-anchor">#</a> listener.ws.external.proxy_address_header</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>X-Forwarded-For</code></td><td>-</td></tr></tbody></table><h4 id="description-226"><a href="#description-226" class="header-anchor">#</a> Description</h4><p>If the EMQX cluster is deployed behind HAProxy or Nginx, you can open the configuration to obtain the real IP address of the client.</p><h3 id="listener-ws-external-proxy-port-header"><a href="#listener-ws-external-proxy-port-header" class="header-anchor">#</a> listener.ws.external.proxy_port_header</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>X-Forwarded-Port</code></td><td>-</td></tr></tbody></table><h4 id="description-227"><a href="#description-227" class="header-anchor">#</a> Description</h4><p>If the EMQX cluster is deployed behind HAProxy or Nginx, you can open the configuration to get the real port of the client.</p><h3 id="listener-ws-external-proxy-protocol"><a href="#listener-ws-external-proxy-protocol" class="header-anchor">#</a> listener.ws.external.proxy_protocol</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-228"><a href="#description-228" class="header-anchor">#</a> Description</h4><p>Whether the listener enables <code>Proxy Protocol</code> support.</p><p>If the EMQX cluster is deployed behind HAProxy or Nginx, and you need to get the client's real source IP address and port, you need to open this configuration.</p><p><code>Proxy Protcol</code> reference: <a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-ws-external-proxy-protocol-timeout"><a href="#listener-ws-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.ws.external.proxy_protocol_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td>-</td></tr></tbody></table><h4 id="description-229"><a href="#description-229" class="header-anchor">#</a> Description</h4><p>Set the timeout for Proxy Protocol parsing. If no Proxy Protocol packet is received within this time, EMQX Broker will close its connection.</p><h3 id="listener-ws-external-backlog"><a href="#listener-ws-external-backlog" class="header-anchor">#</a> listener.ws.external.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024</td></tr></tbody></table><h4 id="description-230"><a href="#description-230" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="listener-ws-external-send-timeout"><a href="#listener-ws-external-send-timeout" class="header-anchor">#</a> listener.ws.external.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-231"><a href="#description-231" class="header-anchor">#</a> Description</h4><p>Timeout for sending TCP packets.</p><h3 id="listener-ws-external-send-timeout-close"><a href="#listener-ws-external-send-timeout-close" class="header-anchor">#</a> listener.ws.external.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-232"><a href="#description-232" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after TCP packet sending timeout.</p><h3 id="listener-ws-external-recbuf"><a href="#listener-ws-external-recbuf" class="header-anchor">#</a> listener.ws.external.recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-233"><a href="#description-233" class="header-anchor">#</a> Description</h4><p>TCP receiving buffer size (operating system kernel level parameter)</p><h3 id="listener-ws-external-sndbuf"><a href="#listener-ws-external-sndbuf" class="header-anchor">#</a> listener.ws.external.sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-234"><a href="#description-234" class="header-anchor">#</a> Description</h4><p>TCP sending buffer size (operating system kernel level parameter)</p><h3 id="listener-ws-external-buffer"><a href="#listener-ws-external-buffer" class="header-anchor">#</a> listener.ws.external.buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-235"><a href="#description-235" class="header-anchor">#</a> Description</h4><p>TCP buffer size (user level).</p><h3 id="listener-ws-external-tune-buffer"><a href="#listener-ws-external-tune-buffer" class="header-anchor">#</a> listener.ws.external.tune_buffer</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-236"><a href="#description-236" class="header-anchor">#</a> Description</h4><p>If this configuration is enabled, please set the value equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code>.</p><h3 id="listener-ws-external-nodelay"><a href="#listener-ws-external-nodelay" class="header-anchor">#</a> listener.ws.external.nodelay</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-237"><a href="#description-237" class="header-anchor">#</a> Description</h4><p>This is the <code>TCP_NODELAY</code> parameter. Enabling this option allows small TCP data packets to be sent immediately.</p><h3 id="listener-ws-external-compress"><a href="#listener-ws-external-compress" class="header-anchor">#</a> listener.ws.external.compress</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td>-</td></tr></tbody></table><h4 id="description-238"><a href="#description-238" class="header-anchor">#</a> Description</h4><p>Whether to compress WebSocket messages. The implementation of compression depends on <a href="http://www.zlib.net" target="_blank" rel="noopener noreferrer">zlib<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><p>The configuration items under <code>defalte_opts</code> belong to the compression-related parameter configuration, if not necessary, please do not modify it.</p><h3 id="listener-ws-external-deflate-opts-level"><a href="#listener-ws-external-deflate-opts-level" class="header-anchor">#</a> listener.ws.external.deflate_opts.level</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>none</code>, <code>default</code>, <code>best_compression</code>, <code>best_speed</code></td><td>-</td></tr></tbody></table><h4 id="description-239"><a href="#description-239" class="header-anchor">#</a> Description</h4><p>compression level</p><h3 id="listener-ws-external-deflate-opts-mem-level"><a href="#listener-ws-external-deflate-opts-mem-level" class="header-anchor">#</a> listener.ws.external.deflate_opts.mem_level</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1 - 9</td><td>-</td></tr></tbody></table><h4 id="description-240"><a href="#description-240" class="header-anchor">#</a> Description</h4><p>Compression parameters. It means memory usage limit level, and configure how much memory can be opened to participate in the compression process.</p><p><code>1</code>: The least memory, but will reduce the compression rate. <code>9</code>: The most memory, and will increase the calculation speed and compression rate.</p><p>If not configured, the default is <code>8</code>.</p><h3 id="listener-ws-external-deflate-opts-strategy"><a href="#listener-ws-external-deflate-opts-strategy" class="header-anchor">#</a> listener.ws.external.deflate_opts.strategy</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>default</code>, <code>filtered</code>, <code>huffman_only</code>, <code>rle</code></td><td>-</td></tr></tbody></table><h4 id="description-241"><a href="#description-241" class="header-anchor">#</a> Description</h4><p>Compression strategy for tuning compression ratio:</p><ul><li><code>default</code>: for ordinary data.</li><li><code>filtered</code>: data generated by filters or predictors, suitable for content with strong randomness.</li><li><code>huffman_only</code>: Mandatory use of Huffman algorithm. Better than <code>filtered</code>.</li><li><code>rle</code>: limit the matching distance to 1 (Run-Lenght Encoding), faster than <code>huffman_only</code>, but mainly used for PNG images.</li></ul><p>These strategies only affect the compression ratio and will not have any impact on correctness.</p><h3 id="listener-ws-external-deflate-opts-server-context-takeover"><a href="#listener-ws-external-deflate-opts-server-context-takeover" class="header-anchor">#</a> listener.ws.external.deflate_opts.server_context_takeover</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>takeover</code>, <code>no_takeover</code></td><td>-</td></tr></tbody></table><h4 id="description-242"><a href="#description-242" class="header-anchor">#</a> Description</h4><p>Whether to allow the server's compression context to be passed between frames.</p><h3 id="listener-ws-external-deflate-opts-client-context-takeover"><a href="#listener-ws-external-deflate-opts-client-context-takeover" class="header-anchor">#</a> listener.ws.external.deflate_opts.client_context_takeover</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>takeover</code>, <code>no_takeover</code></td><td>-</td></tr></tbody></table><h4 id="description-243"><a href="#description-243" class="header-anchor">#</a> Description</h4><p>Whether to allow the client's compression context to be passed between frames.</p><h3 id="listener-ws-external-deflate-opts-server-max-window-bits"><a href="#listener-ws-external-deflate-opts-server-max-window-bits" class="header-anchor">#</a> listener.ws.external.deflate_opts.server_max_window_bits</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8 - 15</td><td>-</td></tr></tbody></table><h4 id="description-244"><a href="#description-244" class="header-anchor">#</a> Description</h4><p>Maximum window value on the server side. Setting a larger value will result in better compression ratio, but will consume additional memory.</p><h3 id="listener-ws-external-deflate-opts-client-max-window-bits"><a href="#listener-ws-external-deflate-opts-client-max-window-bits" class="header-anchor">#</a> listener.ws.external.deflate_opts.client_max_window_bits</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8 - 15</td><td>-</td></tr></tbody></table><h4 id="description-245"><a href="#description-245" class="header-anchor">#</a> Description</h4><p>Client maximum window value. Setting a larger value will result in better compression ratio, but will consume additional memory.</p><h3 id="listener-ws-external-idle-timeout"><a href="#listener-ws-external-idle-timeout" class="header-anchor">#</a> listener.ws.external.idle_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td>-</td></tr></tbody></table><h4 id="description-246"><a href="#description-246" class="header-anchor">#</a> Description</h4><p>The daze time after the TCP connection is established. If no packets are received within this time, the connection will be closed.</p><h3 id="listener-ws-external-max-frame-size"><a href="#listener-ws-external-max-frame-size" class="header-anchor">#</a> listener.ws.external.max_frame_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-</td></tr></tbody></table><h4 id="description-247"><a href="#description-247" class="header-anchor">#</a> Description</h4><p>The maximum allowed length of a single MQTT packet.</p><h3 id="listener-wss-external"><a href="#listener-wss-external" class="header-anchor">#</a> listener.wss.external</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>0.0.0.0:8084</code></td></tr></tbody></table><h4 id="description-248"><a href="#description-248" class="header-anchor">#</a> Description</h4><p>Configure a WSS (MQTT/WebSocket/SSL) listener named <code>external</code>.</p><h3 id="listener-wss-external-mqtt-path"><a href="#listener-wss-external-mqtt-path" class="header-anchor">#</a> listener.wss.external.mqtt_path</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>/mqtt</code></td></tr></tbody></table><h4 id="description-249"><a href="#description-249" class="header-anchor">#</a> Description</h4><p>WebSocket URL Path.</p><h3 id="listener-wss-external-acceptors"><a href="#listener-wss-external-acceptors" class="header-anchor">#</a> listener.wss.external.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>4</td></tr></tbody></table><h4 id="description-250"><a href="#description-250" class="header-anchor">#</a> Description</h4><p>The size of the listener's receiving pool.</p><h3 id="listener-wss-external-max-connections"><a href="#listener-wss-external-max-connections" class="header-anchor">#</a> listener.wss.external.max_connections</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>16</td></tr></tbody></table><h4 id="description-251"><a href="#description-251" class="header-anchor">#</a> Description</h4><p>The maximum number of concurrent connections allowed by the listener.</p><h3 id="listener-wss-external-max-conn-rate"><a href="#listener-wss-external-max-conn-rate" class="header-anchor">#</a> listener.wss.external.max_conn_rate</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-252"><a href="#description-252" class="header-anchor">#</a> Description</h4><p>The maximum access rate allowed by the listener. Unit: pcs/sec.</p><h3 id="listener-wss-external-active-n"><a href="#listener-wss-external-active-n" class="header-anchor">#</a> listener.wss.external.active_n</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>100</td></tr></tbody></table><h4 id="description-253"><a href="#description-253" class="header-anchor">#</a> Description</h4><p>The number of times the listener continues to receive TCP packets.</p><h3 id="listener-wss-external-rate-limit"><a href="#listener-wss-external-rate-limit" class="header-anchor">#</a> listener.wss.external.rate_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-254"><a href="#description-254" class="header-anchor">#</a> Description</h4><p>The rate limit of the listener. The format is <code>&lt;limit&gt;,&lt;duration&gt;</code>.</p><h3 id="listener-wss-external-zone"><a href="#listener-wss-external-zone" class="header-anchor">#</a> listener.wss.external.zone</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>external</code></td></tr></tbody></table><h4 id="description-255"><a href="#description-255" class="header-anchor">#</a> Description</h4><p>The configuration group to which the listener belongs.</p><h3 id="listener-wss-external-access-1"><a href="#listener-wss-external-access-1" class="header-anchor">#</a> listener.wss.external.access.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>allow all</code></td></tr></tbody></table><h4 id="description-256"><a href="#description-256" class="header-anchor">#</a> Description</h4><p>List of ACL rules of the listener. It is used to set the white/black list of the connection layer.</p><p>E.g:</p><p><code>allow all</code>: Allow all TCP connections. <code>allow 192.168.0.0/24</code>: Allow TCP connections with a network address of <code>192.168.0.0 / 24</code> to access.</p><p>At the same time, the configuration can configure multiple rules:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>listener.wss.external.access.1 = deny 192.168.0.1
listener.wss.external.access.2 = allow all
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="listener-wss-external-fail-if-no-subprotocol"><a href="#listener-wss-external-fail-if-no-subprotocol" class="header-anchor">#</a> listener.wss.external.fail_if_no_subprotocol</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-257"><a href="#description-257" class="header-anchor">#</a> Description</h4><p>If set to true, the server will return an error when the client does not carry the Sec-WebSocket-Protocol field. <strong>WeChat applet needs to disable this verification.</strong></p><h3 id="listener-wss-external-supported-subprotocols"><a href="#listener-wss-external-supported-subprotocols" class="header-anchor">#</a> listener.wss.external.supported_subprotocols</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt, mqtt-v3, mqtt-v3.1.1, mqtt-v5</code></td></tr></tbody></table><h4 id="description-258"><a href="#description-258" class="header-anchor">#</a> Description</h4><p>Specify the supported subprotocols, separated by commas.</p><h3 id="listener-wss-external-proxy-address-header"><a href="#listener-wss-external-proxy-address-header" class="header-anchor">#</a> listener.wss.external.proxy_address_header</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>X-Forwarded-For</code></td></tr></tbody></table><h4 id="description-259"><a href="#description-259" class="header-anchor">#</a> Description</h4><p>If the EMQX cluster is deployed in HAProxy or Nginx, you can open the configuration to obtain the real IP address of the client.</p><h3 id="listener-wss-external-proxy-protocol"><a href="#listener-wss-external-proxy-protocol" class="header-anchor">#</a> listener.wss.external.proxy_protocol</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-260"><a href="#description-260" class="header-anchor">#</a> Description</h4><p>Whether the listener enables <code>Proxy Protocol</code> support.</p><p>If the EMQX cluster is deployed behind HAProxy or Nginx, and you need to get the client's real source IP address and port, you need to open this configuration.</p><p><code>Proxy Protcol</code> reference:<a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-wss-external-proxy-protocol-timeout"><a href="#listener-wss-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.wss.external.proxy_protocol_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td>-</td></tr></tbody></table><h4 id="description-261"><a href="#description-261" class="header-anchor">#</a> Description</h4><p>Set the timeout for Proxy Protocol parsing. If no Proxy Protocol packet is received within this time, EMQX Broker will close its connection.</p><h3 id="listener-wss-external-peer-cert-as-username"><a href="#listener-wss-external-peer-cert-as-username" class="header-anchor">#</a> listener.wss.external.peer_cert_as_username</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-262"><a href="#description-262" class="header-anchor">#</a> Description</h4><p>Use the client certificate to override the value of the Username field. The optional values are:</p><ul><li>cn: the Common Name of the client certificate</li><li>dn: the Subject Name of the client certificate</li><li>crt: the DER-encoded binary of the client certificate</li><li>pem: base64 encoded string based on the DER-encoded binary</li><li>md5: MD5 hash of the DER-encoded binary</li></ul><p>Note that <code>listener.wss.external.verify</code> should be set to <code>verify_peer</code>.</p><h3 id="listener-wss-external-peer-cert-as-clientid"><a href="#listener-wss-external-peer-cert-as-clientid" class="header-anchor">#</a> listener.wss.external.peer_cert_as_clientid</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-263"><a href="#description-263" class="header-anchor">#</a> Description</h4><p>Use the client certificate to override the value of the ClientID field. The meaning of the optional values is the same as above.</p><h3 id="listener-wss-external-tls-versions"><a href="#listener-wss-external-tls-versions" class="header-anchor">#</a> listener.wss.external.tls_versions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>tlsv1.3,tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table><h4 id="description-264"><a href="#description-264" class="header-anchor">#</a> Description</h4><p>Specify the SSL version list supported by the server. For details, see <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-wss-external-keyfile"><a href="#listener-wss-external-keyfile" class="header-anchor">#</a> listener.wss.external.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-265"><a href="#description-265" class="header-anchor">#</a> Description</h4><p>File path to server's private key.</p><h3 id="listener-wss-external-certfile"><a href="#listener-wss-external-certfile" class="header-anchor">#</a> listener.wss.external.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-266"><a href="#description-266" class="header-anchor">#</a> Description</h4><p>File path to the server's certificate.</p><h3 id="listener-wss-external-cacertfile"><a href="#listener-wss-external-cacertfile" class="header-anchor">#</a> listener.wss.external.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-267"><a href="#description-267" class="header-anchor">#</a> Description</h4><p>File path to the CA certificates. It should include all intermediate CA certificates and root CA certificate of the server certificate. It should also include trusted CAs to validate client certificates when <code>verify</code> configuration is set to <code>verify_peer</code>.</p><h3 id="listener-wss-external-depth"><a href="#listener-wss-external-depth" class="header-anchor">#</a> listener.wss.external.depth</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>number</td><td><code>10</code></td></tr></tbody></table><h4 id="description-268"><a href="#description-268" class="header-anchor">#</a> Description</h4><p>Maximum number of non-self-issued intermediate certificates that can follow the peer certificate in a valid certification path.</p><h3 id="listener-wss-external-key-password"><a href="#listener-wss-external-key-password" class="header-anchor">#</a> listener.wss.external.key_password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-269"><a href="#description-269" class="header-anchor">#</a> Description</h4><p>String containing the user's password. Only used if the private keyfile is password-protected.</p><h3 id="listener-wss-external-dhfile"><a href="#listener-wss-external-dhfile" class="header-anchor">#</a> listener.wss.external.dhfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table><h4 id="description-270"><a href="#description-270" class="header-anchor">#</a> Description</h4><p>If using the Ephemeral Diffie-Hellman algorithm, specify the key file used by the algorithm.</p><h3 id="listener-wss-external-verify"><a href="#listener-wss-external-verify" class="header-anchor">#</a> listener.wss.external.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td><code>verify_peer</code></td></tr></tbody></table><h4 id="description-271"><a href="#description-271" class="header-anchor">#</a> Description</h4><p>Specifies whether to verify the client during the handshake.</p><h3 id="listener-wss-external-fail-if-no-peer-cert"><a href="#listener-wss-external-fail-if-no-peer-cert" class="header-anchor">#</a> listener.wss.external.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-272"><a href="#description-272" class="header-anchor">#</a> Description</h4><p>If the client does not have a certificate during the SSL handshake, it determines whether to let the handshake fail.</p><h3 id="listener-wss-external-ciphers"><a href="#listener-wss-external-ciphers" class="header-anchor">#</a> listener.wss.external.ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table><h4 id="description-273"><a href="#description-273" class="header-anchor">#</a> Description</h4><p>Specifies the cipher suite supported by the server.</p><h3 id="listener-wss-external-psk-ciphers"><a href="#listener-wss-external-psk-ciphers" class="header-anchor">#</a> listener.wss.external.psk_ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA</code></td></tr></tbody></table><h4 id="description-274"><a href="#description-274" class="header-anchor">#</a> Description</h4><p>If using the PSK algorithm, specify the PSK Cipher list supported by the server. Note that only one of 'listener.wss.external.ciphers' and 'listener.wss.external.psk_ciphers' can be configured.</p><h3 id="listener-wss-external-secure-renegotiate"><a href="#listener-wss-external-secure-renegotiate" class="header-anchor">#</a> listener.wss.external.secure_renegotiate</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-275"><a href="#description-275" class="header-anchor">#</a> Description</h4><p>Specifies whether to reject renegotiation requests if the client does not follow RFC 5746</p><h3 id="listener-wss-external-reuse-sessions"><a href="#listener-wss-external-reuse-sessions" class="header-anchor">#</a> listener.wss.external.reuse_sessions</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-276"><a href="#description-276" class="header-anchor">#</a> Description</h4><p>Specifies whether to support SSL session reuse. For details, see <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><h3 id="listener-wss-external-honor-cipher-order"><a href="#listener-wss-external-honor-cipher-order" class="header-anchor">#</a> listener.wss.external.honor_cipher_order</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-277"><a href="#description-277" class="header-anchor">#</a> Description</h4><p>Specify whether to use the server's preferences to select Ciphers.</p><h3 id="listener-wss-external-peer-cert-as-username-2"><a href="#listener-wss-external-peer-cert-as-username-2" class="header-anchor">#</a> listener.wss.external.peer_cert_as_username</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>cn</code>, <code>dn</code>, <code>crt</code></td><td><code>cn</code></td></tr></tbody></table><h4 id="description-278"><a href="#description-278" class="header-anchor">#</a> Description</h4><p>Use the value of the CN, DN, or CRT field in the client certificate as the value of the Username field in the MQTT CONNECT packet. Note that <code>listener.wss.external.verify</code> should be set to <code>verify_peer</code>.</p><h3 id="listener-wss-external-backlog"><a href="#listener-wss-external-backlog" class="header-anchor">#</a> listener.wss.external.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024</td></tr></tbody></table><h4 id="description-279"><a href="#description-279" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="listener-wss-external-send-timeout"><a href="#listener-wss-external-send-timeout" class="header-anchor">#</a> listener.wss.external.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-280"><a href="#description-280" class="header-anchor">#</a> Description</h4><p>Timeout for sending TCP packets.</p><h3 id="listener-wss-external-send-timeout-close"><a href="#listener-wss-external-send-timeout-close" class="header-anchor">#</a> listener.wss.external.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-281"><a href="#description-281" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after TCP packet sending timeout.</p><h3 id="listener-wss-external-recbuf"><a href="#listener-wss-external-recbuf" class="header-anchor">#</a> listener.wss.external.recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-282"><a href="#description-282" class="header-anchor">#</a> Description</h4><p>TCP receiving buffer size (operating system kernel level parameter)</p><p>Reference:http://erlang.org/doc/man/inet.html</p><h3 id="listener-wss-external-sndbuf"><a href="#listener-wss-external-sndbuf" class="header-anchor">#</a> listener.wss.external.sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-283"><a href="#description-283" class="header-anchor">#</a> Description</h4><p>TCP sending buffer size (operating system kernel level parameter)</p><p>Reference:http://erlang.org/doc/man/inet.html</p><h3 id="listener-wss-external-buffer"><a href="#listener-wss-external-buffer" class="header-anchor">#</a> listener.wss.external.buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td>-</td></tr></tbody></table><h4 id="description-284"><a href="#description-284" class="header-anchor">#</a> Description</h4><p>TCP buffer size (user level).</p><p>This value is recommended to be greater than or equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code> to avoid some performance problems. Without configuration, it equals to the maximum value of sndbuff and recbuff by default.</p><p>Reference:http://erlang.org/doc/man/inet.html</p><h3 id="listener-wss-external-tune-buffer"><a href="#listener-wss-external-tune-buffer" class="header-anchor">#</a> listener.wss.external.tune_buffer</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td>-</td></tr></tbody></table><h4 id="description-285"><a href="#description-285" class="header-anchor">#</a> Description</h4><p>If you open this configuration, please set the value equal to the maximum value of <code>sndbuff</code> and <code>recbuff</code>.</p><h3 id="listener-wss-external-nodelay"><a href="#listener-wss-external-nodelay" class="header-anchor">#</a> listener.wss.external.nodelay</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-286"><a href="#description-286" class="header-anchor">#</a> Description</h4><p>This is the <code>TCP_NODELAY</code> parameter. Enabling this option allows small TCP data packets to be sent immediately.</p><h3 id="listener-wss-external-compress"><a href="#listener-wss-external-compress" class="header-anchor">#</a> listener.wss.external.compress</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-287"><a href="#description-287" class="header-anchor">#</a> Description</h4><p>If this option is set to true, Websocket messages will be compressed.</p><h3 id="listener-wss-external-deflate-opts-level"><a href="#listener-wss-external-deflate-opts-level" class="header-anchor">#</a> listener.wss.external.deflate_opts.level</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>none</code>, <code>default</code>, <code>best_compression</code>, <code>best_speed</code></td><td><code>default</code></td></tr></tbody></table><h4 id="description-288"><a href="#description-288" class="header-anchor">#</a> Description</h4><p>Compression level.</p><h3 id="listener-wss-external-deflate-opts-mem-level"><a href="#listener-wss-external-deflate-opts-mem-level" class="header-anchor">#</a> listener.wss.external.deflate_opts.mem_level</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1 - 9</td><td>-</td></tr></tbody></table><h4 id="description-289"><a href="#description-289" class="header-anchor">#</a> Description</h4><p>Compression parameters. It means memory usage limit level, configures how much memory can be opened to participate in the compression process.</p><p><code>1</code>: The least memory, but will reduce the compression rate. <code>9</code>: The most memory, and will increase the calculation speed and compression rate.</p><p>If not configured, the default is <code>8</code>.</p><h3 id="listener-wss-external-deflate-opts-strategy"><a href="#listener-wss-external-deflate-opts-strategy" class="header-anchor">#</a> listener.wss.external.deflate_opts.strategy</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>default</code>, <code>filtered</code>, <code>huffman_only</code>, <code>rle</code></td><td>-</td></tr></tbody></table><h4 id="description-290"><a href="#description-290" class="header-anchor">#</a> Description</h4><p>Compression strategy for tuning compression ratio:</p><ul><li><code>default</code>: for ordinary data.</li><li><code>filtered</code>: data generated by filters or predictors, suitable for content with strong randomness.</li><li><code>huffman_only</code>: Mandatory use of Huffman algorithm. Better than <code>filtered</code>.</li><li><code>rle</code>: limit the matching distance to 1 (Run-Lenght Encoding), faster than <code>huffman_only</code>, but mainly used for PNG images.</li></ul><p>These strategies only affect the compression ratio and will not have any impact on correctness.</p><h3 id="listener-wss-external-deflate-opts-server-context-takeover"><a href="#listener-wss-external-deflate-opts-server-context-takeover" class="header-anchor">#</a> listener.wss.external.deflate_opts.server_context_takeover</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>takeover</code>, <code>no_takeover</code></td><td>-</td></tr></tbody></table><h4 id="description-291"><a href="#description-291" class="header-anchor">#</a> Description</h4><p>Whether to allow the server's compression context to be passed between frames.</p><h3 id="listener-wss-external-deflate-opts-client-context-takeover"><a href="#listener-wss-external-deflate-opts-client-context-takeover" class="header-anchor">#</a> listener.wss.external.deflate_opts.client_context_takeover</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>takeover</code>, <code>no_takeover</code></td><td>-</td></tr></tbody></table><h4 id="description-292"><a href="#description-292" class="header-anchor">#</a> Description</h4><p>Whether to allow the client's compression context to be passed between frames.</p><h3 id="listener-wss-external-deflate-opts-server-max-window-bits"><a href="#listener-wss-external-deflate-opts-server-max-window-bits" class="header-anchor">#</a> listener.wss.external.deflate_opts.server_max_window_bits</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8 - 15</td><td>-</td></tr></tbody></table><h4 id="description-293"><a href="#description-293" class="header-anchor">#</a> Description</h4><p>Maximum window value on the server side. Setting a larger value will result in better compression ratio, but will consume additional memory.</p><h3 id="listener-wss-external-deflate-opts-client-max-window-bits"><a href="#listener-wss-external-deflate-opts-client-max-window-bits" class="header-anchor">#</a> listener.wss.external.deflate_opts.client_max_window_bits</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8 - 15</td><td>-</td></tr></tbody></table><h4 id="description-294"><a href="#description-294" class="header-anchor">#</a> Description</h4><p>Client maximum window value. Setting a larger value will result in better compression ratio, but will consume additional memory.</p><h3 id="listener-wss-external-idle-timeout"><a href="#listener-wss-external-idle-timeout" class="header-anchor">#</a> listener.wss.external.idle_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td>-</td></tr></tbody></table><h4 id="description-295"><a href="#description-295" class="header-anchor">#</a> Description</h4><p>The daze time after the TCP connection is established. If no packets are received within this time, the connection will be closed.</p><h3 id="listener-wss-external-max-frame-size"><a href="#listener-wss-external-max-frame-size" class="header-anchor">#</a> listener.wss.external.max_frame_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>-</td></tr></tbody></table><h4 id="description-296"><a href="#description-296" class="header-anchor">#</a> Description</h4><p>The maximum length of a single MQTT packet.</p><h3 id="plugins-etc-dir"><a href="#plugins-etc-dir" class="header-anchor">#</a> plugins.etc_dir</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/plugins</code></td></tr></tbody></table><h4 id="description-297"><a href="#description-297" class="header-anchor">#</a> Description</h4><p>The configuration directory of the plugin.</p><h3 id="plugins-loaded-file"><a href="#plugins-loaded-file" class="header-anchor">#</a> plugins.loaded_file</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/loaded_plugins</code></td></tr></tbody></table><h4 id="description-298"><a href="#description-298" class="header-anchor">#</a> Description</h4><p>The configuration file path of the plugin startup list.</p><h3 id="plugins-expand-plugins-dir"><a href="#plugins-expand-plugins-dir" class="header-anchor">#</a> plugins.expand_plugins_dir</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>plugins/</code></td></tr></tbody></table><h4 id="description-299"><a href="#description-299" class="header-anchor">#</a> Description</h4><p>External plugin storage directory.</p><h3 id="broker-sys-interval"><a href="#broker-sys-interval" class="header-anchor">#</a> broker.sys_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>1m</code></td></tr></tbody></table><h4 id="description-300"><a href="#description-300" class="header-anchor">#</a> Description</h4><p>Set the system topic (<code>$SYS</code>) message release interval.</p><h3 id="broker-sys-heartbeat"><a href="#broker-sys-heartbeat" class="header-anchor">#</a> broker.sys_heartbeat</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>30s</code></td></tr></tbody></table><h4 id="description-301"><a href="#description-301" class="header-anchor">#</a> Description</h4><p>Set the system heartbeat message release interval. The system heartbeat message includes the following two topics:</p><ul><li>&quot;$SYS/brokers/&lt;node&gt;/uptime&quot;</li><li>&quot;$SYS/brokers/&lt;node&gt;/datetime&quot;</li></ul><h3 id="broker-enable-session-registry"><a href="#broker-enable-session-registry" class="header-anchor">#</a> broker.enable_session_registry</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-302"><a href="#description-302" class="header-anchor">#</a> Description</h4><p>Enable or disable global session registration.</p><h3 id="broker-session-locking-strategy"><a href="#broker-session-locking-strategy" class="header-anchor">#</a> broker.session_locking_strategy</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>local</code>, <code>leader</code>, <code>quorum</code>, <code>all</code></td><td><code>quorum</code></td></tr></tbody></table><h4 id="description-303"><a href="#description-303" class="header-anchor">#</a> Description</h4><p>Set the type of session cluster lock. The session cluster lock is used to prevent the same client from creating multiple sessions on multiple different nodes, which is common when clients frequently switch between nodes for logging.</p><h3 id="broker-shared-subscription-strategy"><a href="#broker-shared-subscription-strategy" class="header-anchor">#</a> broker.shared_subscription_strategy</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>random</code>, <code>round_robin</code>, <code>sticky</code>, <code>hash_clientid</code>, <code>hash_topic</code></td><td><code>random</code></td></tr></tbody></table><h4 id="description-304"><a href="#description-304" class="header-anchor">#</a> Description</h4><p>Set a dispatch strategy for shared subscribers. Options are:</p><ul><li><strong>random</strong>: Choose randomly among all subscribers.</li><li><strong>round_robin</strong>: Enumerate subscribers in (unsorted) order.</li><li><strong>sticky</strong>: First dispatch is random, then stick to it for all subsequent messages.</li><li><strong>hash_clientid</strong>: Map (hash) publisher ClientID to subscriber.</li><li><strong>hash_topic</strong>: Map (hash) source MQTT topic to subscriber.</li></ul><h3 id="broker-shared-dispatch-ack-enabled"><a href="#broker-shared-dispatch-ack-enabled" class="header-anchor">#</a> broker.shared_dispatch_ack_enabled</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-305"><a href="#description-305" class="header-anchor">#</a> Description</h4><p>Enable or disable the ACK check function for qos1/qos2 messages in shared subscriptions. After enabling, if it is delivered to a subscriber but fails to receive the ACK, it will try to deliver to the next subscriber in the subscription group.</p><h3 id="broker-route-batch-clean"><a href="#broker-route-batch-clean" class="header-anchor">#</a> broker.route_batch_clean</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-306"><a href="#description-306" class="header-anchor">#</a> Description</h4><p>Enable or disable batch cleanup routing information. Batch cleanup routing can be used in a short period of time when a large number of clients go offline to improve cleanup efficiency.</p><h2 id="broker-perf-route-lock-type-key"><a href="#broker-perf-route-lock-type-key" class="header-anchor">#</a> broker.perf.route_lock_type = key</h2><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>key</code>, <code>tab</code>, <code>global</code></td><td><code>key</code></td></tr></tbody></table><h3 id="description-307"><a href="#description-307" class="header-anchor">#</a> Description</h3><p>Choose the granularity of the database lock when updating the routing information for whildcard subscriptions.</p><ul><li><code>key</code> (default) is to take a lock for each key representing prefixes of a wildcard topic;</li><li><code>tab</code> is to take the lock for the entire table which stores prefixes of wildcard topics;</li><li><code>global</code> is to take a global lock.</li></ul><p>Options <code>tab</code> and <code>global</code> are recommended for large scale clusters (e.g. more than 7 nodes) especially when network latency between the nodes is at milliseconds level. NOTE: It requires entire cluster to be stopped before changing this config.</p><h2 id="broker-perf-trie-compaction-true"><a href="#broker-perf-trie-compaction-true" class="header-anchor">#</a> broker.perf.trie_compaction = true</h2><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h3 id="description-308"><a href="#description-308" class="header-anchor">#</a> Description</h3><p>Set to <code>true</code> (default) to compact the routing information table for wildcard topics. Compaction is optimized for writes, handles high rate subscription requests quicker, it also requires half of the RAM comparing to non-compacted. Non-compaction is optimized for reads (e.g. large number of topic levels in publish requests).</p><p>NOTE: Changing from <code>false</code> to <code>true</code> can be done by rolling-restart the nodes in a cluster. The safe way of changing from <code>true</code> to <code>false</code> is to stop all nodes in the cluster, otherwise some message may not get routed before all nodes have restarted.</p><h3 id="sysmon-long-gc"><a href="#sysmon-long-gc" class="header-anchor">#</a> sysmon.long_gc</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>0ms</code></td></tr></tbody></table><h4 id="description-309"><a href="#description-309" class="header-anchor">#</a> Description</h4><p>Enable garbage collection time monitoring and trigger an alarm when the collection time exceeds the set value, 0 means disabling this monitoring.</p><h2 id="monitor"><a href="#monitor" class="header-anchor">#</a> monitor</h2><h3 id="sysmon-long-schedule"><a href="#sysmon-long-schedule" class="header-anchor">#</a> sysmon.long_schedule</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>240ms</code></td></tr></tbody></table><h4 id="description-310"><a href="#description-310" class="header-anchor">#</a> Description</h4><p>Enable process scheduling time monitoring and trigger an alarm when the scheduling time exceeds the set value, 0 means disabling this monitoring.</p><h3 id="sysmon-large-heap"><a href="#sysmon-large-heap" class="header-anchor">#</a> sysmon.large_heap</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>8MB</code></td></tr></tbody></table><h4 id="description-311"><a href="#description-311" class="header-anchor">#</a> Description</h4><p>Enable stack size monitoring and trigger an alarm when the stack size is still greater than the set value after the process performs garbage collection. 0 means disabling this monitoring.</p><h3 id="sysmon-busy-port"><a href="#sysmon-busy-port" class="header-anchor">#</a> sysmon.busy_port</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-312"><a href="#description-312" class="header-anchor">#</a> Description</h4><p>Specifies whether to enable inter-process message channel busy monitoring.</p><h3 id="sysmon-busy-dist-port"><a href="#sysmon-busy-dist-port" class="header-anchor">#</a> sysmon.busy_dist_port</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-313"><a href="#description-313" class="header-anchor">#</a> Description</h4><p>Specifies whether to enable cluster RPC channel busy monitoring.</p><h3 id="os-mon-cpu-check-interval"><a href="#os-mon-cpu-check-interval" class="header-anchor">#</a> os_mon.cpu_check_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>60s</code></td></tr></tbody></table><h4 id="description-314"><a href="#description-314" class="header-anchor">#</a> Description</h4><p>CPU usage rate check cycle.</p><h3 id="os-mon-cpu-high-watermark"><a href="#os-mon-cpu-high-watermark" class="header-anchor">#</a> os_mon.cpu_high_watermark</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td><code>80%</code></td></tr></tbody></table><h4 id="description-315"><a href="#description-315" class="header-anchor">#</a> Description</h4><p>An alarm will be triggered when the CPU usage exceeds <code>os_mon.cpu_high_watermark</code>.</p><h3 id="os-mon-cpu-low-watermark"><a href="#os-mon-cpu-low-watermark" class="header-anchor">#</a> os_mon.cpu_low_watermark</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td><code>60%</code></td></tr></tbody></table><h4 id="description-316"><a href="#description-316" class="header-anchor">#</a> Description</h4><p>The alarm will be cleared when the CPU usage drops back below <code>os_mon.cpu_low_watermark</code> .</p><h3 id="os-mon-mem-check-interval"><a href="#os-mon-mem-check-interval" class="header-anchor">#</a> os_mon.mem_check_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>60s</code></td></tr></tbody></table><h4 id="description-317"><a href="#description-317" class="header-anchor">#</a> Description</h4><p>Memory usage check cycle.</p><h3 id="os-mon-sysmem-high-watermark"><a href="#os-mon-sysmem-high-watermark" class="header-anchor">#</a> os_mon.sysmem_high_watermark</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td><code>70%</code></td></tr></tbody></table><h4 id="description-318"><a href="#description-318" class="header-anchor">#</a> Description</h4><p>When the memory allocated by EMQX Broker for all processes as a percentage of system memory exceeds <code>os_mon.procmem_high_watermark</code>, an alarm will be triggered.</p><h3 id="os-mon-procmem-high-watermark"><a href="#os-mon-procmem-high-watermark" class="header-anchor">#</a> os_mon.procmem_high_watermark</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td><code>5%</code></td></tr></tbody></table><h4 id="description-319"><a href="#description-319" class="header-anchor">#</a> Description</h4><p>When the memory allocated by EMQX Broker for a single process as a percentage of system memory exceeds <code>os_mon.procmem_high_watermark</code>, an alarm will be triggered.</p><h3 id="vm-mon-check-interval"><a href="#vm-mon-check-interval" class="header-anchor">#</a> vm_mon.check_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>30s</code></td></tr></tbody></table><h4 id="description-320"><a href="#description-320" class="header-anchor">#</a> Description</h4><p>Check interval for process number.</p><h3 id="vm-mon-process-high-watermark"><a href="#vm-mon-process-high-watermark" class="header-anchor">#</a> vm_mon.process_high_watermark</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td><code>80%</code></td></tr></tbody></table><h4 id="description-321"><a href="#description-321" class="header-anchor">#</a> Description</h4><p>When the current process number as a percentage of the maximum process number exceeds <code>vm_mon.process_high_watermark</code>, an alarm will be triggered. The maximum process number is determined by the <code>node.process_limit</code> configuration item.</p><h3 id="vm-mon-process-low-watermark"><a href="#vm-mon-process-low-watermark" class="header-anchor">#</a> vm_mon.process_low_watermark</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td><code>60%</code></td></tr></tbody></table><h4 id="description-322"><a href="#description-322" class="header-anchor">#</a> Description</h4><p>When the percentage of the current number of processes in the maximum number of processes falls below <code>vm_mon.process_low_watermark</code>, an alarm will be triggered. The maximum number of processes is determined by the <code>node.process_limit</code> configuration item.</p><h2 id="plugin-emqx-auth-http"><a href="#plugin-emqx-auth-http" class="header-anchor">#</a> Plugin <code>emqx_auth_http</code></h2><h3 id="auth-http-auth-req-url"><a href="#auth-http-auth-req-url" class="header-anchor">#</a> auth.http.auth_req.url</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>http://127.0.0.1:80/mqtt/auth</code></td></tr></tbody></table><h4 id="description-323"><a href="#description-323" class="header-anchor">#</a> Description</h4><p>Specify the target URL of the authentication request.</p><h3 id="auth-http-auth-req-method"><a href="#auth-http-auth-req-method" class="header-anchor">#</a> auth.http.auth_req.method</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>get</code>, <code>post</code></td><td><code>post</code></td></tr></tbody></table><h4 id="description-324"><a href="#description-324" class="header-anchor">#</a> Description</h4><p>Specify the request method of the authentication request.</p><h3 id="auth-http-auth-req-headers-any"><a href="#auth-http-auth-req-headers-any" class="header-anchor">#</a> auth.http.auth_req.headers.&lt;Any&gt;</h3><h4 id="example-12"><a href="#example-12" class="header-anchor">#</a> Example</h4><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.http.auth_req.headers.content-type = application/x-www-form-urlencoded
auth.http.auth_req.headers.accept = */*
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="description-325"><a href="#description-325" class="header-anchor">#</a> Description</h4><p>Specify the data in the HTTP request header. <code>&lt;Key&gt;</code> Specify the field name in the HTTP request header, and the value of this configuration item is the corresponding field value. <code>&lt;Key&gt;</code> can be the standard HTTP request header field. User can also customize the field to configure multiple different request header fields.</p><h3 id="auth-http-auth-req-params"><a href="#auth-http-auth-req-params" class="header-anchor">#</a> auth.http.auth_req.params</h3><table><thead><tr><th>Type</th><th>Format</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>K=v</code> key-value pairs separated by<code>,</code>,<code>v</code> can be fixed content or placeholder</td><td><code>clientid=%c,username=%u,password=%P</code></td></tr></tbody></table><h4 id="description-326"><a href="#description-326" class="header-anchor">#</a> Description</h4><p>Specify the data carried in the authentication request. When using the GET method, the value of <code>auth.http.auth_req.params</code> will be converted into <code>k=v</code> key-value pairs separated by <code>&amp;</code> and sent as query string parameters. When using the POST method, the value of <code>auth.http.auth_req.params</code> will be converted into <code>k=v</code> key-value pairs separated by <code>&amp;</code> and sent in the form of Request Body. All placeholders will be replaced by run-time data , and the available placeholders are as follows:</p><table><thead><tr><th>Placeholder</th><th>Replace content</th></tr></thead><tbody><tr><td><code>%u</code></td><td>Username</td></tr><tr><td><code>%c</code></td><td>MQTT Client ID</td></tr><tr><td><code>%a</code></td><td>Client's network IP address</td></tr><tr><td><code>%r</code></td><td>The protocol used by the client can be:<code>mqtt</code>, <code>mqtt-sn</code>, <code>coap</code>, <code>lwm2m</code> and <code>stomp</code></td></tr><tr><td><code>%P</code></td><td>Password</td></tr><tr><td><code>%p</code></td><td>Server port for client connection</td></tr><tr><td><code>%c</code></td><td>Common Name in client certificate</td></tr><tr><td><code>%d</code></td><td>Subject in client certificate</td></tr></tbody></table><h3 id="auth-http-super-req-url"><a href="#auth-http-super-req-url" class="header-anchor">#</a> auth.http.super_req.url</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>http://127.0.0.1:80/mqtt/superuser</code></td></tr></tbody></table><h4 id="description-327"><a href="#description-327" class="header-anchor">#</a> Description</h4><p>Specify the target URL for the superuser authentication request.</p><h3 id="auth-http-super-req-method"><a href="#auth-http-super-req-method" class="header-anchor">#</a> auth.http.super_req.method</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>get</code>, <code>post</code></td><td><code>post</code></td></tr></tbody></table><h4 id="description-328"><a href="#description-328" class="header-anchor">#</a> Description</h4><p>Specifies the request method of the super user authentication request.</p><h3 id="auth-http-super-req-headers-any"><a href="#auth-http-super-req-headers-any" class="header-anchor">#</a> auth.http.super_req.headers.&lt;Any&gt;</h3><h4 id="example-13"><a href="#example-13" class="header-anchor">#</a> Example</h4><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.http.super_req.headers.content-type = application/x-www-form-urlencoded
auth.http.super_req.headers.accept = */*
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="description-329"><a href="#description-329" class="header-anchor">#</a> Description</h4><p>Specify the data in the HTTP request header. <code>&lt;Key&gt;</code> Specify the field name in the HTTP request header, and the value of this configuration item is the corresponding field value. <code>&lt;Key&gt;</code> can be the standard HTTP request header field. User can also customize the field to configure multiple different request header fields.</p><h3 id="auth-http-super-req-params"><a href="#auth-http-super-req-params" class="header-anchor">#</a> auth.http.super_req.params</h3><table><thead><tr><th>Type</th><th>Format</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>K=v</code> key-value pairs separated by<code>,</code>,<code>v</code> can be fixed content or placeholder</td><td><code>clientid=%c,username=%u</code></td></tr></tbody></table><h4 id="description-330"><a href="#description-330" class="header-anchor">#</a> Description</h4><p>Specify the data carried in the authentication request. When using the GET method, the value of <code>auth.http.auth_req.params</code> will be converted into <code>k=v</code> key-value pairs separated by <code>&amp;</code> and sent as query string parameters. When using the POST method, the value of <code>auth.http.auth_req.params</code> will be converted into <code>k=v</code> key-value pairs separated by <code>&amp;</code> and sent in the form of Request Body. All placeholders will be replaced by run-time data , and the available placeholders are the same as those of <code>auth.http.auth_req.params</code>.</p><h3 id="auth-http-acl-req-url"><a href="#auth-http-acl-req-url" class="header-anchor">#</a> auth.http.acl_req.url</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>http://127.0.0.1:80/mqtt/acl</code></td></tr></tbody></table><h4 id="description-331"><a href="#description-331" class="header-anchor">#</a> Description</h4><p>Specify the target URL for ACL verification requests.</p><h3 id="auth-http-acl-req-method"><a href="#auth-http-acl-req-method" class="header-anchor">#</a> auth.http.acl_req.method</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>get</code>, <code>post</code></td><td><code>post</code></td></tr></tbody></table><h4 id="description-332"><a href="#description-332" class="header-anchor">#</a> Description</h4><p>Specifies the request method for ACL verification requests.</p><h3 id="auth-http-acl-req-headers-any"><a href="#auth-http-acl-req-headers-any" class="header-anchor">#</a> auth.http.acl_req.headers.&lt;Any&gt;</h3><h4 id="example-14"><a href="#example-14" class="header-anchor">#</a> Example</h4><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.http.acl_req.headers.content-type = application/x-www-form-urlencoded
auth.http.acl_req.headers.accept = */*
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="description-333"><a href="#description-333" class="header-anchor">#</a> Description</h4><p>Specify the data in the HTTP request header. <code>&lt;Key&gt;</code> Specify the field name in the HTTP request header, and the value of this configuration item is the corresponding field value. <code>&lt;Key&gt;</code> can be the standard HTTP request header field. User can also customize the field to configure multiple different request header fields.</p><h3 id="auth-http-acl-req-params"><a href="#auth-http-acl-req-params" class="header-anchor">#</a> auth.http.acl_req.params</h3><table><thead><tr><th>Type</th><th>Format</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>K=v</code> key-value pairs separated by<code>,</code>,<code>v</code> can be fixed content or placeholder</td><td><code>access=%A,username=%u,clientid=%c,ipaddr=%a,topic=%t,mountpoint=%m</code></td></tr></tbody></table><h4 id="description-334"><a href="#description-334" class="header-anchor">#</a> Description</h4><p>Specify the data carried in the authentication request. When using the GET method, the value of <code>auth.http.auth_req.params</code> will be converted into <code>k=v</code> key-value pairs separated by <code>&amp;</code> and sent as query string parameters. When using the POST method, the value of <code>auth.http.auth_req.params</code> will be converted into <code>k=v</code> key-value pairs separated by <code>&amp;</code> and sent in the form of Request Body. All placeholders will be replaced by run-time data , and the available placeholders are as follows:</p><table><thead><tr><th>Placeholder</th><th>Replace content</th></tr></thead><tbody><tr><td><code>%A</code></td><td>Permission to be verified, 1 means subscription, 2 means publish</td></tr><tr><td><code>%u</code></td><td>MQTT Client ID</td></tr><tr><td><code>%c</code></td><td>Client identifier</td></tr><tr><td><code>%a</code></td><td>Client network IP address</td></tr><tr><td><code>%r</code></td><td>The protocol used by the client can be: <code>mqtt</code>, <code>mqtt-sn</code>, <code>coap</code>, <code>lwm2m</code> and <code>stomp</code></td></tr><tr><td><code>%m</code></td><td>Mount point</td></tr><tr><td><code>%t</code></td><td>Topic</td></tr></tbody></table><h3 id="auth-http-timeout"><a href="#auth-http-timeout" class="header-anchor">#</a> auth.http.timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-335"><a href="#description-335" class="header-anchor">#</a> Description</h4><p>HTTP request timeout. Any setting equivalent to <code>0s</code> means never timeout.</p><h3 id="auth-http-connect-timeout"><a href="#auth-http-connect-timeout" class="header-anchor">#</a> auth.http.connect_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-336"><a href="#description-336" class="header-anchor">#</a> Description</h4><p>Connection timeout for HTTP requests. Any setting value equivalent to <code>0s</code> means never time out.</p><h3 id="auth-http-pool-size"><a href="#auth-http-pool-size" class="header-anchor">#</a> auth.http.pool_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>32</td></tr></tbody></table><h4 id="description-337"><a href="#description-337" class="header-anchor">#</a> Description</h4><p>HTTP client connection process pool size.</p><h3 id="auth-http-ssl-cacertfile"><a href="#auth-http-ssl-cacertfile" class="header-anchor">#</a> auth.http.ssl.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/ca.pem</code></td></tr></tbody></table><h4 id="description-338"><a href="#description-338" class="header-anchor">#</a> Description</h4><p>CA certificate file path.</p><h3 id="auth-http-ssl-certfile"><a href="#auth-http-ssl-certfile" class="header-anchor">#</a> auth.http.ssl.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/client-cert.pem</code></td></tr></tbody></table><h4 id="description-339"><a href="#description-339" class="header-anchor">#</a> Description</h4><p>Client certificate file path.</p><h3 id="auth-http-ssl-keyfile"><a href="#auth-http-ssl-keyfile" class="header-anchor">#</a> auth.http.ssl.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/client.key.pem</code></td></tr></tbody></table><h4 id="description-340"><a href="#description-340" class="header-anchor">#</a> Description</h4><p>Client private key file path.</p><h2 id="plugin-emqx-auth-jwt"><a href="#plugin-emqx-auth-jwt" class="header-anchor">#</a> Plugin <code>emqx_auth_jwt</code></h2><h3 id="auth-jwt-secret"><a href="#auth-jwt-secret" class="header-anchor">#</a> auth.jwt.secret</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>emqxsecret</code></td></tr></tbody></table><h4 id="description-341"><a href="#description-341" class="header-anchor">#</a> Description</h4><p>Set HMAC Secret.</p><h3 id="auth-jwt-from"><a href="#auth-jwt-from" class="header-anchor">#</a> auth.jwt.from</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>username</code>, <code>password</code></td><td><code>password</code></td></tr></tbody></table><h4 id="description-342"><a href="#description-342" class="header-anchor">#</a> Description</h4><p>Where to get JWT. Optional values are</p><ul><li>username: The username field of the MQTT CONNECT packet is used as JWT.</li><li>password: The password field of the MQTT CONNECT packet is used as JWT.</li></ul><h3 id="auth-jwt-pubkey"><a href="#auth-jwt-pubkey" class="header-anchor">#</a> auth.jwt.pubkey</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/jwt_public_key.pem</code></td></tr></tbody></table><h4 id="description-343"><a href="#description-343" class="header-anchor">#</a> Description</h4><p>If you use RSA or ECDSA encryption algorithm, you must specify the private key file.</p><h3 id="auth-jwt-verify-claims"><a href="#auth-jwt-verify-claims" class="header-anchor">#</a> auth.jwt.verify_claims</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-344"><a href="#description-344" class="header-anchor">#</a> Description</h4><p>Enable or disable Claims verification.</p><h3 id="auth-jwt-verify-claims-claims"><a href="#auth-jwt-verify-claims-claims" class="header-anchor">#</a> auth.jwt.verify_claims.&lt;claims&gt;</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-345"><a href="#description-345" class="header-anchor">#</a> Description</h4><p>When the Claims verification function is enabled, you can set optional values for fields in the JWT.</p><p>For example, if the value of <code>sub</code> in the Claim in JWT is expected to be&quot; abc &quot;, the following rules can be configured:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.jwt.verify_claims.sub = abc
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The expected value supports two wildcards:</p><ul><li><code>%u</code>: username</li><li><code>%c</code>: clientid</li></ul><p>For example, if the value of the <code>sub</code> field in the JWT is expected to be the same as the username field in the MQTT CONNECT message, the following rules can be configured:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.jwt.verify_claims.sub = %u
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="plugin-emqx-auth-ldap"><a href="#plugin-emqx-auth-ldap" class="header-anchor">#</a> Plugin <code>emqx_auth_ldap</code></h2><h3 id="auth-ldap-servers"><a href="#auth-ldap-servers" class="header-anchor">#</a> auth.ldap.servers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>127.0.0.1</code></td></tr></tbody></table><h4 id="description-346"><a href="#description-346" class="header-anchor">#</a> Description</h4><p>LDAP service address.</p><h3 id="auth-ldap-port"><a href="#auth-ldap-port" class="header-anchor">#</a> auth.ldap.port</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>389</td></tr></tbody></table><h4 id="description-347"><a href="#description-347" class="header-anchor">#</a> Description</h4><p>LDAP service port.</p><h3 id="auth-ldap-pool"><a href="#auth-ldap-pool" class="header-anchor">#</a> auth.ldap.pool</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>&gt; 0</td><td>8</td></tr></tbody></table><h4 id="description-348"><a href="#description-348" class="header-anchor">#</a> Description</h4><p>Connection pool size.</p><h3 id="auth-ldap-bind-dn"><a href="#auth-ldap-bind-dn" class="header-anchor">#</a> auth.ldap.bind_dn</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>cn=root,dc=emqx,dc=io</code></td></tr></tbody></table><h4 id="description-349"><a href="#description-349" class="header-anchor">#</a> Description</h4><p>The DN for logging into the LDAP service.</p><h3 id="auth-ldap-bind-password"><a href="#auth-ldap-bind-password" class="header-anchor">#</a> auth.ldap.bind_password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>public</code></td></tr></tbody></table><h4 id="description-350"><a href="#description-350" class="header-anchor">#</a> Description</h4><p>The password for logging into the LDAP service.</p><h3 id="auth-ldap-timeout"><a href="#auth-ldap-timeout" class="header-anchor">#</a> auth.ldap.timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>30s</code></td></tr></tbody></table><h4 id="description-351"><a href="#description-351" class="header-anchor">#</a> Description</h4><p>The query timeout.</p><h3 id="auth-ldap-device-dn"><a href="#auth-ldap-device-dn" class="header-anchor">#</a> auth.ldap.device_dn</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ou=device,dc=emqx,dc=io</code></td></tr></tbody></table><h4 id="description-352"><a href="#description-352" class="header-anchor">#</a> Description</h4><p>The DN to which the client belongs.</p><h3 id="auth-ldap-match-objectclass"><a href="#auth-ldap-match-objectclass" class="header-anchor">#</a> auth.ldap.match_objectclass</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqttUser</code></td></tr></tbody></table><h4 id="description-353"><a href="#description-353" class="header-anchor">#</a> Description</h4><p>The name of the client object.</p><h3 id="auth-ldap-username-attributetype"><a href="#auth-ldap-username-attributetype" class="header-anchor">#</a> auth.ldap.username.attributetype</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>uid</code></td></tr></tbody></table><h4 id="description-354"><a href="#description-354" class="header-anchor">#</a> Description</h4><p>The data type of the Username attribute.</p><h3 id="auth-ldap-password-attributetype"><a href="#auth-ldap-password-attributetype" class="header-anchor">#</a> auth.ldap.password.attributetype</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>userPassword</code></td></tr></tbody></table><h4 id="description-355"><a href="#description-355" class="header-anchor">#</a> Description</h4><p>The data type of the Password attribute.</p><h3 id="auth-ldap-ssl"><a href="#auth-ldap-ssl" class="header-anchor">#</a> auth.ldap.ssl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-356"><a href="#description-356" class="header-anchor">#</a> Description</h4><p>Whether to enable SSL.</p><h3 id="auth-ldap-ssl-certfile"><a href="#auth-ldap-ssl-certfile" class="header-anchor">#</a> auth.ldap.ssl.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-357"><a href="#description-357" class="header-anchor">#</a> Description</h4><p>SSL server certificate path.</p><h3 id="auth-ldap-ssl-keyfile"><a href="#auth-ldap-ssl-keyfile" class="header-anchor">#</a> auth.ldap.ssl.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-358"><a href="#description-358" class="header-anchor">#</a> Description</h4><p>SSL server key file path.</p><h3 id="auth-ldap-ssl-cacertfile"><a href="#auth-ldap-ssl-cacertfile" class="header-anchor">#</a> auth.ldap.ssl.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-359"><a href="#description-359" class="header-anchor">#</a> Description</h4><p>CA certificate file path.</p><h3 id="auth-ldap-ssl-verify"><a href="#auth-ldap-ssl-verify" class="header-anchor">#</a> auth.ldap.ssl.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td>-</td></tr></tbody></table><h4 id="description-360"><a href="#description-360" class="header-anchor">#</a> Description</h4><p>SSL authentication method:</p><ul><li><code>verify_none</code>：One-way authentication.</li><li><code>verify_peer</code>：Two-way authentication.</li></ul><h3 id="auth-ldap-ssl-fail-if-no-peer-cert"><a href="#auth-ldap-ssl-fail-if-no-peer-cert" class="header-anchor">#</a> auth.ldap.ssl.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-361"><a href="#description-361" class="header-anchor">#</a> Description</h4><p>If the client does not provide an SSL certificate, disconnect it.</p><h2 id="plugin-emqx-auth-mongo"><a href="#plugin-emqx-auth-mongo" class="header-anchor">#</a> Plugin <code>emqx_auth_mongo</code></h2><h3 id="auth-mongo-type"><a href="#auth-mongo-type" class="header-anchor">#</a> auth.mongo.type</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>single</code>, <code>unknown</code>, <code>sharded</code>, <code>rs</code></td><td><code>single</code></td></tr></tbody></table><h4 id="description-362"><a href="#description-362" class="header-anchor">#</a> Description</h4><p>Set the topology type of MongoDB:</p><ul><li>single: single node</li><li>unknown: unknown</li><li>sharded: sharding mode</li><li>rs: replicated set</li></ul><h3 id="auth-mongo-rs-set-name"><a href="#auth-mongo-rs-set-name" class="header-anchor">#</a> auth.mongo.rs_set_name</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>127.0.0.1:27017</code></td></tr></tbody></table><h4 id="description-363"><a href="#description-363" class="header-anchor">#</a> Description</h4><p>Set the address of MongoDB service. If there are multiple items, use comma <code>,</code> to separate them.</p><h3 id="auth-mongo-pool"><a href="#auth-mongo-pool" class="header-anchor">#</a> auth.mongo.pool</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8</td></tr></tbody></table><h4 id="description-364"><a href="#description-364" class="header-anchor">#</a> Description</h4><p>Set the number of processes in the MongoDB connection pool.</p><h3 id="auth-mongo-login"><a href="#auth-mongo-login" class="header-anchor">#</a> auth.mongo.login</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-365"><a href="#description-365" class="header-anchor">#</a> Description</h4><p>Set the MongoDB's username.</p><h3 id="auth-mongo-password"><a href="#auth-mongo-password" class="header-anchor">#</a> auth.mongo.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-366"><a href="#description-366" class="header-anchor">#</a> Description</h4><p>Set the MongoDB's password.</p><h3 id="auth-mongo-auth-source"><a href="#auth-mongo-auth-source" class="header-anchor">#</a> auth.mongo.auth_source</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt</code></td></tr></tbody></table><h4 id="description-367"><a href="#description-367" class="header-anchor">#</a> Description</h4><p>Set the MongoDB authentication source database name.</p><h3 id="auth-mongo-database"><a href="#auth-mongo-database" class="header-anchor">#</a> auth.mongo.database</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt</code></td></tr></tbody></table><h4 id="description-368"><a href="#description-368" class="header-anchor">#</a> Description</h4><p>Set MongoDB database name.</p><h3 id="auth-mongo-query-timeout"><a href="#auth-mongo-query-timeout" class="header-anchor">#</a> auth.mongo.query_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-369"><a href="#description-369" class="header-anchor">#</a> Description</h4><p>Set the timeout for accessing MongoDB.</p><h3 id="auth-mongo-ssl"><a href="#auth-mongo-ssl" class="header-anchor">#</a> auth.mongo.ssl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-370"><a href="#description-370" class="header-anchor">#</a> Description</h4><p>Set whether to use SSL to access MongoDB.</p><h3 id="auth-mongo-ssl-opts-keyfile"><a href="#auth-mongo-ssl-opts-keyfile" class="header-anchor">#</a> auth.mongo.ssl_opts.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-371"><a href="#description-371" class="header-anchor">#</a> Description</h4><p>If using SSL to access MongoDB, set the private key file of the SSL client.</p><h3 id="auth-mongo-ssl-opts-certfile"><a href="#auth-mongo-ssl-opts-certfile" class="header-anchor">#</a> auth.mongo.ssl_opts.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-372"><a href="#description-372" class="header-anchor">#</a> Description</h4><p>If using SSL to access MongoDB, set the SSL client certificate file.</p><h3 id="auth-mongo-ssl-opts-cacertfile"><a href="#auth-mongo-ssl-opts-cacertfile" class="header-anchor">#</a> auth.mongo.ssl_opts.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-373"><a href="#description-373" class="header-anchor">#</a> Description</h4><p>If you use SSL to access MongoDB, set the SSL certificate file.</p><h3 id="auth-mongo-w-mode"><a href="#auth-mongo-w-mode" class="header-anchor">#</a> auth.mongo.w_mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>unsafe</code>, <code>safe</code>, <code>undef</code></td><td><code>undef</code></td></tr></tbody></table><h4 id="description-374"><a href="#description-374" class="header-anchor">#</a> Description</h4><p>Set the write mode of MongoDB.</p><h3 id="auth-mongo-r-mode"><a href="#auth-mongo-r-mode" class="header-anchor">#</a> auth.mongo.r_mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>master</code>, <code>slave_ok</code>, <code>undef</code></td><td><code>undef</code></td></tr></tbody></table><h4 id="description-375"><a href="#description-375" class="header-anchor">#</a> Description</h4><p>Set the read mode of MongoDB.</p><h3 id="auth-mongo-auth-query-collection"><a href="#auth-mongo-auth-query-collection" class="header-anchor">#</a> auth.mongo.auth_query.collection</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt_user</code></td></tr></tbody></table><h4 id="description-376"><a href="#description-376" class="header-anchor">#</a> Description</h4><p>Collection name used in the authentication process.</p><h3 id="auth-mongo-auth-query-password-field"><a href="#auth-mongo-auth-query-password-field" class="header-anchor">#</a> auth.mongo.auth_query.password_field</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>password</code></td></tr></tbody></table><h4 id="description-377"><a href="#description-377" class="header-anchor">#</a> Description</h4><p>The main fields used in the authentication process. To add salt after the password, it can be configured as:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.mongo.auth_query.password_field = password,salt
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="auth-mongo-auth-query-password-hash"><a href="#auth-mongo-auth-query-password-hash" class="header-anchor">#</a> auth.mongo.auth_query.password_hash</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>plain</code>, <code>md5</code>, <code>sha</code>, <code>sha256</code>, <code>bcrypt</code></td><td><code>sha256</code></td></tr></tbody></table><h4 id="description-378"><a href="#description-378" class="header-anchor">#</a> Description</h4><p>Set the hash algorithm used for the password field. To add salt after the sha256 password, you can set it to:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.mongo.auth_query.password_hash = sha256,salt
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To add salt before the sha256 password, you can set it to:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.mongo.auth_query.password_hash = salt,sha256
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To add salt before the bcrypt password, you can set it to:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.mongo.auth_query.password_hash = salt,bcrypt
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="auth-mongo-auth-query-selector"><a href="#auth-mongo-auth-query-selector" class="header-anchor">#</a> auth.mongo.auth_query.selector</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>username=%u</code></td></tr></tbody></table><h4 id="description-379"><a href="#description-379" class="header-anchor">#</a> Description</h4><p>MongoDB statements are executed during the authentication process. Commands can support following wildcards:</p><ul><li>%u: username</li><li>%c: clientid</li><li>%C: Common Name in client TLS certificate</li><li>%d: Subject in the client's TLS certificate</li></ul><h3 id="auth-mongo-auth-query-super-query"><a href="#auth-mongo-auth-query-super-query" class="header-anchor">#</a> auth.mongo.auth_query.super_query</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-380"><a href="#description-380" class="header-anchor">#</a> Description</h4><p>Whether to use SuperUser in authentication.</p><h3 id="auth-mongo-super-query-collection"><a href="#auth-mongo-super-query-collection" class="header-anchor">#</a> auth.mongo.super_query.collection</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt_user</code></td></tr></tbody></table><h4 id="description-381"><a href="#description-381" class="header-anchor">#</a> Description</h4><p>If using SuperUser, specify the MongoDB Collection of SuperUser.</p><h3 id="auth-mongo-super-query-selector"><a href="#auth-mongo-super-query-selector" class="header-anchor">#</a> auth.mongo.super_query.selector</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>username=%u, clientid=%c</code></td></tr></tbody></table><h4 id="description-382"><a href="#description-382" class="header-anchor">#</a> Description</h4><p>If SuperUser is used, specify the MongoDB statement used to query SuperUser.</p><h3 id="auth-mongo-acl-query"><a href="#auth-mongo-acl-query" class="header-anchor">#</a> auth.mongo.acl_query</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-383"><a href="#description-383" class="header-anchor">#</a> Description</h4><p>Whether to enable the ACL function.</p><h3 id="auth-mongo-acl-query-collection"><a href="#auth-mongo-acl-query-collection" class="header-anchor">#</a> auth.mongo.acl_query.collection</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt_acl</code></td></tr></tbody></table><h4 id="description-384"><a href="#description-384" class="header-anchor">#</a> Description</h4><p>If using the ACL function, specify the MongoDB Collection that queries the ACL rules.</p><h3 id="auth-mongo-acl-query-selector"><a href="#auth-mongo-acl-query-selector" class="header-anchor">#</a> auth.mongo.acl_query.selector</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>username=%u</code></td></tr></tbody></table><h4 id="description-385"><a href="#description-385" class="header-anchor">#</a> Description</h4><p>If the ACL function is used, specify the MongoDB statement used to query the ACL rules. It can support multiple ACL statements, and &quot;or&quot; is used to connect multiple statements.</p><p>For example, configure the following two access rules:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>auth.mongo.acl_query.selector.1 = username=%u
auth.mongo.acl_query.selector.2 = username=$all
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>And the username of the client equals 'ilyas'. When querying acl rules, the following MongoDB statement will be executed:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>db.mqtt_acl.find({$or: [{username: &quot;ilyas&quot;},  {username: &quot;$all&quot;}]});
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="auth-mongo-topology-pool-size"><a href="#auth-mongo-topology-pool-size" class="header-anchor">#</a> auth.mongo.topology.pool_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1</td></tr></tbody></table><h4 id="description-386"><a href="#description-386" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameters, that set the thread pool size.</p><h3 id="auth-mongo-topology-max-overflow"><a href="#auth-mongo-topology-max-overflow" class="header-anchor">#</a> auth.mongo.topology.max_overflow</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0</td></tr></tbody></table><h4 id="description-387"><a href="#description-387" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameter, which determines how many additional worker threads are allowed to be created when all workers in the thread pool are busy.</p><h3 id="auth-mongo-topology-overflow-ttl"><a href="#auth-mongo-topology-overflow-ttl" class="header-anchor">#</a> auth.mongo.topology.overflow_ttl</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-388"><a href="#description-388" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameter, which determines how long to release additional worker threads when a worker is idle. Unit: ms</p><h3 id="auth-mongo-topology-overflow-check-period"><a href="#auth-mongo-topology-overflow-check-period" class="header-anchor">#</a> auth.mongo.topology.overflow_check_period</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-389"><a href="#description-389" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameters, which determines how often to check for idle threads to release additional workers.</p><h3 id="auth-mongo-topology-local-threshold-ms"><a href="#auth-mongo-topology-local-threshold-ms" class="header-anchor">#</a> auth.mongo.topology.local_threshold_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-390"><a href="#description-390" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameters, which is to select the strategy of the secondary node used to process user requests. The minimum value of the RTT of all nodes is LowestRTT, then only those secondary nodes with RTT &lt;LowestRTT + local_threshold_ms will be selected.</p><h3 id="auth-mongo-topology-connect-timeout-ms"><a href="#auth-mongo-topology-connect-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.connect_timeout_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>20000</td></tr></tbody></table><h4 id="description-391"><a href="#description-391" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameter, means MongoDB connection timeout, unit: ms.</p><h3 id="auth-mongo-topology-socket-timeout-ms"><a href="#auth-mongo-topology-socket-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.socket_timeout_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>100</td></tr></tbody></table><h4 id="description-392"><a href="#description-392" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameter, that means MongoDB message sending timeout period, unit: ms.</p><h3 id="auth-mongo-topology-server-selection-timeout-ms"><a href="#auth-mongo-topology-server-selection-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.server_selection_timeout_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>30000</td></tr></tbody></table><h4 id="description-393"><a href="#description-393" class="header-anchor">#</a> Description</h4><p>Specifies how long (in milliseconds) to block for server selection.</p><h3 id="auth-mongo-topology-wait-queue-timeout-ms"><a href="#auth-mongo-topology-wait-queue-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.wait_queue_timeout_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-394"><a href="#description-394" class="header-anchor">#</a> Description</h4><p>The maximum time in milliseconds for a worker to wait for a connection to become available.</p><h3 id="auth-mongo-topology-heartbeat-frequency-ms"><a href="#auth-mongo-topology-heartbeat-frequency-ms" class="header-anchor">#</a> auth.mongo.topology.heartbeat_frequency_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>10000</td></tr></tbody></table><h4 id="description-395"><a href="#description-395" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameters, the interval between topological scans, unit: ms.</p><h3 id="auth-mongo-topology-min-heartbeat-frequency-ms"><a href="#auth-mongo-topology-min-heartbeat-frequency-ms" class="header-anchor">#</a> auth.mongo.topology.min_heartbeat_frequency_ms</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1000</td></tr></tbody></table><h4 id="description-396"><a href="#description-396" class="header-anchor">#</a> Description</h4><p>MongoDB topology parameter, the minimum allowed value of <code>heartbeat_frequency_ms</code>, unit: milliseconds.</p><h2 id="plugin-emqx-auth-mysql"><a href="#plugin-emqx-auth-mysql" class="header-anchor">#</a> Plugin <code>emqx_auth_mysql</code></h2><h3 id="auth-mysql-server"><a href="#auth-mysql-server" class="header-anchor">#</a> auth.mysql.server</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>ip</td><td><code>127.0.0.1:3306</code></td></tr></tbody></table><h4 id="description-397"><a href="#description-397" class="header-anchor">#</a> Description</h4><p>MySQL server address.</p><h3 id="auth-mysql-pool"><a href="#auth-mysql-pool" class="header-anchor">#</a> auth.mysql.pool</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8</td></tr></tbody></table><h4 id="description-398"><a href="#description-398" class="header-anchor">#</a> Description</h4><p>Database connection thread pool size.</p><h3 id="auth-mysql-username"><a href="#auth-mysql-username" class="header-anchor">#</a> auth.mysql.username</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-399"><a href="#description-399" class="header-anchor">#</a> Description</h4><p>MySQL username.</p><h3 id="auth-mysql-password"><a href="#auth-mysql-password" class="header-anchor">#</a> auth.mysql.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-400"><a href="#description-400" class="header-anchor">#</a> Description</h4><p>MySQL password.</p><h3 id="auth-mysql-database"><a href="#auth-mysql-database" class="header-anchor">#</a> auth.mysql.database</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt</code></td></tr></tbody></table><h4 id="description-401"><a href="#description-401" class="header-anchor">#</a> Description</h4><p>MySQL database name.</p><h3 id="auth-mysql-query-timeout"><a href="#auth-mysql-query-timeout" class="header-anchor">#</a> auth.mysql.query_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-402"><a href="#description-402" class="header-anchor">#</a> Description</h4><p>MySQL data query timeout. The query timeout means user data was not found.</p><br><h3 id="auth-mysql-auth-query"><a href="#auth-mysql-auth-query" class="header-anchor">#</a> auth.mysql.auth_query</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>select password from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table><h4 id="description-403"><a href="#description-403" class="header-anchor">#</a> Description</h4><p>The MySQL select statement used during authentication, the selected data will be compared with the password encrypted by the encryption method specified by <code>auth.mysql.password_hash</code>, and the client with the same content after the comparison will be allowed to log in. The stored password with salt needs to select the fields corresponding to the salt at the same time, such as <code>select password, salt from mqtt_user where username = '%u' limit 1</code>.<code>Password</code> and <code>salt</code> field names cannot be modified, the table name and the field name in the WHERE clause can change depending on the situation. The WHERE clause supports the following placeholders:</p><table><thead><tr><th>Placeholder</th><th>Description</th></tr></thead><tbody><tr><td><code>%u</code></td><td>username specified in the CONNECT packet by the MQTT client that will be replaced</td></tr><tr><td><code>%c</code></td><td>ClientID specified in the CONNECT packet by the MQTT client that will be replaced</td></tr><tr><td><code>%C</code></td><td>Common Name in the client certificate when TLS that will be replaced is connected</td></tr><tr><td><code>%d</code></td><td>Subject in the client certificate when TLS that will be replaced is connected</td></tr></tbody></table><h3 id="auth-mysql-password-hash"><a href="#auth-mysql-password-hash" class="header-anchor">#</a> auth.mysql.password_hash</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>sh256</code></td></tr></tbody></table><h4 id="description-404"><a href="#description-404" class="header-anchor">#</a> Description</h4><p>The encryption method used for the password stored in the database. The following encryption methods are supported:</p><ul><li><code>plain</code>, both forward and backward salting is supported, such as <code>salt, plain</code></li><li><code>md5</code>, both forward and backward salting is supported</li><li><code>sha</code>, both forward and backward salting is supported</li><li><code>sha256</code>, both forward and backward salting is supported</li><li><code>sha512</code>, both forward and backward salting is supported</li><li><code>pbkdf2</code>, the format is <code>pbkdf2,&lt;Hashfun&gt;,&lt;Iterations&gt;,&lt;Dklen&gt;</code>. Among them, <code>&lt;Hashfun&gt;</code>is the hash function used, which supports <code>md4</code>, <code>md5</code>,<code>ripemd160</code> <code>sha</code>,<code>sha224</code>, <code>sha256</code>,<code>sha384</code>, <code>sha512</code>. <code>&lt;Iterations&gt;</code>is the number of iterations and <code>&lt;Dklen&gt;</code>is the length of the derived key. Example: <code>pbkdf2, sha256,1000,20</code></li><li><code>bcrypt</code>, only forward salting is supported, eg <code>salt, bcrypt</code></li></ul><h3 id="auth-mysql-super-query"><a href="#auth-mysql-super-query" class="header-anchor">#</a> auth.mysql.super_query</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>select is_superuser from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table><h4 id="description-405"><a href="#description-405" class="header-anchor">#</a> Description</h4><p>The SQL select statement used for super user authentication. All table names and field names in this statement can be modified as appropriate. If and only if the value of the selected field is <code>1</code>, the user is a super user. In the WHERE clause, the supported placeholders are the same as <code>auth.mysql.auth_query</code>.</p><h3 id="auth-mysql-acl-query"><a href="#auth-mysql-acl-query" class="header-anchor">#</a> auth.mysql.acl_query</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>select allow, ipaddr, username, clientid, access, topic from mqtt_acl where ipaddr = '%a' or username = '%u' or username = '$all' or clientid = '%c'</code></td></tr></tbody></table><h4 id="description-406"><a href="#description-406" class="header-anchor">#</a> Description</h4><p>The SQL selection statement used in ACL verification. All table names and field names in this statement can be modified as appropriate. The placeholders supported in the WHERE clause are as follows:</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>%a</code></td><td>To be replaced with the client IP address</td></tr><tr><td><code>%u</code></td><td>To be replaced with the username specified by the MQTT client in the CONNECT packet</td></tr><tr><td><code>%c</code></td><td>To be replaced with the client identifier specified by the MQTT client in the CONNECT packet</td></tr></tbody></table><h2 id="plugin-emqx-auth-pgsql"><a href="#plugin-emqx-auth-pgsql" class="header-anchor">#</a> Plugin <code>emqx_auth_pgsql</code></h2><h3 id="auth-pgsql-server"><a href="#auth-pgsql-server" class="header-anchor">#</a> auth.pgsql.server</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>ip</td><td><code>127.0.0.1:5432</code></td></tr></tbody></table><h4 id="description-407"><a href="#description-407" class="header-anchor">#</a> Description</h4><p>PostgreSQL server address.</p><h3 id="auth-pgsql-pool"><a href="#auth-pgsql-pool" class="header-anchor">#</a> auth.pgsql.pool</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8</td></tr></tbody></table><h4 id="description-408"><a href="#description-408" class="header-anchor">#</a> Description</h4><p>Database connection thread pool size.</p><h3 id="auth-pgsql-username"><a href="#auth-pgsql-username" class="header-anchor">#</a> auth.pgsql.username</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>root</code></td></tr></tbody></table><h4 id="description-409"><a href="#description-409" class="header-anchor">#</a> Description</h4><p>PostgreSQL username.</p><h3 id="auth-pgsql-password"><a href="#auth-pgsql-password" class="header-anchor">#</a> auth.pgsql.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-410"><a href="#description-410" class="header-anchor">#</a> Description</h4><p>PostgreSQL password.</p><h3 id="auth-pgsql-database"><a href="#auth-pgsql-database" class="header-anchor">#</a> auth.pgsql.database</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt</code></td></tr></tbody></table><h4 id="description-411"><a href="#description-411" class="header-anchor">#</a> Description</h4><p>PostgreSQL database name.</p><h3 id="auth-pgsql-encoding"><a href="#auth-pgsql-encoding" class="header-anchor">#</a> auth.pgsql.encoding</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>utf8</code></td></tr></tbody></table><h4 id="description-412"><a href="#description-412" class="header-anchor">#</a> Description</h4><p>PostgreSQL database character encoding format.</p><h3 id="auth-pgsql-ssl"><a href="#auth-pgsql-ssl" class="header-anchor">#</a> auth.pgsql.ssl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-413"><a href="#description-413" class="header-anchor">#</a> Description</h4><p>Whether to enable TLS connection.</p><h3 id="auth-pgsql-ssl-opts-keyfile"><a href="#auth-pgsql-ssl-opts-keyfile" class="header-anchor">#</a> auth.pgsql.ssl_opts.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-414"><a href="#description-414" class="header-anchor">#</a> Description</h4><p>Client private key file path.</p><h3 id="auth-pgsql-ssl-opts-certfile"><a href="#auth-pgsql-ssl-opts-certfile" class="header-anchor">#</a> auth.pgsql.ssl_opts.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-415"><a href="#description-415" class="header-anchor">#</a> Description</h4><p>Client certificate file path.</p><h3 id="auth-pgsql-ssl-opts-cacertfile"><a href="#auth-pgsql-ssl-opts-cacertfile" class="header-anchor">#</a> auth.pgsql.ssl_opts.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-416"><a href="#description-416" class="header-anchor">#</a> Description</h4><p>Client CA certificate file path.</p><h3 id="auth-pgsql-auth-query"><a href="#auth-pgsql-auth-query" class="header-anchor">#</a> auth.pgsql.auth_query</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>select password from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table><h4 id="description-417"><a href="#description-417" class="header-anchor">#</a> Description</h4><p>The SQL selection statement used for authentication, that is the same as <code>auth.mysql.auth_query</code>.</p><h3 id="auth-pgsql-password-hash"><a href="#auth-pgsql-password-hash" class="header-anchor">#</a> auth.pgsql.password_hash</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>sh256</code></td></tr></tbody></table><h4 id="description-418"><a href="#description-418" class="header-anchor">#</a> Description</h4><p>The encryption method used for the password stored in the database, that is the same as <code>auth.mysql.password_hash</code>.</p><h3 id="auth-pgsql-super-query"><a href="#auth-pgsql-super-query" class="header-anchor">#</a> auth.pgsql.super_query</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>select is_superuser from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table><h4 id="description-419"><a href="#description-419" class="header-anchor">#</a> Description</h4><p>The SQL select statement used for super user authentication, that is the same as <code>auth.mysql.super_query</code>.</p><h3 id="auth-pgsql-acl-query"><a href="#auth-pgsql-acl-query" class="header-anchor">#</a> auth.pgsql.acl_query</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>select allow, ipaddr, username, clientid, access, topic from mqtt_acl where ipaddr = '%a' or username = '%u' or username = '$all' or clientid = '%c'</code></td></tr></tbody></table><h4 id="description-420"><a href="#description-420" class="header-anchor">#</a> Description</h4><p>The SQL selection statement used in ACL verification, the same as <code>auth.mysql.acl_query</code>.</p><h2 id="plugin-emqx-auth-redis"><a href="#plugin-emqx-auth-redis" class="header-anchor">#</a> Plugin <code>emqx_auth_redis</code></h2><h3 id="auth-redis-type"><a href="#auth-redis-type" class="header-anchor">#</a> auth.redis.type</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>single</code>, <code>sentinel</code>, <code>cluster</code></td><td><code>single</code></td></tr></tbody></table><h4 id="description-421"><a href="#description-421" class="header-anchor">#</a> Description</h4><p>Redis Service cluster type:</p><ul><li><code>single</code>：Single node service.</li><li><code>sentinel</code>：sentinel pattern.</li><li><code>cluster</code>：cluster pattern.</li></ul><h3 id="auth-redis-server"><a href="#auth-redis-server" class="header-anchor">#</a> auth.redis.server</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>127.0.0.1:6379</code></td></tr></tbody></table><h4 id="description-422"><a href="#description-422" class="header-anchor">#</a> Description</h4><p>Redis service addresses, if there are multiple, they are separated by commas. For example, <code>192.168.0.1:6379, 192.168.0.2:6379</code>.</p><h3 id="auth-redis-sentinel"><a href="#auth-redis-sentinel" class="header-anchor">#</a> auth.redis.sentinel</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-423"><a href="#description-423" class="header-anchor">#</a> Description</h4><p>The cluster name in Redis sentinel mode. If it is not in <code>sentinel</code> mode, no configuration is required.</p><h3 id="auth-redis-pool"><a href="#auth-redis-pool" class="header-anchor">#</a> auth.redis.pool</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>&gt; 0</td><td>8</td></tr></tbody></table><h4 id="description-424"><a href="#description-424" class="header-anchor">#</a> Description</h4><p>Connection pool size.</p><h3 id="auth-redis-database"><a href="#auth-redis-database" class="header-anchor">#</a> auth.redis.database</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0</td></tr></tbody></table><h4 id="description-425"><a href="#description-425" class="header-anchor">#</a> Description</h4><p>The serial number of the Redis database to be connected.</p><h3 id="auth-redis-password"><a href="#auth-redis-password" class="header-anchor">#</a> auth.redis.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-426"><a href="#description-426" class="header-anchor">#</a> Description</h4><p>Redis password.</p><h3 id="auth-redis-query-timeout"><a href="#auth-redis-query-timeout" class="header-anchor">#</a> auth.redis.query_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>5s</code></td></tr></tbody></table><h4 id="description-427"><a href="#description-427" class="header-anchor">#</a> Description</h4><p>Redis query timeout.</p><h3 id="auth-redis-auth-cmd"><a href="#auth-redis-auth-cmd" class="header-anchor">#</a> auth.redis.auth_cmd</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>HMGET mqtt_user:%u password</code></td></tr></tbody></table><h4 id="description-428"><a href="#description-428" class="header-anchor">#</a> Description</h4><p>Authentication query commands, available placeholders are:</p><ul><li><code>%u</code>: client username.</li><li><code>%c</code>: client ID.</li><li><code>%C</code>: <code>cn</code> of client SSL certificate.</li><li><code>%d</code>: <code>dn</code> of client SSL certificate.</li></ul><h3 id="auth-redis-password-hash"><a href="#auth-redis-password-hash" class="header-anchor">#</a> auth.redis.password_hash</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>plain</code>, <code>md5</code>, <code>sha</code>, <code>sha256</code>, <code>bcrypt</code></td><td><code>plain</code></td></tr></tbody></table><h4 id="description-429"><a href="#description-429" class="header-anchor">#</a> Description</h4><p>The encoding format of the <code>password</code> field stored by Redis.</p><h3 id="auth-redis-super-cmd"><a href="#auth-redis-super-cmd" class="header-anchor">#</a> auth.redis.super_cmd</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>HGET mqtt_user:%u is_superuser</code></td></tr></tbody></table><h4 id="description-430"><a href="#description-430" class="header-anchor">#</a> Description</h4><p>Authentication query commands for superuser, available placeholders are:</p><ul><li><code>%u</code>: client username.</li><li><code>%c</code>: client ID.</li><li><code>%C</code>: <code>cn</code> of client SSL certificate.</li><li><code>%d</code>: <code>dn</code> of client SSL certificate.</li></ul><h3 id="auth-redis-acl-cmd"><a href="#auth-redis-acl-cmd" class="header-anchor">#</a> auth.redis.acl_cmd</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>HGETALL mqtt_acl:%u</code></td></tr></tbody></table><h4 id="description-431"><a href="#description-431" class="header-anchor">#</a> Description</h4><p>ACL query commands. Available placeholders are:</p><ul><li><code>%u</code>: client username.</li><li><code>%c</code>: client ID.</li></ul><h2 id="plugin-emqx-bridge-mqtt"><a href="#plugin-emqx-bridge-mqtt" class="header-anchor">#</a> Plugin <code>emqx_bridge_mqtt</code></h2><h3 id="bridge-mqtt-aws-address"><a href="#bridge-mqtt-aws-address" class="header-anchor">#</a> bridge.mqtt.aws.address</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>127.0.0.1:1883</code></td></tr></tbody></table><h4 id="description-432"><a href="#description-432" class="header-anchor">#</a> Description</h4><p>Bridge address, supports two formats, for example:</p><ul><li><code>emqx @ 192.168.0.100</code>: EMQX Broker node name, which means that the message of this node is bridged to another EMQX node.</li><li><code>192.168.0.100: 1883</code>: IP address and port,which means that the message of the node is bridged to another MQTT server through an MQTT connection.</li></ul><h3 id="bridge-mqtt-aws-proto-ver"><a href="#bridge-mqtt-aws-proto-ver" class="header-anchor">#</a> bridge.mqtt.aws.proto_ver</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>mqttv3</code>, <code>mqttv4</code>, <code>mqttv5</code></td><td><code>mqttv4</code></td></tr></tbody></table><h4 id="description-433"><a href="#description-433" class="header-anchor">#</a> Description</h4><p>The client protocol version of the MQTT bridge.</p><h3 id="bridge-mqtt-aws-start-type"><a href="#bridge-mqtt-aws-start-type" class="header-anchor">#</a> bridge.mqtt.aws.start_type</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>eunm</td><td><code>manual</code>, <code>auto</code></td><td><code>manual</code></td></tr></tbody></table><h4 id="description-434"><a href="#description-434" class="header-anchor">#</a> Description</h4><p>Start type:</p><ul><li><code>auto</code>: start automatically with the plugin.</li><li><code>manual</code>: start the bridge manually.</li></ul><h3 id="bridge-mqtt-aws-bridge-mode"><a href="#bridge-mqtt-aws-bridge-mode" class="header-anchor">#</a> bridge.mqtt.aws.bridge_mode</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>boolean</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-435"><a href="#description-435" class="header-anchor">#</a> Description</h4><p>Whether to enable bridging mode, only MQTT bridging is supported. After being enabled, the MQTT client started by <code>emqx_bridge_mqtt</code> will carry a flag bit when sending a connection message, indicating that this is a bridging client.</p><div class="custom-block tip"><p class="custom-block-title">Tip</p><p>RabbitMQ currently does not support this flag.</p></div><h3 id="bridge-mqtt-aws-clientid"><a href="#bridge-mqtt-aws-clientid" class="header-anchor">#</a> bridge.mqtt.aws.clientid</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>bridge_aws</code></td></tr></tbody></table><h4 id="description-436"><a href="#description-436" class="header-anchor">#</a> Description</h4><p>The client ID of the MQTT bridge.</p><h3 id="bridge-mqtt-aws-clean-start"><a href="#bridge-mqtt-aws-clean-start" class="header-anchor">#</a> bridge.mqtt.aws.clean_start</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>boolean</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-437"><a href="#description-437" class="header-anchor">#</a> Description</h4><p>The <code>clean_start</code> flag of the MQTT bridge. It indicates whether the client connects to the remote MQTT Broker in the manner of <code>clean session</code>.</p><h3 id="bridge-mqtt-aws-username"><a href="#bridge-mqtt-aws-username" class="header-anchor">#</a> bridge.mqtt.aws.username</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>user</code></td></tr></tbody></table><h4 id="description-438"><a href="#description-438" class="header-anchor">#</a> Description</h4><p>The username of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-password"><a href="#bridge-mqtt-aws-password" class="header-anchor">#</a> bridge.mqtt.aws.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>passwd</code></td></tr></tbody></table><h4 id="description-439"><a href="#description-439" class="header-anchor">#</a> Description</h4><p>The password of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-forwards"><a href="#bridge-mqtt-aws-forwards" class="header-anchor">#</a> bridge.mqtt.aws.forwards</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>topic1/#,topic2/#</code></td></tr></tbody></table><h4 id="description-440"><a href="#description-440" class="header-anchor">#</a> Description</h4><p>Bridge forwarding rules. For example:</p><ul><li><code>topic1/#, topic2/#</code>：<code>emqx_bridge_mqtt</code> will forward all topic messages in EMQX Broker that match <code>topic1/#</code>，<code>topic2/#</code> .</li></ul><h3 id="bridge-mqtt-aws-forward-mountpoint"><a href="#bridge-mqtt-aws-forward-mountpoint" class="header-anchor">#</a> bridge.mqtt.aws.forward_mountpoint</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>bridge/aws/${node}/</code></td></tr></tbody></table><h4 id="description-441"><a href="#description-441" class="header-anchor">#</a> Description</h4><p>The prefix of the forwarding topic. When forwarding the message to the target system, it is supported to add a uniform prefix to the topic.</p><h3 id="bridge-mqtt-aws-subscription-1-topic"><a href="#bridge-mqtt-aws-subscription-1-topic" class="header-anchor">#</a> bridge.mqtt.aws.subscription.1.topic</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-442"><a href="#description-442" class="header-anchor">#</a> Description</h4><p>Topic of the peer system subscribed.</p><h3 id="bridge-mqtt-aws-subscription-1-qos"><a href="#bridge-mqtt-aws-subscription-1-qos" class="header-anchor">#</a> bridge.mqtt.aws.subscription.1.qos</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>0</code>, <code>1</code>, <code>2</code></td><td><code>1</code></td></tr></tbody></table><h4 id="description-443"><a href="#description-443" class="header-anchor">#</a> Description</h4><p>QoS of the peer system topic subscribed.</p><h3 id="bridge-mqtt-aws-receive-mountpoint"><a href="#bridge-mqtt-aws-receive-mountpoint" class="header-anchor">#</a> bridge.mqtt.aws.receive_mountpoint</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>receive/aws/</code></td></tr></tbody></table><h4 id="description-444"><a href="#description-444" class="header-anchor">#</a> Description</h4><p>The topic prefix of the received message.<code>emqx_bridge_mqtt</code> supports adding a unified topic prefix to the message from the peer.</p><h3 id="bridge-mqtt-aws-ssl"><a href="#bridge-mqtt-aws-ssl" class="header-anchor">#</a> bridge.mqtt.aws.ssl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>boolean</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-445"><a href="#description-445" class="header-anchor">#</a> Description</h4><p>Whether the MQTT bridge client enables SSL.</p><h3 id="bridge-mqtt-aws-cacertfile"><a href="#bridge-mqtt-aws-cacertfile" class="header-anchor">#</a> bridge.mqtt.aws.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-446"><a href="#description-446" class="header-anchor">#</a> Description</h4><p>The path of the CA certificate file of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-certfile"><a href="#bridge-mqtt-aws-certfile" class="header-anchor">#</a> bridge.mqtt.aws.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/client-cert.pem</code></td></tr></tbody></table><h4 id="description-447"><a href="#description-447" class="header-anchor">#</a> Description</h4><p>The path of the SSL certificate file of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-keyfile"><a href="#bridge-mqtt-aws-keyfile" class="header-anchor">#</a> bridge.mqtt.aws.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/client-key.pem</code></td></tr></tbody></table><h4 id="description-448"><a href="#description-448" class="header-anchor">#</a> Description</h4><p>The path of the SSL key file of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-ciphers"><a href="#bridge-mqtt-aws-ciphers" class="header-anchor">#</a> bridge.mqtt.aws.ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384</code></td></tr></tbody></table><h4 id="description-449"><a href="#description-449" class="header-anchor">#</a> Description</h4><p>Cipher suite supported by SSL handshake.</p><h3 id="bridge-mqtt-aws-psk-ciphers"><a href="#bridge-mqtt-aws-psk-ciphers" class="header-anchor">#</a> bridge.mqtt.aws.psk_ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA</code></td></tr></tbody></table><h4 id="description-450"><a href="#description-450" class="header-anchor">#</a> Description</h4><p>Cipher suite supported by SSL PSK handshake.</p><h3 id="bridge-mqtt-aws-keepalive"><a href="#bridge-mqtt-aws-keepalive" class="header-anchor">#</a> bridge.mqtt.aws.keepalive</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>60s</code></td></tr></tbody></table><h4 id="description-451"><a href="#description-451" class="header-anchor">#</a> Description</h4><p>Heartbeat interval of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-tls-versions"><a href="#bridge-mqtt-aws-tls-versions" class="header-anchor">#</a> bridge.mqtt.aws.tls_versions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>tslv1.3,tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table><h4 id="description-452"><a href="#description-452" class="header-anchor">#</a> Description</h4><p>The SSL version of the MQTT bridge client.</p><h3 id="bridge-mqtt-aws-reconnect-interval"><a href="#bridge-mqtt-aws-reconnect-interval" class="header-anchor">#</a> bridge.mqtt.aws.reconnect_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>30s</code></td></tr></tbody></table><h4 id="description-453"><a href="#description-453" class="header-anchor">#</a> Description</h4><p>Reconnection interval.</p><h3 id="bridge-mqtt-aws-retry-interval"><a href="#bridge-mqtt-aws-retry-interval" class="header-anchor">#</a> bridge.mqtt.aws.retry_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>20s</code></td></tr></tbody></table><h4 id="description-454"><a href="#description-454" class="header-anchor">#</a> Description</h4><p>QoS 1/2 message retransmission interval.</p><h3 id="bridge-mqtt-aws-batch-size"><a href="#bridge-mqtt-aws-batch-size" class="header-anchor">#</a> bridge.mqtt.aws.batch_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>32</td></tr></tbody></table><h4 id="description-455"><a href="#description-455" class="header-anchor">#</a> Description</h4><p>The batch size of the EMQX bridge. The EMQX bridge mode of <code>emqx_bridge_mqtt</code> supports batch sending of messages to increase throughput.</p><h3 id="bridge-mqtt-aws-max-inflight-size"><a href="#bridge-mqtt-aws-max-inflight-size" class="header-anchor">#</a> bridge.mqtt.aws.max_inflight_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>32</td></tr></tbody></table><h4 id="description-456"><a href="#description-456" class="header-anchor">#</a> Description</h4><p>Inflight window size.</p><h3 id="bridge-mqtt-aws-queue-replayq-dir"><a href="#bridge-mqtt-aws-queue-replayq-dir" class="header-anchor">#</a> bridge.mqtt.aws.queue.replayq_dir</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/emqx_aws_bridge/</code></td></tr></tbody></table><h4 id="description-457"><a href="#description-457" class="header-anchor">#</a> Description</h4><p>Set the message queue file path. If not configured, only memory storage is used.</p><h3 id="bridge-mqtt-aws-queue-replayq-seg-bytes"><a href="#bridge-mqtt-aws-queue-replayq-seg-bytes" class="header-anchor">#</a> bridge.mqtt.aws.queue.replayq_seg_bytes</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>10MB</code></td></tr></tbody></table><h4 id="description-458"><a href="#description-458" class="header-anchor">#</a> Description</h4><p>The single file size of the message queue stored on disk.</p><h3 id="bridge-mqtt-aws-queue-max-total-size"><a href="#bridge-mqtt-aws-queue-max-total-size" class="header-anchor">#</a> bridge.mqtt.aws.queue.max_total_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>5GB</code></td></tr></tbody></table><h4 id="description-459"><a href="#description-459" class="header-anchor">#</a> Description</h4><p>The maximum allowed message queue storage.</p><h2 id="plugin-emqx-coap"><a href="#plugin-emqx-coap" class="header-anchor">#</a> Plugin <code>emqx_coap</code></h2><h3 id="coap-port"><a href="#coap-port" class="header-anchor">#</a> coap.port</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>5683</td></tr></tbody></table><h4 id="description-460"><a href="#description-460" class="header-anchor">#</a> Description</h4><p>Specify the UDP binding port of the CoAP plug-in.</p><h3 id="coap-enable-stats"><a href="#coap-enable-stats" class="header-anchor">#</a> coap.enable_stats</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-461"><a href="#description-461" class="header-anchor">#</a> Description</h4><p>Enable or disable CoAP statistics function.</p><h3 id="coap-dtls-port"><a href="#coap-dtls-port" class="header-anchor">#</a> coap.dtls.port</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>5684</td></tr></tbody></table><h4 id="description-462"><a href="#description-462" class="header-anchor">#</a> Description</h4><p>Specify the DTLS binding port of the CoAP plugin.</p><h3 id="coap-dtls-verify"><a href="#coap-dtls-verify" class="header-anchor">#</a> coap.dtls.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td><code>verify_peer</code></td></tr></tbody></table><h4 id="description-463"><a href="#description-463" class="header-anchor">#</a> Description</h4><p>When using DTLS, specify whether to verify the client during the DTLS handshake.</p><h3 id="coap-dtls-keyfile"><a href="#coap-dtls-keyfile" class="header-anchor">#</a> coap.dtls.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-464"><a href="#description-464" class="header-anchor">#</a> Description</h4><p>When using DTLS, specify the DTLS private key file.</p><h3 id="coap-dtls-certfile"><a href="#coap-dtls-certfile" class="header-anchor">#</a> coap.dtls.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-465"><a href="#description-465" class="header-anchor">#</a> Description</h4><p>When using DTLS, specify the DTLS certificate file.</p><h3 id="coap-dtls-cacertfile"><a href="#coap-dtls-cacertfile" class="header-anchor">#</a> coap.dtls.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-466"><a href="#description-466" class="header-anchor">#</a> Description</h4><p>When using DTLS, specify the CA certificate file for DTLS.</p><h3 id="coap-dtls-fail-if-no-peer-cert"><a href="#coap-dtls-fail-if-no-peer-cert" class="header-anchor">#</a> coap.dtls.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-467"><a href="#description-467" class="header-anchor">#</a> Description</h4><p>When using DTLS, if the client does not have a certificate during the DTLS handshake, whether to let the handshake fail.</p><h3 id="coap-dtls-ciphers"><a href="#coap-dtls-ciphers" class="header-anchor">#</a> coap.dtls.ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table><h4 id="description-468"><a href="#description-468" class="header-anchor">#</a> Description</h4><p>When using DTLS, specify the Cipher list supported by the DTLS server.</p><h2 id="plugin-emqx-dashboard"><a href="#plugin-emqx-dashboard" class="header-anchor">#</a> Plugin <code>emqx_dashboard</code></h2><h3 id="dashboard-default-user-login-dashboard-default-user-password"><a href="#dashboard-default-user-login-dashboard-default-user-password" class="header-anchor">#</a> dashboard.default_user.login<code>&amp;</code>dashboard.default_user.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-469"><a href="#description-469" class="header-anchor">#</a> Description</h4><p>Default user authentication data of Dashboard. <code>dashboard.default_user.login</code> and <code>dashboard.default_user.password</code> must exist at the same time.</p><h3 id="dashboard-listener-http"><a href="#dashboard-listener-http" class="header-anchor">#</a> dashboard.listener.http</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>18083</td></tr><tr><td>string</td><td>0.0.0.0:18083</td></tr></tbody></table><h4 id="description-470"><a href="#description-470" class="header-anchor">#</a> Description</h4><p>The listening port of the HTTP listener.<br>Use the <code>ip:port</code> format to specify which network interface and port to listen to. Defaults to <code>0.0.0.0:18083</code>, which listens on all network interfaces.</p><h3 id="dashboard-listener-http-acceptors"><a href="#dashboard-listener-http-acceptors" class="header-anchor">#</a> dashboard.listener.http.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>4</td></tr></tbody></table><h4 id="description-471"><a href="#description-471" class="header-anchor">#</a> Description</h4><p>The number of listening processes this listener will create.</p><h3 id="dashboard-listener-http-max-clients"><a href="#dashboard-listener-http-max-clients" class="header-anchor">#</a> dashboard.listener.http.max_clients</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-472"><a href="#description-472" class="header-anchor">#</a> Description</h4><p>The maximum number of connections allowed by this listener at the same time.</p><h3 id="dashboard-listener-http-inet6"><a href="#dashboard-listener-http-inet6" class="header-anchor">#</a> dashboard.listener.http.inet6</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ture</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-473"><a href="#description-473" class="header-anchor">#</a> Description</h4><p>Whether to set the socket to allow IPv6 connections.</p><h3 id="dashboard-listener-http-ipv6-v6only"><a href="#dashboard-listener-http-ipv6-v6only" class="header-anchor">#</a> dashboard.listener.http.ipv6_v6only</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ture</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-474"><a href="#description-474" class="header-anchor">#</a> Description</h4><p>Whether to restrict the socket that only IPv6 can be ued, and prohibit any IPv4 connections. Only applicable to IPv6 sockets, that is, the value of this configuration item has practical significance only when <code>dashboard.listener.http.inet6</code> is set to <code>true</code>. It should be noted that on some operating systems, such as Windows, the only allowed value for this configuration item is <code>true</code>.</p><h3 id="dashboard-listener-https"><a href="#dashboard-listener-https" class="header-anchor">#</a> dashboard.listener.https</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>18084</td></tr></tbody></table><h4 id="description-475"><a href="#description-475" class="header-anchor">#</a> Description</h4><p>The listening port of the HTTPS listener, <strong>which is disabled by default.</strong></p><h3 id="dashboard-listener-https-acceptors"><a href="#dashboard-listener-https-acceptors" class="header-anchor">#</a> dashboard.listener.https.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>2</td></tr></tbody></table><h4 id="description-476"><a href="#description-476" class="header-anchor">#</a> Description</h4><p>Same as <code>dashboard.listener.http.acceptors</code>.</p><h3 id="dashboard-listener-https-max-clients"><a href="#dashboard-listener-https-max-clients" class="header-anchor">#</a> dashboard.listener.https.max_clients</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-477"><a href="#description-477" class="header-anchor">#</a> Description</h4><p>Same as <code>dashboard.listener.http.max_clients</code>.</p><h3 id="dashboard-listener-https-inet6"><a href="#dashboard-listener-https-inet6" class="header-anchor">#</a> dashboard.listener.https.inet6</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ture</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-478"><a href="#description-478" class="header-anchor">#</a> Description</h4><p>Same as <code>dashboard.listener.http.inet6</code>.</p><h3 id="dashboard-listener-https-ipv6-v6only"><a href="#dashboard-listener-https-ipv6-v6only" class="header-anchor">#</a> dashboard.listener.https.ipv6_v6only</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ture</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-479"><a href="#description-479" class="header-anchor">#</a> Description</h4><p>Same as <code>dashboard.listener.http.ipv6_v6only</code>.</p><h3 id="dashboard-listener-https-keyfile"><a href="#dashboard-listener-https-keyfile" class="header-anchor">#</a> dashboard.listener.https.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-480"><a href="#description-480" class="header-anchor">#</a> Description</h4><p>File path to the server's private key.</p><h3 id="dashboard-listener-https-certfile"><a href="#dashboard-listener-https-certfile" class="header-anchor">#</a> dashboard.listener.https.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-481"><a href="#description-481" class="header-anchor">#</a> Description</h4><p>File path to the server's certificate.</p><h3 id="dashboard-listener-https-cacertfile"><a href="#dashboard-listener-https-cacertfile" class="header-anchor">#</a> dashboard.listener.https.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-482"><a href="#description-482" class="header-anchor">#</a> Description</h4><p>File path to the CA certificates. It should include all intermediate CA certificates and root CA certificate of the server certificate. It should also include trusted CAs to validate client certificates when <code>verify</code> configuration is set to <code>verify_peer</code>.</p><h3 id="dashboard-listener-https-dhfile"><a href="#dashboard-listener-https-dhfile" class="header-anchor">#</a> dashboard.listener.https.dhfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table><h4 id="description-483"><a href="#description-483" class="header-anchor">#</a> Description</h4><p>If a cipher suite exchanged from Diffie Hellman key is used, you can use this configuration item to specify a file path that contains PEM-encoded Diffie Hellman parameters. If not specified, the default parameters are used.</p><h3 id="dashboard-listener-https-verify"><a href="#dashboard-listener-https-verify" class="header-anchor">#</a> dashboard.listener.https.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td><code>verify_peer</code></td></tr></tbody></table><h4 id="description-484"><a href="#description-484" class="header-anchor">#</a> Description</h4><p><code>verify_none</code> means to disable peer certificate verification, and the server will not send a certificate request to the client. <code>verify_peer</code> means to enable peer certificate verification, and the server will send a certificate request to the client. When this configuration item is set to <code>verify_peer</code>, it usually need to be used together with <code>dashboard.listener.https.fail_if_no_peer_cert</code> to specify whether to force the client to provide a certificate.</p><h3 id="dashboard-listener-https-fail-if-no-peer-cert"><a href="#dashboard-listener-https-fail-if-no-peer-cert" class="header-anchor">#</a> dashboard.listener.https.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ture</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-485"><a href="#description-485" class="header-anchor">#</a> Description</h4><p>It should be used together with <code>dashboard.listener.https.verify</code>. If set to <code>true</code>, the server will request a certificate from the client. If the client does not provide a certificate, the handshake will fail. If set to <code>false</code>, the handshake can be successful even if the terminal does not provide a certificate.</p><h3 id="dashboard-listener-https-tls-versions"><a href="#dashboard-listener-https-tls-versions" class="header-anchor">#</a> dashboard.listener.https.tls_versions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>tlsv1.3,tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table><h4 id="description-486"><a href="#description-486" class="header-anchor">#</a> Description</h4><p>Specify the TLS protocol version supported by the server. The versions are separated by <code>,</code>. The supported TLS protocol versions are: <code>tlsv1.3</code>, <code>tlsv1.2</code>, <code>tlsv1.1</code>, <code>tlsv1</code>, <code>sslv3</code>.</p><h3 id="dashboard-listener-https-ciphers"><a href="#dashboard-listener-https-ciphers" class="header-anchor">#</a> dashboard.listener.https.ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table><h4 id="description-487"><a href="#description-487" class="header-anchor">#</a> Description</h4><p>Specify the cipher suite supported by the server.</p><h3 id="dashboard-listener-https-secure-renegotiate"><a href="#dashboard-listener-https-secure-renegotiate" class="header-anchor">#</a> dashboard.listener.https.secure_renegotiate</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-488"><a href="#description-488" class="header-anchor">#</a> Description</h4><p>Specifies whether to start the secure renegotiation mechanism.</p><h3 id="dashboard-listener-https-reuse-sessions"><a href="#dashboard-listener-https-reuse-sessions" class="header-anchor">#</a> dashboard.listener.https.reuse_sessions</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-489"><a href="#description-489" class="header-anchor">#</a> Description</h4><p>Specifies whether to enable the session resuing mechanism.</p><h3 id="dashboard-listener-https-honor-cipher-order"><a href="#dashboard-listener-https-honor-cipher-order" class="header-anchor">#</a> dashboard.listener.https.honor_cipher_order</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-490"><a href="#description-490" class="header-anchor">#</a> Description</h4><p>If set to <code>on</code>, use the server ’s preferences for password selection. If set to <code>off</code>, use the client ’s preferences.</p><h2 id="plugin-emqx-lwm2m"><a href="#plugin-emqx-lwm2m" class="header-anchor">#</a> Plugin <code>emqx_lwm2m</code></h2><h3 id="lwm2m-port"><a href="#lwm2m-port" class="header-anchor">#</a> lwm2m.port</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>5683</td></tr></tbody></table><h4 id="description-491"><a href="#description-491" class="header-anchor">#</a> Description</h4><p>Specify the UDP port used by LwM2M.</p><h3 id="lwm2m-lifetime-min"><a href="#lwm2m-lifetime-min" class="header-anchor">#</a> lwm2m.lifetime_min</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>1s</code></td></tr></tbody></table><h4 id="description-492"><a href="#description-492" class="header-anchor">#</a> Description</h4><p>Specify the minimum allowed LwM2M lifetime with the unit of second.</p><h3 id="lwm2m-lifetime-max"><a href="#lwm2m-lifetime-max" class="header-anchor">#</a> lwm2m.lifetime_max</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>86400s</code></td></tr></tbody></table><h4 id="description-493"><a href="#description-493" class="header-anchor">#</a> Description</h4><p>Specify the maximum allowed LwM2M lifetime with the unit of second.</p><h3 id="lwm2m-qmode-time-window"><a href="#lwm2m-qmode-time-window" class="header-anchor">#</a> lwm2m.qmode_time_window</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>22</td></tr></tbody></table><h4 id="description-494"><a href="#description-494" class="header-anchor">#</a> Description</h4><p>Specifies the window size used in LwM2M Q mode, with the unit of second.</p><p>Within this window period, it can be sent to the Q mode device, and after the window period, the downlink data is cached.</p><h3 id="lwm2m-lb"><a href="#lwm2m-lb" class="header-anchor">#</a> lwm2m.lb</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>coaproxy</code>, <code>undefined</code></td><td><code>undefined</code></td></tr></tbody></table><h4 id="description-495"><a href="#description-495" class="header-anchor">#</a> Description</h4><p>Set whether to use coaproxy. <code>undefined</code> means not to use coaproxy.</p><h3 id="lwm2m-auto-observe"><a href="#lwm2m-auto-observe" class="header-anchor">#</a> lwm2m.auto_observe</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-496"><a href="#description-496" class="header-anchor">#</a> Description</h4><p>Whether to automatically issue the observe command after device registration.</p><h3 id="lwm2m-mountpoint"><a href="#lwm2m-mountpoint" class="header-anchor">#</a> lwm2m.mountpoint</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>lwm2m/%e/</code></td></tr></tbody></table><h4 id="description-497"><a href="#description-497" class="header-anchor">#</a> Description</h4><p>Set the mount point of the LwM2M topic. The following wildcards are supported:</p><ul><li>'%e': Endpoint Name</li><li>'%a': IP Address</li></ul><h3 id="lwm2m-topics-command"><a href="#lwm2m-topics-command" class="header-anchor">#</a> lwm2m.topics.command</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>dn/#</code></td></tr></tbody></table><h4 id="description-498"><a href="#description-498" class="header-anchor">#</a> Description</h4><p>The command line topic that need to be subscribd after the device registration is completed.</p><h3 id="lwm2m-topics-response"><a href="#lwm2m-topics-response" class="header-anchor">#</a> lwm2m.topics.response</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>up/resp</code></td></tr></tbody></table><h4 id="description-499"><a href="#description-499" class="header-anchor">#</a> Description</h4><p>Which topic the device's upstream response needs to be published to.</p><h3 id="lwm2m-topics-notify"><a href="#lwm2m-topics-notify" class="header-anchor">#</a> lwm2m.topics.notify</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>up/notify</code></td></tr></tbody></table><h4 id="description-500"><a href="#description-500" class="header-anchor">#</a> Description</h4><p>Which topic the device's upstream report message (notify) needs to be published to.</p><h3 id="lwm2m-topics-register"><a href="#lwm2m-topics-register" class="header-anchor">#</a> lwm2m.topics.register</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>up/resp</code></td></tr></tbody></table><h4 id="description-501"><a href="#description-501" class="header-anchor">#</a> Description</h4><p>Which topic the device's upstream registration message (register) needs to be published to.</p><h3 id="lwm2m-topics-update"><a href="#lwm2m-topics-update" class="header-anchor">#</a> lwm2m.topics.update</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>up/resp</code></td></tr></tbody></table><h4 id="description-502"><a href="#description-502" class="header-anchor">#</a> Description</h4><p>Which topic the device's upstream update message (update) needs to be published to.</p><h3 id="lwm2m-update-msg-publish-condition"><a href="#lwm2m-update-msg-publish-condition" class="header-anchor">#</a> lwm2m.update_msg_publish_condition</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>contains_object_list</code>, <code>always</code></td><td><code>contains_object_list</code></td></tr></tbody></table><h4 id="description-503"><a href="#description-503" class="header-anchor">#</a> Description</h4><p>When to publish the update message. Can be one of:</p><ul><li><p>contains_object_list: only if the update message contains object list</p></li><li><p>always: always publish the update message</p></li></ul><h3 id="lwm2m-opts-buffer"><a href="#lwm2m-opts-buffer" class="header-anchor">#</a> lwm2m.opts.buffer</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1024KB</code></td></tr></tbody></table><h4 id="description-504"><a href="#description-504" class="header-anchor">#</a> Description</h4><p>UDP tuning parameters, specify the UDP user mode cache size.</p><h3 id="lwm2m-opts-recbuf"><a href="#lwm2m-opts-recbuf" class="header-anchor">#</a> lwm2m.opts.recbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1024KB</code></td></tr></tbody></table><h4 id="description-505"><a href="#description-505" class="header-anchor">#</a> Description</h4><p>UDP tuning parameters, specify the UDP receiving buffer size.</p><h3 id="lwm2m-opts-sndbuf"><a href="#lwm2m-opts-sndbuf" class="header-anchor">#</a> lwm2m.opts.sndbuf</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1024KB</code></td></tr></tbody></table><h4 id="description-506"><a href="#description-506" class="header-anchor">#</a> Description</h4><p>UDP tuning parameters, specify the UDP sending buffer size.</p><h3 id="lwm2m-opts-read-packets"><a href="#lwm2m-opts-read-packets" class="header-anchor">#</a> lwm2m.opts.read_packets</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>20</td></tr></tbody></table><h4 id="description-507"><a href="#description-507" class="header-anchor">#</a> Description</h4><p>UDP tuning parameters, specify how many packets to read from UDP socket each time.</p><h3 id="lwm2m-certfile"><a href="#lwm2m-certfile" class="header-anchor">#</a> lwm2m.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-508"><a href="#description-508" class="header-anchor">#</a> Description</h4><p>Specify the certificate file used by UDP DTLS.</p><h3 id="lwm2m-keyfile"><a href="#lwm2m-keyfile" class="header-anchor">#</a> lwm2m.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-509"><a href="#description-509" class="header-anchor">#</a> Description</h4><p>Specify the private key file used by UDP DTLS.</p><h3 id="lwm2m-xml-dir"><a href="#lwm2m-xml-dir" class="header-anchor">#</a> lwm2m.xml_dir</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>dir</td><td><code>etc/lwm2m_xml</code></td></tr></tbody></table><h4 id="description-510"><a href="#description-510" class="header-anchor">#</a> Description</h4><p>Specify the directory where the LwM2M Object definition file is stored.</p><h2 id="plugin-emqx-management"><a href="#plugin-emqx-management" class="header-anchor">#</a> Plugin <code>emqx_management</code></h2><h3 id="management-max-row-limit"><a href="#management-max-row-limit" class="header-anchor">#</a> management.max_row_limit</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>10000</td></tr></tbody></table><h4 id="description-511"><a href="#description-511" class="header-anchor">#</a> Description</h4><p>Maximum number of records returned during paging query.</p><h3 id="management-default-application-id"><a href="#management-default-application-id" class="header-anchor">#</a> management.default_application.id</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>admin</code></td></tr></tbody></table><h4 id="description-512"><a href="#description-512" class="header-anchor">#</a> Description</h4><p>Default AppId.</p><h3 id="management-default-application-secret"><a href="#management-default-application-secret" class="header-anchor">#</a> management.default_application.secret</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>public</code></td></tr></tbody></table><h4 id="description-513"><a href="#description-513" class="header-anchor">#</a> Description</h4><p>Default AppSecret.</p><h3 id="management-listener-http"><a href="#management-listener-http" class="header-anchor">#</a> management.listener.http</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8081</td></tr><tr><td>string</td><td>0.0.0.0:8081</td></tr></tbody></table><h4 id="description-514"><a href="#description-514" class="header-anchor">#</a> Description</h4><p>The listening port of the HTTP listener.<br>Use the <code>ip:port</code> format to specify which network interface to listen to, default <code>0.0.0.0:8081</code> will listening on all network interfaces.</p><h3 id="management-listener-http-acceptors"><a href="#management-listener-http-acceptors" class="header-anchor">#</a> management.listener.http.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>2</td></tr></tbody></table><h4 id="description-515"><a href="#description-515" class="header-anchor">#</a> Description</h4><p>The number of listening processes this listener will create.</p><h3 id="management-listener-http-max-clients"><a href="#management-listener-http-max-clients" class="header-anchor">#</a> management.listener.http.max_clients</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-516"><a href="#description-516" class="header-anchor">#</a> Description</h4><p>The maximum number of connections allowed by this listener at the same time</p><h3 id="management-listener-http-backlog"><a href="#management-listener-http-backlog" class="header-anchor">#</a> management.listener.http.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-517"><a href="#description-517" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="management-listener-http-send-timeout"><a href="#management-listener-http-send-timeout" class="header-anchor">#</a> management.listener.http.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-518"><a href="#description-518" class="header-anchor">#</a> Description</h4><p>HTTP packet sending timeout.</p><h3 id="management-listener-http-send-timeout-close"><a href="#management-listener-http-send-timeout-close" class="header-anchor">#</a> management.listener.http.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-519"><a href="#description-519" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after the HTTP packet sending is timeout.</p><h3 id="management-listener-http-inet6"><a href="#management-listener-http-inet6" class="header-anchor">#</a> management.listener.http.inet6</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-520"><a href="#description-520" class="header-anchor">#</a> Description</h4><p>Whether to set the socket to allow IPv6 connections.</p><h3 id="management-listener-http-ipv6-v6only"><a href="#management-listener-http-ipv6-v6only" class="header-anchor">#</a> management.listener.http.ipv6_v6only</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-521"><a href="#description-521" class="header-anchor">#</a> Description</h4><p>Whether to restrict the socket that only IPv6 can be ued, and prohibit any IPv4 connections. Only applicable to IPv6 sockets, that is, the value of this configuration item has practical significance only when <code>dashboard.listener.http.inet6</code> is set to <code>true</code>. It should be noted that on some operating systems, such as Windows, the only allowed value for this configuration item is <code>true</code>.</p><h3 id="management-listener-https"><a href="#management-listener-https" class="header-anchor">#</a> management.listener.https</h3><table><thead><tr><th>Type</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>integer</td><td>-</td><td>8081</td></tr><tr><td>string</td><td>-</td><td>0.0.0.0:8081</td></tr></tbody></table><h4 id="description-522"><a href="#description-522" class="header-anchor">#</a> Description</h4><p>The listening port of the HTTPS listener.<br>Use the <code>ip:port</code> format to specify which network interface to listen to, default <code>0.0.0.0:8081</code> will listening on all network interfaces.</p><h3 id="management-listener-https-acceptors"><a href="#management-listener-https-acceptors" class="header-anchor">#</a> management.listener.https.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>2</td></tr></tbody></table><h4 id="description-523"><a href="#description-523" class="header-anchor">#</a> Description</h4><p>The number of listening processes this listener will create.</p><h3 id="management-listener-https-max-clients"><a href="#management-listener-https-max-clients" class="header-anchor">#</a> management.listener.https.max_clients</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-524"><a href="#description-524" class="header-anchor">#</a> Description</h4><p>The maximum number of connections allowed by this listener at the same time.</p><h3 id="management-listener-https-backlog"><a href="#management-listener-https-backlog" class="header-anchor">#</a> management.listener.https.backlog</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-525"><a href="#description-525" class="header-anchor">#</a> Description</h4><p>The maximum length of the TCP connection queue. It indicates the maximum number of TCP connection queues that are allowed in the system to undergo three-time handshake.</p><h3 id="management-listener-https-send-timeout"><a href="#management-listener-https-send-timeout" class="header-anchor">#</a> management.listener.https.send_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-526"><a href="#description-526" class="header-anchor">#</a> Description</h4><p>Timeout for sending HTTPS packets.</p><h3 id="management-listener-https-send-timeout-close"><a href="#management-listener-https-send-timeout-close" class="header-anchor">#</a> management.listener.https.send_timeout_close</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-527"><a href="#description-527" class="header-anchor">#</a> Description</h4><p>Whether to close the connection after the HTTPS packet sending is timeout.</p><h3 id="management-listener-https-keyfile"><a href="#management-listener-https-keyfile" class="header-anchor">#</a> management.listener.https.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-528"><a href="#description-528" class="header-anchor">#</a> Description</h4><p>File path to server's private key.</p><h3 id="management-listener-https-certfile"><a href="#management-listener-https-certfile" class="header-anchor">#</a> management.listener.https.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-529"><a href="#description-529" class="header-anchor">#</a> Description</h4><p>File path to server's certificate.</p><h3 id="management-listener-https-cacertfile"><a href="#management-listener-https-cacertfile" class="header-anchor">#</a> management.listener.https.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-530"><a href="#description-530" class="header-anchor">#</a> Description</h4><p>File path to the CA certificates. It should include all intermediate CA certificates and root CA certificate of the server certificate. It should also include trusted CAs to validate client certificates when <code>verify</code> configuration is set to <code>verify_peer</code>.</p><h3 id="management-listener-https-verify"><a href="#management-listener-https-verify" class="header-anchor">#</a> management.listener.https.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td><code>verify_peer</code></td></tr></tbody></table><h4 id="description-531"><a href="#description-531" class="header-anchor">#</a> Description</h4><p><code>verify_none</code> means to disable peer certificate verification, and the server will not send a certificate request to the client. <code>verify_peer</code> means to enable peer certificate verification, and the server will send a certificate request to the client. When this configuration item is set to <code>verify_peer</code>, it usually need to be used together with <code>dashboard.listener.https.fail_if_no_peer_cert</code> to specify whether to force the client to provide a certificate.</p><h3 id="management-listener-https-fail-if-no-peer-cert"><a href="#management-listener-https-fail-if-no-peer-cert" class="header-anchor">#</a> management.listener.https.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ture</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-532"><a href="#description-532" class="header-anchor">#</a> Description</h4><p>It should be used together with <code>management.listener.https.verify</code>. If set to <code>true</code>, the server will fail the handshake if the client does not provide a certificate when requesting a certificate from the client. If set to <code>false</code>, the handshake can be successful even if the terminal does not provide a certificate.</p><h3 id="management-listener-https-inet6"><a href="#management-listener-https-inet6" class="header-anchor">#</a> management.listener.https.inet6</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-533"><a href="#description-533" class="header-anchor">#</a> Description</h4><p>Whether to set the socket to allow IPv6 connections.</p><h3 id="management-listener-https-ipv6-v6only"><a href="#management-listener-https-ipv6-v6only" class="header-anchor">#</a> management.listener.https.ipv6_v6only</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-534"><a href="#description-534" class="header-anchor">#</a> Description</h4><p>Whether to restrict the socket that only IPv6 can be ued, and prohibit any IPv4 connections. Only applicable to IPv6 sockets, that is, the value of this configuration item has practical significance only when <code>dashboard.listener.http.inet6</code> is set to <code>true</code>. It should be noted that on some operating systems, such as Windows, the only allowed value for this configuration item is <code>true</code>.</p><h2 id="plugin-emqx-retainer"><a href="#plugin-emqx-retainer" class="header-anchor">#</a> Plugin <code>emqx_retainer</code></h2><h3 id="retainer-storage-type"><a href="#retainer-storage-type" class="header-anchor">#</a> retainer.storage_type</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>ram</code>, <code>disc</code>, <code>disc_only</code></td><td><code>ram</code></td></tr></tbody></table><h4 id="description-535"><a href="#description-535" class="header-anchor">#</a> Description</h4><p>Storage type of the message, the following options are available:</p><p><code>ram</code></p><p>Retained messages are only stored in memory.</p><p><code>disc</code></p><p>Retained messages are stored in both memory and disk.</p><p><code>disc_only</code></p><p>Retained messages are only stored on disk.</p><h3 id="retainer-max-retained-messages"><a href="#retainer-max-retained-messages" class="header-anchor">#</a> retainer.max_retained_messages</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>0</td></tr></tbody></table><h4 id="description-536"><a href="#description-536" class="header-anchor">#</a> Description</h4><p>Limit of retained messages. Once the number of stored messages reaches the limit, you can replace existing retained messages, but you cannot store retained messages for new topics. 0 means no limit.</p><h3 id="retainer-max-payload-size"><a href="#retainer-max-payload-size" class="header-anchor">#</a> retainer.max_payload_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>bytesize</td><td><code>1MB</code></td></tr></tbody></table><h4 id="description-537"><a href="#description-537" class="header-anchor">#</a> Description</h4><p>The maximum length of Payload allowed to store retained messages. If the Payload exceeds the maximum limit, the retained message can be processed normally, but it will not be stored on the server.</p><h3 id="retainer-expiry-interval"><a href="#retainer-expiry-interval" class="header-anchor">#</a> retainer.expiry_interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>0</code></td></tr></tbody></table><h4 id="description-538"><a href="#description-538" class="header-anchor">#</a> Description</h4><p>The expiration interval of retained messages which is only valid for clients with protocol versions lower than MQTT v5.0. The expiration interval of retained messages for MQTT v5.0 clients will be based on the value of <code>Message Expiry Interval</code>. 0 means never expire.</p><h2 id="plugin-emqx-rule-engine"><a href="#plugin-emqx-rule-engine" class="header-anchor">#</a> Plugin <code>emqx_rule_engine</code></h2><h3 id="rule-engine-ignore-sys-message"><a href="#rule-engine-ignore-sys-message" class="header-anchor">#</a> rule_engine.ignore_sys_message</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-539"><a href="#description-539" class="header-anchor">#</a> Description</h4><p>Ignore system messages ($SYS). The rule engine will not process system messages if this option is enabled.</p><h3 id="rule-engine-events-event-name"><a href="#rule-engine-events-event-name" class="header-anchor">#</a> rule_engine.events.&lt;event-name&gt;</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-540"><a href="#description-540" class="header-anchor">#</a> Description</h4><p>Set whether to publish event messages. You can specify the QoS of event messages, for example:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>rule_engine.events.client_connected = on, qos1

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>If this option is enabled, the rules engine will publish system messages using the topic of <code>$events/&lt;event-name&gt;</code>. Supported <code>&lt;event-name&gt;</code> are:</p><ul><li>client_connected</li><li>client_disconnected</li><li>session_subscribed</li><li>session_unsubscribed</li><li>message_delivered</li><li>message_acked</li><li>message_dropped</li></ul><p>If this option is disabled, event messages will not be published, but event rules can still be used. For example, even if <code>rule_engine.events.client_connected = off</code>, the following rules can still be used:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT * FROM &quot;$events/client_connected&quot;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="plugin-emqx-sn"><a href="#plugin-emqx-sn" class="header-anchor">#</a> Plugin <code>emqx_sn</code></h2><h3 id="mqtt-sn-port"><a href="#mqtt-sn-port" class="header-anchor">#</a> mqtt.sn.port</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>1884</code></td></tr></tbody></table><h4 id="description-541"><a href="#description-541" class="header-anchor">#</a> Description</h4><p>The UDP port that <code>emqx_sn</code> listens on.</p><h3 id="mqtt-sn-advertise-duration"><a href="#mqtt-sn-advertise-duration" class="header-anchor">#</a> mqtt.sn.advertise_duration</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-542"><a href="#description-542" class="header-anchor">#</a> Description</h4><p>ADVERTISE message broadcast interval, unit: second.</p><h3 id="mqtt-sn-gateway-id"><a href="#mqtt-sn-gateway-id" class="header-anchor">#</a> mqtt.sn.gateway_id</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1</td></tr></tbody></table><h4 id="description-543"><a href="#description-543" class="header-anchor">#</a> Description</h4><p>MQTT-SN gateway ID in ADVERTISE.</p><h3 id="mqtt-sn-enable-stats"><a href="#mqtt-sn-enable-stats" class="header-anchor">#</a> mqtt.sn.enable_stats</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-544"><a href="#description-544" class="header-anchor">#</a> Description</h4><p>Whether to enable client status statistics.</p><h3 id="mqtt-sn-enable-qos3"><a href="#mqtt-sn-enable-qos3" class="header-anchor">#</a> mqtt.sn.enable_qos3</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-545"><a href="#description-545" class="header-anchor">#</a> Description</h4><p>Whether to process messages with QoS of -1.</p><h3 id="mqtt-sn-idle-timeout"><a href="#mqtt-sn-idle-timeout" class="header-anchor">#</a> mqtt.sn.idle_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>30s</code></td></tr></tbody></table><h4 id="description-546"><a href="#description-546" class="header-anchor">#</a> Description</h4><p>The idle time after the establishment, if no message is received within this time, the connection will be closed.</p><h3 id="mqtt-sn-predefined-topic-0"><a href="#mqtt-sn-predefined-topic-0" class="header-anchor">#</a> mqtt.sn.predefined.topic.0</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>reserved</code></td></tr></tbody></table><h4 id="description-547"><a href="#description-547" class="header-anchor">#</a> Description</h4><p>The predefined mapping of Topic and TopicId. Topics with an Id of 0 are reserved and fixed to <code>reserved</code>. For example, the Id of the predefined topic <code>foo / bar</code> is <code>1</code>:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>mqtt.sn.predefined.topic.1 = foo/bar
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="mqtt-sn-username"><a href="#mqtt-sn-username" class="header-anchor">#</a> mqtt.sn.username</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>mqtt_sn_user</code></td></tr></tbody></table><h4 id="description-548"><a href="#description-548" class="header-anchor">#</a> Description</h4><p><code>emqx_sn</code> username to connect to EMQX Broker.</p><h3 id="mqtt-sn-password"><a href="#mqtt-sn-password" class="header-anchor">#</a> mqtt.sn.password</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>abc</code></td></tr></tbody></table><h4 id="description-549"><a href="#description-549" class="header-anchor">#</a> Description</h4><p><code>emqx_sn</code> password to connect to EMQX Broker.</p><h2 id="plugin-emqx-statsd"><a href="#plugin-emqx-statsd" class="header-anchor">#</a> Plugin <code>emqx_statsd</code></h2><h3 id="statsd-push-gateway-server"><a href="#statsd-push-gateway-server" class="header-anchor">#</a> statsd.push.gateway.server</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>http://127.0.0.1:9091</code></td></tr></tbody></table><h4 id="description-550"><a href="#description-550" class="header-anchor">#</a> Description</h4><p>Specify the URI of the Statsd gateway.</p><h3 id="statsd-interval"><a href="#statsd-interval" class="header-anchor">#</a> statsd.interval</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>15000</td></tr></tbody></table><h4 id="description-551"><a href="#description-551" class="header-anchor">#</a> Description</h4><p>Specify the collection interval of Statsd data in milliseconds.</p><h3 id="prometheus-collector-n"><a href="#prometheus-collector-n" class="header-anchor">#</a> prometheus.collector.&lt;N&gt;</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>emqx_statsd</code></td></tr></tbody></table><h4 id="description-552"><a href="#description-552" class="header-anchor">#</a> Description</h4><p>Specify Prometheus Collector.</p><h2 id="plugin-emqx-stomp"><a href="#plugin-emqx-stomp" class="header-anchor">#</a> Plugin <code>emqx_stomp</code></h2><h3 id="stomp-listener"><a href="#stomp-listener" class="header-anchor">#</a> stomp.listener</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>61613</td></tr></tbody></table><h4 id="description-553"><a href="#description-553" class="header-anchor">#</a> Description</h4><p>Specify the local port where the Stomp plugin listens.</p><h3 id="stomp-listener-acceptors"><a href="#stomp-listener-acceptors" class="header-anchor">#</a> stomp.listener.acceptors</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>4</td></tr></tbody></table><h4 id="description-554"><a href="#description-554" class="header-anchor">#</a> Description</h4><p>Specify the size of the thread pool for Stomp service Acceptor</p><h3 id="stomp-listener-max-connections"><a href="#stomp-listener-max-connections" class="header-anchor">#</a> stomp.listener.max_connections</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>512</td></tr></tbody></table><h4 id="description-555"><a href="#description-555" class="header-anchor">#</a> Description</h4><p>Specify the maximum number of connections supported by the Stomp service.</p><h3 id="stomp-listener-ssl"><a href="#stomp-listener-ssl" class="header-anchor">#</a> stomp.listener.ssl</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-556"><a href="#description-556" class="header-anchor">#</a> Description</h4><p>Specify whether to use SSL.</p><h3 id="stomp-listener-keyfile"><a href="#stomp-listener-keyfile" class="header-anchor">#</a> stomp.listener.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/key.pem</code></td></tr></tbody></table><h4 id="description-557"><a href="#description-557" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the SSL private key file.</p><h3 id="stomp-listener-certfile"><a href="#stomp-listener-certfile" class="header-anchor">#</a> stomp.listener.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cert.pem</code></td></tr></tbody></table><h4 id="description-558"><a href="#description-558" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the SSL certificate file.</p><h3 id="stomp-listener-cacertfile"><a href="#stomp-listener-cacertfile" class="header-anchor">#</a> stomp.listener.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/cacert.pem</code></td></tr></tbody></table><h4 id="description-559"><a href="#description-559" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the CA certificate file for SSL.</p><h3 id="stomp-listener-dhfile"><a href="#stomp-listener-dhfile" class="header-anchor">#</a> stomp.listener.dhfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table><h4 id="description-560"><a href="#description-560" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the key file used by the Ephemeral Diffie-Hellman algorithm.</p><h3 id="stomp-listener-verify"><a href="#stomp-listener-verify" class="header-anchor">#</a> stomp.listener.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>verify_peer</code>, <code>verify_none</code></td><td><code>verify_peer</code></td></tr></tbody></table><h4 id="description-561"><a href="#description-561" class="header-anchor">#</a> Description</h4><p>If using SSL, specify whether to verify the client during the handshake.</p><h3 id="stomp-listener-fail-if-no-peer-cert"><a href="#stomp-listener-fail-if-no-peer-cert" class="header-anchor">#</a> stomp.listener.fail_if_no_peer_cert</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-562"><a href="#description-562" class="header-anchor">#</a> Description</h4><p>Specify whether the handshake fail if SSL is used, and the client does not have a certificate during the SSL handshake.</p><h3 id="stomp-listener-tls-versions"><a href="#stomp-listener-tls-versions" class="header-anchor">#</a> stomp.listener.tls_versions</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table><h4 id="description-563"><a href="#description-563" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the list of SSL versions supported by the server.</p><h3 id="stomp-listener-handshake-timeout"><a href="#stomp-listener-handshake-timeout" class="header-anchor">#</a> stomp.listener.handshake_timeout</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>duration</td><td><code>15s</code></td></tr></tbody></table><h4 id="description-564"><a href="#description-564" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the timeout period for the SSL handshake process.</p><h3 id="stomp-listener-ciphers"><a href="#stomp-listener-ciphers" class="header-anchor">#</a> stomp.listener.ciphers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table><h4 id="description-565"><a href="#description-565" class="header-anchor">#</a> Description</h4><p>If using SSL, specify the Cipher list supported by the server</p><h3 id="stomp-listener-secure-renegotiate"><a href="#stomp-listener-secure-renegotiate" class="header-anchor">#</a> stomp.listener.secure_renegotiate</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>off</code></td></tr></tbody></table><h4 id="description-566"><a href="#description-566" class="header-anchor">#</a> Description</h4><p>If using SSL, specify whether to reject the renegotiation request if the client does not follow RFC 5746.</p><h3 id="stomp-listener-reuse-sessions"><a href="#stomp-listener-reuse-sessions" class="header-anchor">#</a> stomp.listener.reuse_sessions</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-567"><a href="#description-567" class="header-anchor">#</a> Description</h4><p>If using SSL, specify whether to support SSL session reuse.</p><h3 id="stomp-listener-honor-cipher-order"><a href="#stomp-listener-honor-cipher-order" class="header-anchor">#</a> stomp.listener.honor_cipher_order</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>on</code>, <code>off</code></td><td><code>on</code></td></tr></tbody></table><h4 id="description-568"><a href="#description-568" class="header-anchor">#</a> Description</h4><p>If using SSL, specify whether to use the server's preferences to select Ciphers.</p><h3 id="stomp-default-user-login"><a href="#stomp-default-user-login" class="header-anchor">#</a> stomp.default_user.login</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>guest</code></td></tr></tbody></table><h4 id="description-569"><a href="#description-569" class="header-anchor">#</a> Description</h4><p>Specify the Username used by the Stomp plugin to log in.</p><h3 id="stomp-default-user-passcode"><a href="#stomp-default-user-passcode" class="header-anchor">#</a> stomp.default_user.passcode</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>guest</code></td></tr></tbody></table><h4 id="description-570"><a href="#description-570" class="header-anchor">#</a> Description</h4><p>Specify the password used for Stomp plugin login.</p><h3 id="stomp-allow-anonymous"><a href="#stomp-allow-anonymous" class="header-anchor">#</a> stomp.allow_anonymous</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>true</code></td></tr></tbody></table><h4 id="description-571"><a href="#description-571" class="header-anchor">#</a> Description</h4><p>Whether to allow anonymous login.</p><h3 id="stomp-frame-max-headers"><a href="#stomp-frame-max-headers" class="header-anchor">#</a> stomp.frame.max_headers</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>10</td></tr></tbody></table><h4 id="description-572"><a href="#description-572" class="header-anchor">#</a> Description</h4><p>Specify the maximum number of Stomp headers</p><h3 id="stomp-frame-max-header-length"><a href="#stomp-frame-max-header-length" class="header-anchor">#</a> stomp.frame.max_header_length</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>1024</td></tr></tbody></table><h4 id="description-573"><a href="#description-573" class="header-anchor">#</a> Description</h4><p>Specify the maximum Stomp header length</p><h3 id="stomp-frame-max-body-length"><a href="#stomp-frame-max-body-length" class="header-anchor">#</a> stomp.frame.max_body_length</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>8192</td></tr></tbody></table><h4 id="description-574"><a href="#description-574" class="header-anchor">#</a> Description</h4><p>Specify Stomp maximum message body length.</p><h2 id="plugin-emqx-web-hook"><a href="#plugin-emqx-web-hook" class="header-anchor">#</a> Plugin <code>emqx_web_hook</code></h2><h3 id="web-hook-url"><a href="#web-hook-url" class="header-anchor">#</a> web.hook.url</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>http://127.0.0.1:80</td></tr></tbody></table><h4 id="description-575"><a href="#description-575" class="header-anchor">#</a> Description</h4><p>The web server address to which the webhook request is forwarded.</p><br><h3 id="web-hook-headers-any"><a href="#web-hook-headers-any" class="header-anchor">#</a> web.hook.headers.&lt;Any&gt;</h3><h4 id="example-15"><a href="#example-15" class="header-anchor">#</a> Example</h4><div class="language- line-numbers-mode"><pre class="language-text"><code>web.hook.headers.content-type = application/json
web.hook.headers.accept = */*
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="description-576"><a href="#description-576" class="header-anchor">#</a> Description</h4><p>Specify the data in the HTTP request header. <code>&lt;Key&gt;</code> Specify the field name in the HTTP request header, and the value of this configuration item is the corresponding field value. <code>&lt;Key&gt;</code> can be the standard HTTP request header field. User can also customize the field to configure multiple different request header fields.</p><br><h3 id="web-hook-encoding-of-payload-field"><a href="#web-hook-encoding-of-payload-field" class="header-anchor">#</a> web.hook.encoding_of_payload_field</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>plain</code>, <code>base62</code>, <code>base64</code></td><td>-</td></tr></tbody></table><h4 id="description-577"><a href="#description-577" class="header-anchor">#</a> Description</h4><p>The encoding format of the Payload field in the PUBLISH packet.</p><br><h3 id="web-hook-ssl-cacertfile"><a href="#web-hook-ssl-cacertfile" class="header-anchor">#</a> web.hook.ssl.cacertfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-578"><a href="#description-578" class="header-anchor">#</a> Description</h4><p>CA certificate file path.</p><br><h3 id="web-hook-ssl-certfile"><a href="#web-hook-ssl-certfile" class="header-anchor">#</a> web.hook.ssl.certfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-579"><a href="#description-579" class="header-anchor">#</a> Description</h4><p>Client certificate file path.</p><br><h3 id="web-hook-ssl-keyfile"><a href="#web-hook-ssl-keyfile" class="header-anchor">#</a> web.hook.ssl.keyfile</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td>-</td></tr></tbody></table><h4 id="description-580"><a href="#description-580" class="header-anchor">#</a> Description</h4><p>Client private key file path.</p><br><h3 id="web-hook-ssl-verify"><a href="#web-hook-ssl-verify" class="header-anchor">#</a> web.hook.ssl.verify</h3><table><thead><tr><th>Type</th><th>Optional Value</th><th>Default</th></tr></thead><tbody><tr><td>enum</td><td><code>true</code>, <code>false</code></td><td><code>false</code></td></tr></tbody></table><h4 id="description-581"><a href="#description-581" class="header-anchor">#</a> Description</h4><p>Specify whether to verify the peer certificate.</p><br><h3 id="web-hook-ssl-pool-size"><a href="#web-hook-ssl-pool-size" class="header-anchor">#</a> web.hook.ssl.pool_size</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>integer</td><td>32</td></tr></tbody></table><h4 id="description-582"><a href="#description-582" class="header-anchor">#</a> Description</h4><p>HTTP connection process pool size.</p><br><h3 id="web-hook-rule-client-connect-1"><a href="#web-hook-rule-client-connect-1" class="header-anchor">#</a> web.hook.rule.client.connect.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_client_connect&quot;}</code></td></tr></tbody></table><h4 id="description-583"><a href="#description-583" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_connect</code> event.</p><br><h3 id="web-hook-rule-client-connack-1"><a href="#web-hook-rule-client-connack-1" class="header-anchor">#</a> web.hook.rule.client.connack.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_client_connack&quot;}</code></td></tr></tbody></table><h4 id="description-584"><a href="#description-584" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_connack</code> event.</p><br><h3 id="web-hook-rule-client-connected-1"><a href="#web-hook-rule-client-connected-1" class="header-anchor">#</a> web.hook.rule.client.connected.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_client_connected&quot;}</code></td></tr></tbody></table><h4 id="description-585"><a href="#description-585" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_connected</code> event.</p><br><h3 id="web-hook-rule-client-disconnected-1"><a href="#web-hook-rule-client-disconnected-1" class="header-anchor">#</a> web.hook.rule.client.disconnected.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_client_disconnected&quot;}</code></td></tr></tbody></table><h4 id="description-586"><a href="#description-586" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_disconnected</code> event.</p><br><h3 id="web-hook-rule-client-subscribe-1"><a href="#web-hook-rule-client-subscribe-1" class="header-anchor">#</a> web.hook.rule.client.subscribe.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_client_subscribe&quot;}</code></td></tr></tbody></table><h4 id="description-587"><a href="#description-587" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_subscribe</code> event.</p><br><h3 id="web-hook-rule-client-unsubscribe-1"><a href="#web-hook-rule-client-unsubscribe-1" class="header-anchor">#</a> web.hook.rule.client.unsubscribe.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_client_unsubscribe&quot;}</code></td></tr></tbody></table><h4 id="description-588"><a href="#description-588" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_unsubscribe</code> event.</p><br><h3 id="web-hook-rule-session-subscribed-1"><a href="#web-hook-rule-session-subscribed-1" class="header-anchor">#</a> web.hook.rule.session.subscribed.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_session_subscribed&quot;}</code></td></tr></tbody></table><h4 id="description-589"><a href="#description-589" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_subscribe</code> event.</p><br><h3 id="web-hook-rule-session-unsubscribed-1"><a href="#web-hook-rule-session-unsubscribed-1" class="header-anchor">#</a> web.hook.rule.session.unsubscribed.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_session_unsubscribed&quot;}</code></td></tr></tbody></table><h4 id="description-590"><a href="#description-590" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_session_unsubscribe</code> event.</p><br><h3 id="web-hook-rule-session-terminated-1"><a href="#web-hook-rule-session-terminated-1" class="header-anchor">#</a> web.hook.rule.session.terminated.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_session_terminated&quot;}</code></td></tr></tbody></table><h4 id="description-591"><a href="#description-591" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_session_terminated</code> event.</p><br><h3 id="web-hook-rule-message-publish-1"><a href="#web-hook-rule-message-publish-1" class="header-anchor">#</a> web.hook.rule.message.publish.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_message_publish&quot;}</code></td></tr></tbody></table><h4 id="description-592"><a href="#description-592" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_client_publish</code> event.</p><br><h3 id="web-hook-rule-message-delivered-1"><a href="#web-hook-rule-message-delivered-1" class="header-anchor">#</a> web.hook.rule.message.delivered.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_message_delivered&quot;}</code></td></tr></tbody></table><h4 id="description-593"><a href="#description-593" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_message_delivered</code> event.</p><br><h3 id="web-hook-rule-message-acked-1"><a href="#web-hook-rule-message-acked-1" class="header-anchor">#</a> web.hook.rule.message.acked.1</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>{&quot;action&quot;: &quot;on_message_acked&quot;}</code></td></tr></tbody></table><h4 id="description-594"><a href="#description-594" class="header-anchor">#</a> Description</h4><p>Forward the <code>on_message_acked</code> event.</p><h3 id="license-file"><a href="#license-file" class="header-anchor">#</a> license.file</h3><table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>string</td><td><code>etc/emqx.lic</code></td></tr></tbody></table><h4 id="description-595"><a href="#description-595" class="header-anchor">#</a> Description</h4><p>Licence file of the node.</p><br>### license.connection_high_watermark_alarm<table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td>80%</td></tr></tbody></table><h4 id="description-596"><a href="#description-596" class="header-anchor">#</a> Description</h4><p>The alarm is raised when this threshld is reached. As percentage of alive connections/max connections.</p><ul><li>After the alarm occurs, you can refer to [How to update the license?] (../faq/use-guide.md#how-to-update-emq-x-license) for hot update.</li><li>When the number of connections exceeds the maximum allowed value, new client connections will be rejected, and already connected clients will not be affected.</li></ul><br>### license.connection_low_watermark_alarm<table><thead><tr><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>percent</td><td>75%</td></tr></tbody></table><h4 id="description-597"><a href="#description-597" class="header-anchor">#</a> Description</h4><p>The alarm is cleared when it goes below this threshld. As percentage of alive connections/max connections.</p><br></div><div class="page-nav reset-width"><p class="inner"><span class="prev">← <a href="/en/enterprise/latest/advanced/http-api.html" class="prev">HTTP API </a></span><span class="next"><a href="/en/enterprise/latest/advanced/cli.html">CLI </a>→</span></p></div></main></div><div class="right-column"><section class="doc-toc"><div class="title">What’s on this page</div><div class="toc-content"><ul><li><a href="/en/enterprise/latest/configuration/configuration.html#cluster">Cluster</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#authacl">authacl</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#broker-perf-route-lock-type-key">broker.perf.routelocktype = key</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#broker-perf-trie-compaction-true">broker.perf.trie_compaction = true</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#monitor">monitor</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-http">Plugin emqx_auth_http</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-jwt">Plugin emqx_auth_jwt</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-ldap">Plugin emqx_auth_ldap</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-mongo">Plugin emqx_auth_mongo</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-mysql">Plugin emqx_auth_mysql</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-pgsql">Plugin emqx_auth_pgsql</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-auth-redis">Plugin emqx_auth_redis</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-bridge-mqtt">Plugin emqx_bridge_mqtt</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-coap">Plugin emqx_coap</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-dashboard">Plugin emqx_dashboard</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-lwm2m">Plugin emqx_lwm2m</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-management">Plugin emqx_management</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-retainer">Plugin emqx_retainer</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-rule-engine">Plugin emqx_rule_engine</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-sn">Plugin emqx_sn</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-statsd">Plugin emqx_statsd</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-stomp">Plugin emqx_stomp</a></li><li><a href="/en/enterprise/latest/configuration/configuration.html#plugin-emqx-web-hook">Plugin emqx_web_hook</a></li></ul></div></section></div></div><footer class="main-footer-box has-text-centered-mobile"><div class="container"><div class="columns is-vcentered"><div class="column is-5"><h2 class="m-0 p-0 is-size-3">Subscribe to Our Newsletters</h2></div><div id="form-mail" class="column is-6 is-offset-1 form-mail"><div class="is-flex"><input id="inputEmail" type="email" required="required" name="inputEmail" placeholder="Email" value="" class="form-control mr-4"> <button class="button is-gradient px-5 m-0">Subscribe →</button><p class="sub-tips m-0"></p></div></div></div><hr><div class="columns"><div class="column is-flex-grow-3 is-flex-shrink-0"><div class="is-flex is-flex-direction-column is-justify-content-space-between" style="height:100%"><div class="mb-5"><a href="https://www.emqx.com/en" target="_blank" rel="noopener"><img src="/docs-assets/img/logo.2f824ccf.png" alt="EMQ LOGO" class="logo"></a></div><div><div class="follow-us"><a href="https://github.com/emqx/emqx" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-github"></use></svg></a><a href="https://twitter.com/EMQTech" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-twitter"></use></svg></a><a href="https://www.youtube.com/channel/UC5FjR77ErAxvZENEWzQaO5Q" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-youtube"></use></svg></a><a href="https://www.linkedin.com/company/emqtech" target="_blank" rel="noopener noreferrer nofollow"><svg aria-hidden="true" class="icon"><use xlink:href="#icon-linkedin"></use></svg></a></div></div></div></div><ul class="column is-narrow m-0 is-flex-grow-1"><li><h5 class="mt-0 mb-3">Learn</h5></li><li><a href="https://www.emqx.com/en/blog" target="_blank" rel="noopener">Blog</a></li><li><a href="https://www.emqx.com/en/events" target="_blank" rel="noopener">Events</a></li><li><a href="https://www.emqx.com/en/community" target="_blank" rel="noopener">Community</a></li><li><a href="https://www.emqx.com/en/resources" target="_blank" rel="noopener">Resources</a></li></ul><ul class="column is-narrow m-0 is-flex-grow-1"><li><h5 class="mt-0 mb-3">MQTT</h5></li><li><a href="https://www.emqx.com/en/mqtt" target="_blank" rel="noopener">MQTT</a></li><li><a href="https://www.emqx.com/en/mqtt/mqtt5" target="_blank" rel="noopener">MQTT 5</a></li><li><a href="https://www.emqx.com/en/products/mqttx" target="_blank" rel="noopener">MQTT X</a></li><li><a href="https://www.emqx.com/en/mqtt/public-mqtt5-broker" target="_blank" rel="noopener">Public MQTT 5 Broker</a></li><li><a href="https://www.emqx.com/en/mqtt/mqtt-websocket-toolkit" target="_blank" rel="noopener">MQTT Websocket Toolkit</a></li></ul></div><div class="record-information columns is-gapless is-vcentered is-centered"><div class="column is-narrow"><p class="m-0">© 2022 <a href="https://www.emqx.com/en">EMQ </a>Technologies Inc. All rights reserved</p></div></div></div></footer></section><div id="page-feedback" data-v-5905af3e><div class="feedback-button is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-useful" data-v-5905af3e></use></svg></div><div class="feedback-form" style="display:none" data-v-5905af3e data-v-5905af3e><div class="feedback-header pl-4 is-flex is-align-items-center is-justify-content-space-between" data-v-5905af3e>Was this page useful?<div class="icon-close p-4" style="cursor:pointer" data-v-5905af3e>x</div></div><div class="feedback-body p-4" data-v-5905af3e><div class="is-flex" data-v-5905af3e data-v-67fd37ab data-v-5905af3e><div class="feedback-button like mr-5 is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-useful" data-v-5905af3e></use></svg></div><div class="feedback-button dislike is-flex is-align-items-center is-justify-content-center" data-v-5905af3e><svg aria-hidden="true" class="icon" data-v-5905af3e><use xlink:href="#icon-a-notuseful" data-v-5905af3e></use></svg></div></div></div></div></div></div><div class="global-ui"></div></div><script src="/docs-assets/js/app.b7cd69d3.js" defer="defer"></script><script src="/docs-assets/js/3.c47ef470.js" defer="defer"></script><script src="/docs-assets/js/265.9b5495c2.js" defer="defer"></script></body></html>