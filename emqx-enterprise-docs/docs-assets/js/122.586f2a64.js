(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{1589:function(e,s,t){"use strict";t.r(s);var a=t(10),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"pskfile-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pskfile-authentication"}},[e._v("#")]),e._v(" PSKFile Authentication")]),e._v(" "),a("h2",{attrs:{id:"psk-certification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#psk-certification"}},[e._v("#")]),e._v(" PSK certification")]),e._v(" "),a("p",[e._v("If you want to use PSKFile authentication, you need to comment out "),a("code",[e._v("listener.ssl.external.ciphers")]),e._v(" in "),a("code",[e._v("emqx.conf")]),e._v(", and then configure "),a("code",[e._v("listener.ssl.external.psk_ciphers")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#listener.ssl.external.ciphers = ECDHE-ECDSA-AES256-GCM-SHA384,...")]),e._v("\nlistener.ssl.external.psk_ciphers "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA\n\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("But the PSK Ciphers is not supported by "),a("code",[e._v("tlsv1.3")]),e._v(", we should set the "),a("code",[e._v("tls_version")]),e._v(" as:")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("listener.ssl.external.tls_versions "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" tlsv1.2,tlsv1.1,tlsv1\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"create-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-module"}},[e._v("#")]),e._v(" Create module")]),e._v(" "),a("p",[e._v("Open "),a("a",{attrs:{href:"http://127.0.0.1:18083/#/modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("EMQX Dashboard"),a("OutboundLink")],1),e._v(', click the "Modules" tab on the left, and choose to add:')]),e._v(" "),a("p",[a("img",{attrs:{src:t(391),alt:"image-20200927213049265"}})]),e._v(" "),a("p",[e._v("Choose PSK certification")]),e._v(" "),a("p",[a("img",{attrs:{src:t(622),alt:"image-20200927213049265"}})]),e._v(" "),a("p",[e._v("Configure related parameters")]),e._v(" "),a("p",[a("img",{attrs:{src:t(623),alt:"image-20200927213049265"}})]),e._v(" "),a("p",[e._v("After clicking add, the module is added")]),e._v(" "),a("p",[a("img",{attrs:{src:t(624),alt:"image-20200927213049265"}})]),e._v(" "),a("p",[e._v("The PSK configuration file is "),a("code",[e._v("psk.txt")]),e._v(", use a colon "),a("code",[e._v(":")]),e._v(" to separate PSK ID and PSK:")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("client1:1234\nclient2:abcd\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports},391:function(e,s,t){e.exports=t.p+"docs-assets/img/modules.1814040c.png"},622:function(e,s,t){e.exports=t.p+"docs-assets/img/auth_psk1.fea6cb21.png"},623:function(e,s,t){e.exports=t.p+"docs-assets/img/auth_psk2.a9157651.png"},624:function(e,s,t){e.exports=t.p+"docs-assets/img/auth_psk3.ba556cfc.png"}}]);