(window.webpackJsonp=window.webpackJsonp||[]).push([[386],{1837:function(t,s,e){"use strict";e.r(s);var a=e(10),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"规则引擎-sql-语句中可用的字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规则引擎-sql-语句中可用的字段"}},[t._v("#")]),t._v(" 规则引擎 SQL 语句中可用的字段")]),t._v(" "),e("p",[t._v("SELECT 和 WHERE 子句可用的字段与事件的类型相关。其中 "),e("code",[t._v("clientid")]),t._v(", "),e("code",[t._v("username")]),t._v(" 和 "),e("code",[t._v("event")]),t._v(" 是通用字段，每种事件类型都有。")]),t._v(" "),e("h2",{attrs:{id:"使用规则引擎-sql-语句处理消息发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用规则引擎-sql-语句处理消息发布"}},[t._v("#")]),t._v(" 使用规则引擎 SQL 语句处理消息发布")]),t._v(" "),e("p",[t._v("规则引擎的 SQL 语句可以处理消息发布。 在一个规则语句中，用户可以用 FROM 子句指定一个或者多个主题，当任何消息发布到指定的主题时都会触发该规则。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息 ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("payload")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息体")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("flags")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 Flags")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("headers")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息内部与流程处理相关的额外数据")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("publish_received_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH 消息到达 Broker 的时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/#"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"msg\\":\\"hello\\"}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h2",{attrs:{id:"使用规则引擎-sql-语句处理事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用规则引擎-sql-语句处理事件"}},[t._v("#")]),t._v(" 使用规则引擎 SQL 语句处理事件")]),t._v(" "),e("p",[t._v("规则引擎的 SQL 语句既可以处理消息(消息发布)，也可以处理事件(客户端上下线、客户端订阅等)。对于消息，FROM 子句后面直接跟主题名；对于事件，FROM 子句后面跟事件主题。")]),t._v(" "),e("p",[t._v("事件消息的主题以 "),e("code",[t._v('"$events/"')]),t._v(" 开头，比如 "),e("code",[t._v('"$events/client_connected",')]),t._v(" "),e("code",[t._v('"$events/session_subscribed"。')]),t._v("\n如果想让 emqx 将事件消息发布出来，可以在 "),e("code",[t._v("emqx_rule_engine.conf")]),t._v(" 文件中配置。")]),t._v(" "),e("h3",{attrs:{id:"from-子句可用的事件主题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#from-子句可用的事件主题"}},[t._v("#")]),t._v(" FROM 子句可用的事件主题")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("事件主题名")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("释义")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("$events/message_delivered")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息投递")])]),t._v(" "),e("tr",[e("td",[t._v("$events/message_acked")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息确认")])]),t._v(" "),e("tr",[e("td",[t._v("$events/message_dropped")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息丢弃")])]),t._v(" "),e("tr",[e("td",[t._v("$events/client_connected")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("连接完成")])]),t._v(" "),e("tr",[e("td",[t._v("$events/client_disconnected")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("连接断开")])]),t._v(" "),e("tr",[e("td",[t._v("$events/session_subscribed")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("订阅")])]),t._v(" "),e("tr",[e("td",[t._v("$events/session_unsubscribed")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消订阅")])])])]),t._v(" "),e("h3",{attrs:{id:"events-message-delivered-消息投递"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-message-delivered-消息投递"}},[t._v("#")]),t._v(" $events/message_delivered (消息投递)")]),t._v(" "),e("p",[t._v("当消息被放入底层socket时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息 ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("from_clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("from_username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("payload")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息体")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("flags")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 Flags")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("publish_received_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH 消息到达 Broker 的时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  from_clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  from_username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/message_delivered"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timestamp"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1645002753259")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx_1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx_1"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"events-message-acked-消息确认"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-message-acked-消息确认"}},[t._v("#")]),t._v(" $events/message_acked (消息确认)")]),t._v(" "),e("p",[t._v("当消息发送到客户端，并收到客户端回复的ack时触发规则，仅QOS1，QOS2会触发")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息 ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("from_clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("from_username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("payload")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息体")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("flags")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 Flags")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("puback_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBACK Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("publish_received_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH 消息到达 Broker 的时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  from_clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  from_username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/message_acked"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timestamp"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1645002965664")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx_1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx_1"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"events-message-dropped-消息在转发的过程中被丢弃"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-message-dropped-消息在转发的过程中被丢弃"}},[t._v("#")]),t._v(" $events/message_dropped (消息在转发的过程中被丢弃)")]),t._v(" "),e("p",[t._v("当一条消息无任何订阅者时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息 ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("reason")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息丢弃原因，可能的原因："),e("br"),t._v("no_subscribers: 没有订阅者")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("payload")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息体")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("flags")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 Flags")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("publish_received_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH 消息到达 Broker 的时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  reason"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("timestamp")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/message_dropped"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timestamp"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1645003103004")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reason"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"no_subscribers"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"events-delivery-dropped-消息在投递的过程中被丢弃"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-delivery-dropped-消息在投递的过程中被丢弃"}},[t._v("#")]),t._v(" $events/delivery_dropped (消息在投递的过程中被丢弃)")]),t._v(" "),e("p",[t._v("当订阅者的消息队列已满时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息 ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("reason")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息丢弃原因，可能的原因："),e("br"),t._v("queue_full: 消息队列已满(QoS>0)"),e("br"),t._v("no_local: 不允许客户端接收自己发布的消息"),e("br"),t._v("expired: 消息或者会话过期"),e("br"),t._v("qos0_msg: QoS0 的消息因为消息队列已满被丢弃")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("from_clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("from_username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息来源用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("payload")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息体")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("flags")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 Flags")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("publish_received_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("PUBLISH 消息到达 Broker 的时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  from_clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  from_username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  reason"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/delivery_dropped"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reason"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"queue_full"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx_1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx_1"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"events-client-connected-终端连接成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-client-connected-终端连接成功"}},[t._v("#")]),t._v(" $events/client_connected (终端连接成功)")]),t._v(" "),e("p",[t._v("当终端连接成功时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mountpoint")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("主题挂载点(主题前缀)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peername")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("终端的 IPAddress 和 Port")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sockname")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("emqx 监听的 IPAddress 和 Port")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("proto_name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("协议名字")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("proto_ver")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("协议版本")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("keepalive")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 保活间隔")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clean_start")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT clean_start")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("expiry_interval")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT Session 过期时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("is_bridge")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是否为 MQTT bridge 连接")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("connected_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("终端连接完成时间 (s)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("conn_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("CONNECT Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  keepalive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  is_bridge\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/client_connected"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keepalive"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_bridge"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h3",{attrs:{id:"events-client-disconnected-终端连接断开"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-client-disconnected-终端连接断开"}},[t._v("#")]),t._v(" $events/client_disconnected (终端连接断开)")]),t._v(" "),e("p",[t._v("当终端连接断开时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("reason")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("终端连接断开原因："),e("br"),t._v("normal：客户端主动断开"),e("br"),t._v("kicked：服务端踢出，通过 REST API"),e("br"),t._v("keepalive_timeout: keepalive 超时"),e("br"),t._v("not_authorized:  认证失败，或者 acl_nomatch = disconnect 时没有权限的 Pub/Sub 会主动断开客户端"),e("br"),t._v("tcp_closed: 对端关闭了网络连接"),e("br"),t._v("internal_error: 畸形报文或其他未知错误"),e("br")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peername")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("终端的 IPAddress 和 Port")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sockname")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("emqx 监听的 IPAddress 和 Port")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("disconnected_at")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("终端连接断开时间 (s)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("disconn_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("DISCONNECT Properties (仅适用于 MQTT 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  reason"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  disconnected_at"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  node\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/client_disconnected"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reason"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"normal"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"disconnected_at"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1645003578536")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"events-session-subscribed-终端订阅成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-session-subscribed-终端订阅成功"}},[t._v("#")]),t._v(" $events/session_subscribed (终端订阅成功)")]),t._v(" "),e("p",[t._v("当终端订阅成功时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("SUBSCRIBE Properties (仅适用于 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/session_subscribed"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h3",{attrs:{id:"events-session-unsubscribed-取消终端订阅成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-session-unsubscribed-取消终端订阅成功"}},[t._v("#")]),t._v(" $events/session_unsubscribed (取消终端订阅成功)")]),t._v(" "),e("p",[t._v("当取消终端订阅成功时触发规则")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的 Client ID")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("消息目的用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("peerhost")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("客户端的 IPAddress")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 主题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("qos")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MQTT 消息的 QoS")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("unsub_props")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("UNSUBSCRIBE Properties (仅适用于 5.0)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发时间 (ms)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件触发所在节点")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v("\n  clientid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  qos\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$events/session_unsubscribed"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("输出")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clientid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c_emqx"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("p",[e("RouterLink",{attrs:{to:"/zh/enterprise/latest/rule/rule-engine_buildin_function.html"}},[t._v("下一部分，规则引擎内置函数")])],1)])}),[],!1,null,null,null);s.default=n.exports}}]);