(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{1511:function(t,e,s){"use strict";s.r(e);var v=s(10),n=Object(v.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"webhook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webhook"}},[t._v("#")]),t._v(" WebHook")]),t._v(" "),s("p",[t._v("WebHook is a plugin provided by the "),s("a",{attrs:{href:"https://github.com/emqx/emqx-web-hook",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_web_hook"),s("OutboundLink")],1),t._v(" plugin with the function of notifying a web service of hook events in EMQX Broker.")]),t._v(" "),s("p",[t._v("The internal implementation of WebHook is based on  "),s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/hooks.html"}},[t._v("hooks")]),t._v(", but it is closer to the top level. It obtains various events in EMQX Broker through the callback function mounted on the hook, and forwards them to the web server configured in emqx_web_hook.")],1),t._v(" "),s("p",[t._v("Taking the client.connected event as an example, the event delivery process is as follows:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("    Client      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    EMQX     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  emqx_web_hook "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   HTTP       +------------+\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">|")]),t._v(" - - - - - - -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" - - - - - - - -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Web Server "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("    Broker    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  Request     +------------+\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("WebHook processes events in one-way pattern. It only supports pushing events in EMQX Broker to Web services, and does not care about the return of Web services.\nWith the help of Webhooks, many services such as device going online, online and offline recording, subscription and message storage, and message delivery confirmation can be completed.")])]),t._v(" "),s("h2",{attrs:{id:"configuration-item"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration-item"}},[t._v("#")]),t._v(" Configuration item")]),t._v(" "),s("p",[t._v("The webhook configuration file is located in: "),s("code",[t._v("etc/plugins/emqx_web_hook.conf")]),t._v(", the detailed description of configuration items can be found in "),s("RouterLink",{attrs:{to:"/en/enterprise/latest/configuration/configuration.html"}},[t._v("Configuration Item")]),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"trigger-rule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trigger-rule"}},[t._v("#")]),t._v(" Trigger rule")]),t._v(" "),s("p",[t._v("Trigger rules can be configured in "),s("code",[t._v("etc/plugins/emqx_web_hook.conf")]),t._v(". The configuration format is as follows:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Format example")]),t._v("\nweb.hook.rule."),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Event"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("."),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Number"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Rule"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Example")]),t._v("\nweb.hook.rule.message.publish.1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"action"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on_message_publish"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nweb.hook.rule.message.publish.2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"action"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on_message_publish"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo/#"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"trigger-event"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trigger-event"}},[t._v("#")]),t._v(" Trigger event")]),t._v(" "),s("p",[t._v("The following events are currently supported:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("Execution timing")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("client.connect")]),t._v(" "),s("td",[t._v("Processing connection packets")]),t._v(" "),s("td",[t._v("When the server receives the client's connection packet")])]),t._v(" "),s("tr",[s("td",[t._v("client.connack")]),t._v(" "),s("td",[t._v("Issue connection acknowledge")]),t._v(" "),s("td",[t._v("When the server is ready to send connack packet")])]),t._v(" "),s("tr",[s("td",[t._v("client.connected")]),t._v(" "),s("td",[t._v("connected")]),t._v(" "),s("td",[t._v("After the client authentication is completed and successfully connected to the system")])]),t._v(" "),s("tr",[s("td",[t._v("client.disconnected")]),t._v(" "),s("td",[t._v("disconnected")]),t._v(" "),s("td",[t._v("When the client connection layer is about to close")])]),t._v(" "),s("tr",[s("td",[t._v("client.subscribe")]),t._v(" "),s("td",[t._v("subscribe")]),t._v(" "),s("td",[t._v("After receiving the subscription message,and before executing "),s("code",[t._v("client.check_acl")]),t._v(" authentication")])]),t._v(" "),s("tr",[s("td",[t._v("client.unsubscribe")]),t._v(" "),s("td",[t._v("unsubscribe")]),t._v(" "),s("td",[t._v("After receiving the unsubscription message")])]),t._v(" "),s("tr",[s("td",[t._v("session.subscribed")]),t._v(" "),s("td",[t._v("Session subscribed")]),t._v(" "),s("td",[t._v("After completing the subscription operation")])]),t._v(" "),s("tr",[s("td",[t._v("session.unsubscribed")]),t._v(" "),s("td",[t._v("session unsubscribed")]),t._v(" "),s("td",[t._v("After completing the unsubscription operation")])]),t._v(" "),s("tr",[s("td",[t._v("message.publish")]),t._v(" "),s("td",[t._v("message published")]),t._v(" "),s("td",[t._v("Before the server rpublishes (routes) the message")])]),t._v(" "),s("tr",[s("td",[t._v("message.delivered")]),t._v(" "),s("td",[t._v("message deliveried")]),t._v(" "),s("td",[t._v("Before the message is ready to be delivered to the client")])]),t._v(" "),s("tr",[s("td",[t._v("message.acked")]),t._v(" "),s("td",[t._v("message acknowledged")]),t._v(" "),s("td",[t._v("After the server received the message ACK from the client")])])])]),t._v(" "),s("h3",{attrs:{id:"number"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#number"}},[t._v("#")]),t._v(" Number")]),t._v(" "),s("p",[t._v("Multiple trigger rules can be configured for the same event, and events with the same configuration should be incremented in sequence.")]),t._v(" "),s("h3",{attrs:{id:"rule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rule"}},[t._v("#")]),t._v(" Rule")]),t._v(" "),s("p",[t._v("The trigger rule's 'value is a JSON string, and the available Keys are:")]),t._v(" "),s("ul",[s("li",[t._v("action: string, taking a fixed value")]),t._v(" "),s("li",[t._v("topic: a string, indicating a topic filter, the operation topic can only trigger the forwarding of the event if it matches the topic")])]),t._v(" "),s("p",[t._v("For example, we only forward messages matching the topics of "),s("code",[t._v("a/b/c")]),t._v(" and "),s("code",[t._v("foo/#")]),t._v(" to the web server, and the configuration should be:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("web.hook.rule.message.publish.1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"action"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on_message_publish"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nweb.hook.rule.message.publish.2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"action"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on_message_publish"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo/#"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("In this way, Webhook will only forward messages matching the topics of  "),s("code",[t._v("a/b/c")]),t._v(" and "),s("code",[t._v("foo/#")]),t._v(", such as "),s("code",[t._v("foo/bar")]),t._v(", etc., instead of forwarding "),s("code",[t._v("a/b/d")]),t._v(" or "),s("code",[t._v("fo/bar")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"webhook-event-parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webhook-event-parameters"}},[t._v("#")]),t._v(" Webhook event parameters")]),t._v(" "),s("p",[t._v("When the event is triggered, Webhook will group each event into an HTTP request and sent it to the web server configured by url according to the configuration. The request format is:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("URL: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# From the url field in the configuration")]),t._v("\nMethod: POST        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Fixed as POST method")]),t._v("\n\nBody: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("JSON"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Body is a JSON format string")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("For different events, the content of the request body is different. The following table lists the parameters of the body in each event:")]),t._v(" "),s("p",[s("strong",[t._v("client.connect")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at："client_connect"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('client Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("ipaddress")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client source IP address")])]),t._v(" "),s("tr",[s("td",[t._v("keepalive")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Heartbeat keepalive time applied by client")])]),t._v(" "),s("tr",[s("td",[t._v("proto_ver")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Protocol version number")])])])]),t._v(" "),s("p",[s("strong",[t._v("client.connack")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at: "client_connack"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('client Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("ipaddress")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client source IP address")])]),t._v(" "),s("tr",[s("td",[t._v("keepalive")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Heartbeat keepalive time applied by client")])]),t._v(" "),s("tr",[s("td",[t._v("proto_ver")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Protocol version number")])]),t._v(" "),s("tr",[s("td",[t._v("conn_ack")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('"success" means success, other means failure')])])])]),t._v(" "),s("p",[s("strong",[t._v("client.connected")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at:"client_connected"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('client Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("ipaddress")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client source IP address")])]),t._v(" "),s("tr",[s("td",[t._v("keepalive")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Heartbeat keepalive time applied by client")])]),t._v(" "),s("tr",[s("td",[t._v("proto_ver")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Protocol version number")])]),t._v(" "),s("tr",[s("td",[t._v("connected_at")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Timestamp (second)")])])])]),t._v(" "),s("p",[s("strong",[t._v("client.disconnected")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at: "client_disconnected"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('client Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("reason")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("error reason")])])])]),t._v(" "),s("p",[s("strong",[t._v("client.subscribe")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at: "client_subscribe"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Client ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('Client Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("topic")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Topics to be subscribed")])]),t._v(" "),s("tr",[s("td",[t._v("opts")]),t._v(" "),s("td",[t._v("json")]),t._v(" "),s("td",[t._v("Subscription parameters")])])])]),t._v(" "),s("p",[t._v("opts includes")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("qos")]),t._v(" "),s("td",[t._v("enum")]),t._v(" "),s("td",[t._v("QoS level, and the optional value is "),s("code",[t._v("0")]),t._v(" "),s("code",[t._v("1")]),t._v(" "),s("code",[t._v("2")])])])])]),t._v(" "),s("p",[s("strong",[t._v("client.unsubscribe")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at:"client_unsubscribe"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("client ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('client Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("topic")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("unsubscribed topic")])])])]),t._v(" "),s("p",[s("strong",[t._v("session.subscribed")]),t._v(": same as "),s("code",[t._v("client.subscribe")]),t._v("，action is "),s("code",[t._v("session_subscribed")])]),t._v(" "),s("p",[s("strong",[t._v("session.unsubscribed")]),t._v(": same as "),s("code",[t._v("client.unsubscribe")]),t._v("，action is "),s("code",[t._v("session_unsubscribe")])]),t._v(" "),s("p",[s("strong",[t._v("session.terminated")]),t._v(": same as "),s("code",[t._v("client.disconnected")]),t._v("，action is "),s("code",[t._v("session_terminated")])]),t._v(" "),s("p",[s("strong",[t._v("message.publish")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at: "message_publish"')])]),t._v(" "),s("tr",[s("td",[t._v("from_client_id")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Publisher's ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("from_username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('Publisher\'s Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("topic")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Unsubscribed topic")])]),t._v(" "),s("tr",[s("td",[t._v("qos")]),t._v(" "),s("td",[t._v("enum")]),t._v(" "),s("td",[t._v("QoS level, and the optional value is "),s("code",[t._v("0")]),t._v(" "),s("code",[t._v("1")]),t._v(" "),s("code",[t._v("2")])])]),t._v(" "),s("tr",[s("td",[t._v("retain")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("Whether it is a Retain message")])]),t._v(" "),s("tr",[s("td",[t._v("payload")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Message Payload")])]),t._v(" "),s("tr",[s("td",[t._v("ts")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Timestamp (second)")])])])]),t._v(" "),s("p",[s("strong",[t._v("message.delivered")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at: "message_delivered"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Receiver's ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('Receiver\'s Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("from_client_id")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Publisher's ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("from_username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('Publisher\'s Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("topic")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Unsubscribed topic")])]),t._v(" "),s("tr",[s("td",[t._v("qos")]),t._v(" "),s("td",[t._v("enum")]),t._v(" "),s("td",[t._v("QoS level, and the optional value is "),s("code",[t._v("0")]),t._v(" "),s("code",[t._v("1")]),t._v(" "),s("code",[t._v("2")])])]),t._v(" "),s("tr",[s("td",[t._v("retain")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("Whether it is a Retain message")])]),t._v(" "),s("tr",[s("td",[t._v("payload")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Message Payload")])]),t._v(" "),s("tr",[s("td",[t._v("ts")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Timestamp (second)")])])])]),t._v(" "),s("p",[s("strong",[t._v("message.acked")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("action")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("event name"),s("br"),t._v('fixed at: "message_acked"')])]),t._v(" "),s("tr",[s("td",[t._v("clientid")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Receiver's ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("from_client_id")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Publisher's ClientId")])]),t._v(" "),s("tr",[s("td",[t._v("from_username")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v('Publisher\'s Username, When not existed, the value is "undefined"')])]),t._v(" "),s("tr",[s("td",[t._v("topic")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Unsubscribed topic")])]),t._v(" "),s("tr",[s("td",[t._v("qos")]),t._v(" "),s("td",[t._v("enum")]),t._v(" "),s("td",[t._v("QoS level, and the optional value is "),s("code",[t._v("0")]),t._v(" "),s("code",[t._v("1")]),t._v(" "),s("code",[t._v("2")])])]),t._v(" "),s("tr",[s("td",[t._v("retain")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("Whether it is a Retain message")])]),t._v(" "),s("tr",[s("td",[t._v("payload")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Message Payload")])]),t._v(" "),s("tr",[s("td",[t._v("ts")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Timestamp (second)")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);