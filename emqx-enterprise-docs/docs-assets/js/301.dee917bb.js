(window.webpackJsonp=window.webpackJsonp||[]).push([[301],{1649:function(t,e,a){"use strict";a.r(e);var r=a(10),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"prometheus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prometheus"}},[t._v("#")]),t._v(" Prometheus")]),t._v(" "),a("p",[t._v("EMQX Broker provides "),a("a",{attrs:{href:"https://github.com/emqx/emqx-statsd",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_statsd"),a("OutboundLink")],1),t._v(" plug-in, which is used to output the monitoring data of the system to the third-party monitoring system.")]),t._v(" "),a("p",[t._v("Take  "),a("a",{attrs:{href:"https://prometheus.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prometheus"),a("OutboundLink")],1),t._v(" as an example:")]),t._v(" "),a("p",[a("code",[t._v("emqx_statsd")]),t._v(" supports pushing data to Pushgateway, which is then pulled by Promethues Server for storage.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Tip")]),t._v(" "),a("p",[a("code",[t._v("emqx_statsd")]),t._v(" does not support the pull operation of Prometheus.")])]),t._v(" "),a("h2",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("emqx_statsd")]),t._v(" plugin internally starts a timer to collect the monitoring data in EMQX Broker every interval.")]),t._v(" "),a("p",[t._v("For the specific fields and meanings of the monitoring data pushed by "),a("code",[t._v("emqx_statsd")]),t._v(", see "),a("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/metrics-and-stats.html"}},[t._v("Metrics & Stats")])],1),t._v(" "),a("p",[t._v("The configuration file is located in "),a("code",[t._v("etc/plugins/emqx_statsd.conf")]),t._v(", where:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Configuration")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional value")]),t._v(" "),a("th",[t._v("Default value")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("push.gateway.server")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("http://127.0.0.1:9091")]),t._v(" "),a("td",[t._v("Prometheus' PushGateway address")])]),t._v(" "),a("tr",[a("td",[t._v("interval")]),t._v(" "),a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("> 0")]),t._v(" "),a("td",[t._v("5000")]),t._v(" "),a("td",[t._v("Push interval, unit: ms")])])])]),t._v(" "),a("h3",{attrs:{id:"grafana-data-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grafana-data-template"}},[t._v("#")]),t._v(" Grafana Data template")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("emqx_statsd")]),t._v(" plugin provides Grafana ’s Dashboard template files. These templates contain the display of all EMQX Broker monitoring data. Users can directly import them into Grafana and select icons that display the monitoring status of EMQX Broker.")]),t._v(" "),a("p",[t._v("The template file is located:"),a("a",{attrs:{href:"https://github.com/emqx/emqx-statsd/tree/master/grafana_template",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_statsd/grafana_template"),a("OutboundLink")],1),t._v("。")])])}),[],!1,null,null,null);e.default=s.exports}}]);