(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1607:function(t,s,a){"use strict";a.r(s);var e=a(10),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"save-data-to-dolphindb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#save-data-to-dolphindb"}},[t._v("#")]),t._v(" Save data to DolphinDB")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.dolphindb.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("DolphinDB"),e("OutboundLink")],1),t._v(" is a high-performance distributed time series database developed by Zhejiang  DolphinDB Co., Ltd, which integrates powerful programming language and high-capacity and high-speed flow data analysis system, providing a one-stop solution for rapid storage, retrieval, analysis and calculation of massive structured data. It is suitable for the area of quantitative finance and industrial Internet of things.")]),t._v(" "),e("p",[t._v("EMQX uses Erlang to implement DolphinDB's client API, which transmits data to DolphinDB for storage through TCP.")]),t._v(" "),e("h2",{attrs:{id:"set-up-dolphindb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#set-up-dolphindb"}},[t._v("#")]),t._v(" Set up DolphinDB")]),t._v(" "),e("p",[t._v("Currently, EMQX only adapts to DolphinDB 1.20.7 version.")]),t._v(" "),e("p",[t._v("Taking the Linux version as an example, you can go to the official website to download the latest version of the Linux64 installation package from the community: https://www.dolphindb.cn/downloads.html")]),t._v(" "),e("p",[t._v("Upload the server directory of the installation package to the server directory "),e("code",[t._v("/opts/app/dolphindb")]),t._v(", and test whether the startup is normal:")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x ./dolphindb\n./dolphindb\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## If the startup is successful, you will enter the dolphindb command line and execute 1+1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("+1\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("If the startup is successful and the correct output is obtained, it indicates that DolphinDB is successfully installed. Then use "),e("code",[t._v("<CRTL+D>")]),t._v(" to close DolphinDB.")]),t._v(" "),e("p",[t._v("Now, we need to open the publish / subscribe function of streamtable in dolphin dB and create relevant data tables to realize the function of EMQ x message storage and persistence:")]),t._v(" "),e("ol",[e("li",[t._v("Modify the DolphinDB's configuration file "),e("code",[t._v("vim dolphindb.cfg")]),t._v(" and add the following configuration items to enable the publish/subscribe function:")])]),t._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Publisher for streaming")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("maxPubConnections")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("persistenceDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/ddb/pubdata/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#persistenceWorkerNum=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#maxPersistenceQueueDepth=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#maxMsgNumPerBlock=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#maxPubQueueDepthPerSite=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Subscriber for streaming")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("subPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("8000")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#subExecutors=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#maxSubConnections=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#subExecutorPooling=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#maxSubQueueDepth=")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("Start the dolphin DB service from the background:")])]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## After startup, dolphin DB will listen to port 8848 for client.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./dolphindb -console "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[t._v("Go to the official website of DolphinDB and download a suitable GUI client to connect to the DolphinDB service:")]),t._v(" "),e("ul",[e("li",[t._v("Go to "),e("a",{attrs:{href:"http://www.dolphindb.cn/alone/alone.php?id=10",target:"_blank",rel:"noopener noreferrer"}},[t._v("download page"),e("OutboundLink")],1),t._v(" to download "),e("code",[t._v("DolphinDB GUI")])]),t._v(" "),e("li",[t._v("DolphinDB GUI client depends on the Java environment, therefore, make sure that Java is installed at first")]),t._v(" "),e("li",[t._v("Go to the DolphinDB GUI directory and execute "),e("code",[t._v("sh gui.sh")]),t._v(" to start the client")]),t._v(" "),e("li",[t._v("Add Server in the client and create a Project with script files.")])])]),t._v(" "),e("li",[e("p",[t._v("Create a distributed database and a streamtable table, and persist the data of streamtable into the distributed table")])])]),t._v(" "),e("div",{staticClass:"language-ruby line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Create")]),t._v(" a distributed file database named emqx\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("And")]),t._v(" create a table named `msg`"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" partition by the hash values of `clientid` "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" `topic`"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\nschema "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" `clientid`topic`qos`payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HASH")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HASH")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dfs://emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COMPO")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("db1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" db2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("createPartitionedTable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"msg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("`clientid`topic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Create")]),t._v(" a "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("StreamTable")]),t._v(" table named `st_msg` "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" persist the data to the `msg` table"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nshare streamTable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("`clientid`topic`qos`payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" as st_msg\nmsg_ref"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" loadTable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dfs://emqx"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"msg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsubscribeTable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"st_msg"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"save_msg_to_dfs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg_ref"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Query")]),t._v(" msg_ref to check whether the creation is successful\nselect "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" from msg_ref"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br")])]),e("p",[t._v("After that, you can see that an empty "),e("code",[t._v("msg_ref")]),t._v(" has been created successfully:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(706),alt:"Create DolphinDB Table"}})]),t._v(" "),e("p",[t._v("So far, the configuration of DolphinDB has been completed.")]),t._v(" "),e("p",[t._v("For detailed DolphinDB usage documentation, please refer to:")]),t._v(" "),e("ul",[e("li",[t._v("User Guide: https://github.com/dolphindb/Tutorials_CN/blob/master/dolphindb_user_guide.md")]),t._v(" "),e("li",[t._v("Examples of IoT scenarios: https://gitee.com/dolphindb/Tutorials_CN/blob/master/iot_examples.md")]),t._v(" "),e("li",[t._v("Stream processing guidelines: https://github.com/dolphindb/Tutorials_CN/blob/master/streaming_tutorial.md")]),t._v(" "),e("li",[t._v("Programming manual: https://www.dolphindb.cn/cn/help/index.html")])]),t._v(" "),e("h2",{attrs:{id:"configure-the-rules-engine"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-rules-engine"}},[t._v("#")]),t._v(" Configure the rules engine")]),t._v(" "),e("p",[t._v("Create rules:")]),t._v(" "),e("p",[t._v("Open "),e("a",{attrs:{href:"http://127.0.0.1:18083/#/rules",target:"_blank",rel:"noopener noreferrer"}},[t._v("EMQX Dashboard"),e("OutboundLink")],1),t._v(' and select the "Rules" tab on the left.')]),t._v(" "),e("p",[t._v("Fill in the rule SQL:")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/#"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:a(396),alt:"image"}})]),t._v(" "),e("p",[t._v("Related actions:")]),t._v(" "),e("p",[t._v('On the "Response Action" interface, select "Add", and then select "Save Data to DolphinDB" in the "Action" drop-down box.')]),t._v(" "),e("p",[e("img",{attrs:{src:a(707),alt:"image"}})]),t._v(" "),e("p",[t._v("Fill in the action parameters:")]),t._v(" "),e("p",[t._v('The "Save data to DolphinDB" action requires two parameters:')]),t._v(" "),e("p",[t._v("1). SQL template. In this example, we insert a piece of data into the stream table "),e("code",[t._v("st_msg")]),t._v(", and the SQL template is:")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" st_msg "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("${clientid}"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ${topic}"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ${qos}"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ${payload}"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v('2). The ID of the associated resource. Now that the resource drop-down box is empty, and you can click "New Resource" in the upper right corner to create a DolphinDB resource:')]),t._v(" "),e("p",[t._v("Fill in the server address corresponding to the DolphinDB server deployed above. The user name is "),e("code",[t._v("admin")]),t._v(" and the password is "),e("code",[t._v("123456")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(708),alt:"image"}})]),t._v(" "),e("p",[t._v('Click the "OK" button.')]),t._v(" "),e("p",[t._v('Return to the response action interface and click "OK".')]),t._v(" "),e("p",[e("img",{attrs:{src:a(709),alt:"image"}})]),t._v(" "),e("p",[t._v('Return to the rule creation interface and click "Create".')]),t._v(" "),e("p",[e("img",{attrs:{src:a(710),alt:"image"}})]),t._v(" "),e("p",[t._v('In the rule list, click the "View" button or the rule ID connection to preview the rule just created:')]),t._v(" "),e("p",[e("img",{attrs:{src:a(711),alt:"image"}})]),t._v(" "),e("p",[t._v("The rule has been created. Now, send a piece of data:")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("Topic: "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),t._v("\nQoS: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nPayload: "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("Then check the persistent "),e("code",[t._v("msg_dfs")]),t._v(" table to see whether the new data is added successfully:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(712),alt:"image"}})])])}),[],!1,null,null,null);s.default=n.exports},396:function(t,s,a){t.exports=a.p+"docs-assets/img/rule_sql.91dfbea9.png"},706:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_create_tab.c505fe05.jpg"},707:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_action_1.d548d2e2.jpg"},708:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_res_1.55aaf34d.jpg"},709:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_action_2.f5c80e3b.jpg"},710:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_action_3.1b61f641.jpg"},711:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_overview.1ad1531d.jpg"},712:function(t,s,a){t.exports=a.p+"docs-assets/img/dolphin_result.ca3a74b6.jpg"}}]);