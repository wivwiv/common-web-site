(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{1564:function(s,a,e){"use strict";e.r(a);var n=e(10),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[s._v("#")]),s._v(" Installation")]),s._v(" "),e("p",[s._v("EMQX binary packages are released on below operating systems:")]),s._v(" "),e("ul",[e("li",[s._v("CentOS 7 (EL7)")]),s._v(" "),e("li",[s._v("CentOS 8 (EL8)")]),s._v(" "),e("li",[s._v("Raspbian 10")]),s._v(" "),e("li",[s._v("Debian 9")]),s._v(" "),e("li",[s._v("Debian 10")]),s._v(" "),e("li",[s._v("Ubuntu 16.04")]),s._v(" "),e("li",[s._v("Ubuntu 18.04")]),s._v(" "),e("li",[s._v("Ubuntu 20.04")]),s._v(" "),e("li",[s._v("macOS 10")]),s._v(" "),e("li",[s._v("Windows Server 2019")])]),s._v(" "),e("h2",{attrs:{id:"package-installation-linux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-installation-linux"}},[s._v("#")]),s._v(" Package Installation (Linux)")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("Download EMQX package "),e("a",{attrs:{href:"https://www.emqx.com/en/downloads/try?product=broker",target:"_blank",rel:"noopener noreferrer"}},[s._v("emqx.com"),e("OutboundLink")],1),s._v(" or "),e("a",{attrs:{href:"https://github.com/emqx/emqx/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[s._v("Install EMQX Broker:")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("RPM package:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" emqx-cenots7-v4.0.0.x86_64.rpm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("DEB package:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# for ubuntu/debian")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ./emqx-ubuntu18.04-v4.0.0_amd64.deb\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ./emqx-debian10-v4.0.0_amd64.deb\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])])]),s._v(" "),e("li",[e("p",[s._v("Start EMQX Broker")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("quick start")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ emqx start\nemqx "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v(".0 is started successfully"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n$ emqx_ctl status\nNode "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'emqx@127.0.0.1'")]),s._v(" is started\nemqx v4.0.0 is running\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("systemctl")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start emqx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("start as service")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" emqx start\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])]),s._v(" "),e("li",[e("p",[s._v("Stop EMQX Broker")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ emqx stop\nok\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Uninstall EMQX Broker")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("DEB:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" remove --purge emqx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("RPM:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove emqx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])])]),s._v(" "),e("h2",{attrs:{id:"zip-linux、macos、windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zip-linux、macos、windows"}},[s._v("#")]),s._v(" ZIP (Linux、MacOS、Windows)")]),s._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("WARING")]),s._v(" "),e("p",[s._v("ZIP packages are released for quick testing and hot-beam upgrade. Do NOT install zip packages for production unless you know how to manually resolve all the runtime dependencies.")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("Download EMQX zip package from "),e("a",{attrs:{href:"https://www.emqx.com/en/downloads/try?product=broker",target:"_blank",rel:"noopener noreferrer"}},[s._v("emqx.com"),e("OutboundLink")],1),s._v(" or "),e("a",{attrs:{href:"https://github.com/emqx/emqx/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github"),e("OutboundLink")],1),s._v(".")])]),s._v(" "),e("li",[e("p",[s._v("Unzip the installation file:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" emqx-ubuntu18.04-v4.0.0.zip\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Start EMQX Broker")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ ./bin/emqx start\nemqx "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v(".0 is started successfully"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n$ ./bin/emqx_ctl status\nNode "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'emqx@127.0.0.1'")]),s._v(" is started\nemqx v4.0.0 is running\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Stop EMQX Broker")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ ./bin/emqx stop\nok\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Remove EMQX Broker")]),s._v(" "),e("p",[s._v("Simply delete the EMQX Broker directory")])])]),s._v(" "),e("h2",{attrs:{id:"running-emqx-in-docker-contain-a-simple-docker-compose-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-emqx-in-docker-contain-a-simple-docker-compose-cluster"}},[s._v("#")]),s._v(" Running EMQX in Docker (Contain a simple docker-compose cluster)")]),s._v(" "),e("h3",{attrs:{id:"run-a-single-container"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#run-a-single-container"}},[s._v("#")]),s._v(" Run a single container")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("Get docker image")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("From "),e("a",{attrs:{href:"https://hub.docker.com/r/emqx/emqx",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Hub"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ docker pull emqx/emqx:v4.0.0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])]),s._v(" "),e("li",[e("p",[s._v("Start docker container")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ docker run -d --name emqx -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1883")]),s._v(":1883 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(":8081 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8083")]),s._v(":8083 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8883")]),s._v(":8883 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8084")]),s._v(":8084 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18083")]),s._v(":18083 emqx/emqx:v4.0.0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"create-a-simple-static-cluster-by-docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-simple-static-cluster-by-docker-compose"}},[s._v("#")]),s._v(" Create a simple static cluster by docker-compose")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("Create "),e("code",[s._v("docker-compose.yaml")]),s._v(" file")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("version: "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3'")]),s._v("\n\nservices:\n  emqx1:\n    image: emqx/emqx:v4.0.0\n    environment:\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_NAME=emqx"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_HOST=node1.emqx.io"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_CLUSTER__DISCOVERY=static"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_CLUSTER__STATIC__SEEDS=emqx@node1.emqx.io, emqx@node2.emqx.io"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_ZONE__EXTERNAL__RETRY_INTERVAL=2s"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_MQTT__MAX_TOPIC_ALIAS=10"')]),s._v("\n    volumes:\n        - ./tmp/emqx.lic:/opt/emqx/etc/emqx.lic\n    healthcheck:\n      test: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/opt/emqx/bin/emqx_ctl"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 5s\n      timeout: 25s\n      retries: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n    networks:\n      emqx-bridge:\n        aliases:\n        - node1.emqx.io\n\n  emqx2:\n    image: emqx/emqx:v4.0.0\n    environment:\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_NAME=emqx"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_HOST=node2.emqx.io"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_CLUSTER__DISCOVERY=static"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_CLUSTER__STATIC__SEEDS=emqx@node1.emqx.io, emqx@node2.emqx.io"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_ZONE__EXTERNAL__RETRY_INTERVAL=2s"')]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EMQX_MQTT__MAX_TOPIC_ALIAS=10"')]),s._v("\n    volumes:\n        - ./tmp/emqx.lic:/opt/emqx/etc/emqx.lic\n    healthcheck:\n      test: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CMD"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/opt/emqx/bin/emqx_ctl"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      interval: 5s\n      timeout: 25s\n      retries: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n    networks:\n      emqx-bridge:\n        aliases:\n        - node2.emqx.io\n\n  client:\n    image: python:3.7.2-alpine3.9\n    depends_on:\n      - emqx1\n      - emqx2\n    tty: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    networks:\n        emqx-bridge:\n\nnetworks:\n  emqx-bridge:\n    driver: bridge\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Start docker-compose cluster")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ docker-compose -p my_emqx up -d\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("View cluster")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ docker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it my_emqx_emqx1_1 "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" -c "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"emqx_ctl cluster status"')]),s._v("\nCluster status: "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#{running_nodes => ['emqx@node1.emqx.io','emqx@node2.emqx.io'],")]),s._v("\n                  stopped_nodes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])]),s._v(" "),e("p",[s._v("For more information about EMQX Broker Docker, please visit "),e("a",{attrs:{href:"https://hub.docker.com/r/emqx/emqx",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Hub"),e("OutboundLink")],1),s._v(" or "),e("a",{attrs:{href:"https://github.com/emqx/emqx-rel/tree/master/deploy/docker",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"install-and-cluster-via-helm-k8s、k3s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-and-cluster-via-helm-k8s、k3s"}},[s._v("#")]),s._v(" Install and cluster via Helm (K8S、K3S)")]),s._v(" "),e("ol",[e("li",[s._v("Add helm repository")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ helm repo "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" emqx https://repos.emqx.io/charts\n$ helm repo update\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("Query EMQX Broker")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("helm search repo emqx\nNAME         CHART VERSION APP VERSION DESCRIPTION\nemqx/emqx    v4.0.0        v4.0.0      A Helm chart "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" EMQX\nemqx/emqx-ee v4.0.0        v4.0.0      A Helm chart "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" EMQX\nemqx/kuiper  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".1         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".1       A lightweight IoT edge analytic software\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("Start EMQX Broker cluster")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ helm "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" my-emqx emqx/emqx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("View EMQX Broker cluster situation")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ kubectl get pods\nNAME       READY  STATUS             RESTARTS  AGE\nmy-emqx-0  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          56s\nmy-emqx-1  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          40s\nmy-emqx-2  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          21s\n\n$ kubectl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it my-emqx-0 -- emqx_ctl cluster status\nCluster status: "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#{running_nodes =>")]),s._v("\n                      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my-emqx@my-emqx-0.my-emqx-headless.default.svc.cluster.local'")]),s._v(",\n                       "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my-emqx@my-emqx-1.my-emqx-headless.default.svc.cluster.local'")]),s._v(",\n                       "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my-emqx@my-emqx-2.my-emqx-headless.default.svc.cluster.local'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n                  stopped_nodes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h2",{attrs:{id:"source-code-compilation-and-installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#source-code-compilation-and-installation"}},[s._v("#")]),s._v(" Source code compilation and installation")]),s._v(" "),e("ol",[e("li",[s._v("Get the source code")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/emqx/emqx.git\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("Checkout to latest tag")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" emqx\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" describe --abbrev"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" --tags"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("Compile")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("Start EMQX Broker")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" _build/emqx/rel/emqx\n\n$ ./bin/emqx start\nEMQX Broker "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.3")]),s._v("-beta.1 is started successfully"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n$ ./bin/emqx_ctl status\nNode "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'emqx@127.0.0.1'")]),s._v(" is started\nemqx "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.3")]),s._v("-beta.1 is running\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);