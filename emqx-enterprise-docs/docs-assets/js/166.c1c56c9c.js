(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{1568:function(e,t,a){"use strict";a.r(t);var s=a(10),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"delayed-publish"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#delayed-publish"}},[e._v("#")]),e._v(" Delayed publish")]),e._v(" "),s("h2",{attrs:{id:"create-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-module"}},[e._v("#")]),e._v(" Create module")]),e._v(" "),s("p",[e._v("Open "),s("a",{attrs:{href:"http://127.0.0.1:18083/#/modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("EMQX Dashboard"),s("OutboundLink")],1),e._v(', click the "Modules" tab on the left, and choose to add:')]),e._v(" "),s("p",[s("img",{attrs:{src:a(391),alt:"image-20200927213049265"}})]),e._v(" "),s("p",[e._v("Select delayed publish module, no need to configure parameters, directly open")]),e._v(" "),s("p",[s("img",{attrs:{src:a(545),alt:"image-20200927213049265"}})]),e._v(" "),s("h2",{attrs:{id:"introduction-to-delayed-publish"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction-to-delayed-publish"}},[e._v("#")]),e._v(" Introduction to delayed publish")]),e._v(" "),s("p",[e._v("The delayed publication function of EMQX can realize the function of delaying the publication of PUBLISH packets according to the time interval configured by the user. When the client uses the special subject prefix "),s("code",[e._v("$delayed/{DelayInteval}")]),e._v(" to publish messages to EMQX, the delayed publishing function will be triggered.")]),e._v(" "),s("p",[e._v("The specific format of the delayed publish topic is as follows:")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$delayed")]),e._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("DelayInterval"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("TopicName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("-"),s("code",[e._v("$delayed")]),e._v(": All messages that use "),s("code",[e._v("$delay")]),e._v(" as the subject prefix will be regarded as messages that need to be delayed. The delay interval is determined by the content in the next topic level.\n-"),s("code",[e._v("{DelayInterval}")]),e._v(": Specify the time interval for delaying the publication of this MQTT message, in seconds. The maximum allowed interval is 4294967 seconds. If "),s("code",[e._v("{DelayInterval}")]),e._v(" cannot be parsed as an integer number, EMQX will discard the message and the client will not receive any information.\n-"),s("code",[e._v("{TopicName}")]),e._v(": Topic name of MQTT message.")]),e._v(" "),s("p",[e._v("E.g:")]),e._v(" "),s("p",[e._v("-"),s("code",[e._v("$delayed/15/x/y")]),e._v(": Publish the MQTT message to topic "),s("code",[e._v("x/y")]),e._v(" after 15 seconds.\n-"),s("code",[e._v("$delayed/60/a/b")]),e._v(": Publish MQTT message to Ê»a/b"),s("code",[e._v("in 1 minute. -")]),e._v("$delayed/3600/$SYS/topic"),s("code",[e._v(": MQTT messages will be published to")]),e._v("$SYS/topic` in 1 hour.")])])}),[],!1,null,null,null);t.default=n.exports},391:function(e,t,a){e.exports=a.p+"docs-assets/img/modules.1814040c.png"},545:function(e,t,a){e.exports=a.p+"docs-assets/img/delay_publish.cde19e6f.png"}}]);