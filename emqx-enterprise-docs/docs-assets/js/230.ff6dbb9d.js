(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{1491:function(t,e,s){"use strict";s.r(e);var i=s(10),v=Object(i.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"exclusive-subscription"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exclusive-subscription"}},[t._v("#")]),t._v(" Exclusive subscription")]),t._v(" "),s("p",[t._v("The exclusive subscription allows mutually exclusive subscriptions to topics. Only one subscriber is allowed to subscribe to a topic at a time. Other subscribers will not be able to subscribe to the corresponding topic until the current subscriber unsubscribe the subscription.")]),t._v(" "),s("p",[t._v("The prefix and example of exclusive subscriptions:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Example")]),t._v(" "),s("th",[t._v("Prefix")]),t._v(" "),s("th",[t._v("Real Topic Name")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("$exclusive/t/1")]),t._v(" "),s("td",[t._v("$exclusive/")]),t._v(" "),s("td",[t._v("t/1")])])])]),t._v(" "),s("p",[t._v("When a client "),s("strong",[t._v("A")]),t._v(" subscribes to "),s("code",[t._v("$exclusive/t/1")]),t._v(", other clients will fail to subscribe to "),s("code",[t._v("$exclusive/t/1")]),t._v(" until "),s("strong",[t._v("A")]),t._v(" cancels the subscription to "),s("code",[t._v("$exclusive/t/1")]),t._v(" .")]),t._v(" "),s("p",[s("strong",[t._v("Note")]),t._v(": Exclusive subscriptions must be prefixed with "),s("code",[t._v("$exclusive/")]),t._v(", in the above example, other clients can still successfully subscribe via "),s("code",[t._v("t/1")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"subscription-error-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#subscription-error-code"}},[t._v("#")]),t._v(" Subscription error code")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Code")]),t._v(" "),s("th",[t._v("Reason")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0x8F")]),t._v(" "),s("td",[t._v("use "),s("code",[t._v("$exclusive/")]),t._v(" without exclusive subscription enable")])]),t._v(" "),s("tr",[s("td",[t._v("0x97")]),t._v(" "),s("td",[t._v("A client has already subscribed to this topic")])])])]),t._v(" "),s("h2",{attrs:{id:"configuration-settings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration-settings"}},[t._v("#")]),t._v(" Configuration settings")]),t._v(" "),s("p",[t._v("Exclusive subscription is disabled by default and can be configured in "),s("code",[t._v("etc/emqx.conf")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("configuration")]),t._v(" "),s("th",[t._v("type")]),t._v(" "),s("th",[t._v("default")]),t._v(" "),s("th",[t._v("description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mqtt.exclusive_subscription")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("default switch for exclusive subscription")])]),t._v(" "),s("tr",[s("td",[t._v("zone.external.exclusive_subscription")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("not set")]),t._v(" "),s("td",[t._v("switch for exclusive subscription on external zone")])]),t._v(" "),s("tr",[s("td",[t._v("zone.internal.exclusive_subscription")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("not set")]),t._v(" "),s("td",[t._v("switch for exclusive subscription on internal zone")])])])]),t._v(" "),s("p",[t._v("If the value of "),s("code",[t._v("exclusive_subscription")]),t._v(" is not set on the zone, EMQX will use "),s("code",[t._v("mqtt.exclusive_subscription")]),t._v(" to determine whether the function is enable.")])])}),[],!1,null,null,null);e.default=v.exports}}]);