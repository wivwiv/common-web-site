(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{1495:function(e,t,s){"use strict";s.r(t);var a=s(10),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"internal-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#internal-modules"}},[e._v("#")]),e._v(" Internal Modules")]),e._v(" "),s("p",[e._v("EMQX provides features such as topic rewrit and proxy subscriptions in the form of internal modules, allowing users to start and stop modules at any time to start and stop corresponding features. The internal modules currently support the following features:")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Module Name")]),e._v(" "),s("th",[e._v("Feature")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[s("code",[e._v("emqx_mod_delayed")])]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/delay-publish.html"}},[e._v("Delay Publish")])],1)]),e._v(" "),s("tr",[s("td",[s("code",[e._v("emqx_mod_topic_metrics")])]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/metrics-and-stats.html"}},[e._v("Topic Metrics")])],1)]),e._v(" "),s("tr",[s("td",[s("code",[e._v("emqx_mod_subscription")])]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/proxy-subscriptions.html"}},[e._v("Proxy Subscriptions")])],1)]),e._v(" "),s("tr",[s("td",[s("code",[e._v("emqx_mod_acl_internal")])]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/acl-file.html"}},[e._v("Internal ACL")])],1)]),e._v(" "),s("tr",[s("td",[s("code",[e._v("emqx_mod_rewrite")])]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/topic-rewrite.html"}},[e._v("Topic Rewrite")])],1)]),e._v(" "),s("tr",[s("td",[s("code",[e._v("emqx_mod_presence")])]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/system-topic.html"}},[e._v("Client Online and Offline Events")])],1)])])]),e._v(" "),s("p",[e._v("EMQX provides "),s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/cli.html#endpoint-modules"}},[e._v("Command Line Interface")]),e._v(" and "),s("RouterLink",{attrs:{to:"/en/enterprise/latest/advanced/http-api.html#endpoint-modules"}},[e._v("HTTP API")]),e._v(" for internal modules, users can easily pass these interfaces to start and stop modules, for example:")],1),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ ./emqx_ctl modules load emqx_mod_delayed\nModule emqx_mod_delayed loaded successfully.\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -i --basic -u admin:public -X PUT "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/modules/emqx_mod_delayed/load"')]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"code"')]),e._v(":0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("Of course, users can also complete these operations on the Dashboard, including viewing module status, which is also more commonly used.")]),e._v(" "),s("p",[e._v("By default, EMQX will start the two modules "),s("code",[e._v("emqx_mod_acl_internal")]),e._v(" and "),s("code",[e._v("emqx_mod_presence")]),e._v(", that is, the internal ACL and client online and offline notification features are enabled by default. Users can modify the "),s("code",[e._v("loaded_modules")]),e._v(" file in the EMQX "),s("code",[e._v("data")]),e._v(" directory to change the default startup modules.")]),e._v(" "),s("p",[s("em",[s("strong",[e._v("Does not start by default")])])]),e._v(" "),s("div",{staticClass:"language-erlang line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-erlang"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token atom"}},[e._v("emqx_mod_rewrite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("em",[s("strong",[e._v("Start by default")])])]),e._v(" "),s("div",{staticClass:"language-erlang line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-erlang"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token atom"}},[e._v("emqx_mod_rewrite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);